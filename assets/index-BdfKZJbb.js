(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function a1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ay={exports:{}},Xl={},ly={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),l1=Symbol.for("react.portal"),u1=Symbol.for("react.fragment"),c1=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),g1=Symbol.for("react.memo"),y1=Symbol.for("react.lazy"),Ep=Symbol.iterator;function v1(t){return t===null||typeof t!="object"?null:(t=Ep&&t[Ep]||t["@@iterator"],typeof t=="function"?t:null)}var uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cy=Object.assign,dy={};function ai(t,e,n){this.props=t,this.context=e,this.refs=dy,this.updater=n||uy}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hy(){}hy.prototype=ai.prototype;function Wd(t,e,n){this.props=t,this.context=e,this.refs=dy,this.updater=n||uy}var qd=Wd.prototype=new hy;qd.constructor=Wd;cy(qd,ai.prototype);qd.isPureReactComponent=!0;var Tp=Array.isArray,fy=Object.prototype.hasOwnProperty,Qd={current:null},py={key:!0,ref:!0,__self:!0,__source:!0};function my(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)fy.call(e,r)&&!py.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:$o,type:t,key:i,ref:o,props:s,_owner:Qd.current}}function A1(t,e){return{$$typeof:$o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jd(t){return typeof t=="object"&&t!==null&&t.$$typeof===$o}function x1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Np=/\/+/g;function Gu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x1(""+t.key):e.toString(36)}function Fa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $o:case l1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gu(o,0):r,Tp(s)?(n="",t!=null&&(n=t.replace(Np,"$&/")+"/"),Fa(s,e,n,"",function(h){return h})):s!=null&&(Jd(s)&&(s=A1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Np,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Tp(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Gu(i,l);o+=Fa(i,e,n,c,s)}else if(c=v1(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Gu(i,l++),o+=Fa(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ya(t,e,n){if(t==null)return t;var r=[],s=0;return Fa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},Ha={transition:null},w1={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:Ha,ReactCurrentOwner:Qd};function gy(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ya,forEach:function(t,e,n){ya(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ya(t,function(){e++}),e},toArray:function(t){return ya(t,function(e){return e})||[]},only:function(t){if(!Jd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ai;oe.Fragment=u1;oe.Profiler=d1;oe.PureComponent=Wd;oe.StrictMode=c1;oe.Suspense=m1;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1;oe.act=gy;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)fy.call(e,c)&&!py.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:$o,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:f1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h1,_context:t},t.Consumer=t};oe.createElement=my;oe.createFactory=function(t){var e=my.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:p1,render:t}};oe.isValidElement=Jd;oe.lazy=function(t){return{$$typeof:y1,_payload:{_status:-1,_result:t},_init:_1}};oe.memo=function(t,e){return{$$typeof:g1,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Ha.transition;Ha.transition={};try{t()}finally{Ha.transition=e}};oe.unstable_act=gy;oe.useCallback=function(t,e){return wt.current.useCallback(t,e)};oe.useContext=function(t){return wt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return wt.current.useEffect(t,e)};oe.useId=function(){return wt.current.useId()};oe.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return wt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};oe.useRef=function(t){return wt.current.useRef(t)};oe.useState=function(t){return wt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return wt.current.useTransition()};oe.version="18.3.1";ly.exports=oe;var b=ly.exports;const yy=a1(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=b,T1=Symbol.for("react.element"),N1=Symbol.for("react.fragment"),R1=Object.prototype.hasOwnProperty,I1=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S1={key:!0,ref:!0,__self:!0,__source:!0};function vy(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R1.call(e,r)&&!S1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:T1,type:t,key:i,ref:o,props:s,_owner:I1.current}}Xl.Fragment=N1;Xl.jsx=vy;Xl.jsxs=vy;ay.exports=Xl;var u=ay.exports,bc={},Ay={exports:{}},Kt={},xy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var ee=B.length;B.push(Q);e:for(;0<ee;){var ge=ee-1>>>1,ce=B[ge];if(0<s(ce,Q))B[ge]=Q,B[ee]=ce,ee=ge;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],ee=B.pop();if(ee!==Q){B[0]=ee;e:for(var ge=0,ce=B.length,ae=ce>>>1;ge<ae;){var De=2*(ge+1)-1,Xt=B[De],vt=De+1,Bt=B[vt];if(0>s(Xt,ee))vt<ce&&0>s(Bt,Xt)?(B[ge]=Bt,B[vt]=ee,ge=vt):(B[ge]=Xt,B[De]=ee,ge=De);else if(vt<ce&&0>s(Bt,ee))B[ge]=Bt,B[vt]=ee,ge=vt;else break e}}return Q}function s(B,Q){var ee=B.sortIndex-Q.sortIndex;return ee!==0?ee:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],p=1,m=null,g=3,T=!1,S=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=B)r(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(h)}}function O(B){if(C=!1,N(B),!S)if(n(c)!==null)S=!0,kt(U);else{var Q=n(h);Q!==null&&Ht(O,Q.startTime-B)}}function U(B,Q){S=!1,C&&(C=!1,w(A),A=-1),T=!0;var ee=g;try{for(N(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||B&&!I());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,g=m.priorityLevel;var ce=ge(m.expirationTime<=Q);Q=t.unstable_now(),typeof ce=="function"?m.callback=ce:m===n(c)&&r(c),N(Q)}else r(c);m=n(c)}if(m!==null)var ae=!0;else{var De=n(h);De!==null&&Ht(O,De.startTime-Q),ae=!1}return ae}finally{m=null,g=ee,T=!1}}var K=!1,_=null,A=-1,x=5,R=-1;function I(){return!(t.unstable_now()-R<x)}function P(){if(_!==null){var B=t.unstable_now();R=B;var Q=!0;try{Q=_(!0,B)}finally{Q?E():(K=!1,_=null)}}else K=!1}var E;if(typeof v=="function")E=function(){v(P)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,tt=Ne.port2;Ne.port1.onmessage=P,E=function(){tt.postMessage(null)}}else E=function(){M(P,0)};function kt(B){_=B,K||(K=!0,E())}function Ht(B,Q){A=M(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,kt(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ee=g;g=Q;try{return B()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=g;g=B;try{return Q()}finally{g=ee}},t.unstable_scheduleCallback=function(B,Q,ee){var ge=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,B){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,B={id:p++,callback:Q,priorityLevel:B,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ge?(B.sortIndex=ee,e(h,B),n(c)===null&&B===n(h)&&(C?(w(A),A=-1):C=!0,Ht(O,ee-ge))):(B.sortIndex=ce,e(c,B),S||T||(S=!0,kt(U))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var Q=g;return function(){var ee=g;g=Q;try{return B.apply(this,arguments)}finally{g=ee}}}})(_y);xy.exports=_y;var C1=xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=b,Ut=C1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wy=new Set,go={};function os(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(go[t]=e,t=0;t<e.length;t++)wy.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=Object.prototype.hasOwnProperty,b1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rp={},Ip={};function k1(t){return kc.call(Ip,t)?!0:kc.call(Rp,t)?!1:b1.test(t)?Ip[t]=!0:(Rp[t]=!0,!1)}function L1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M1(t,e,n,r){if(e===null||typeof e>"u"||L1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zd=/[\-:]([a-z])/g;function Xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zd,Xd);ut[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zd,Xd);ut[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zd,Xd);ut[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function eh(t,e,n,r){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M1(e,n,s,r)&&(n=null),r||s===null?k1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bn=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),Ny=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function Mi(t){return t===null||typeof t!="object"?null:(t=Sp&&t[Sp]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Wu;function $i(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||""}return`
`+Wu+t}var qu=!1;function Qu(t,e){if(!t||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$i(t):""}function D1(t){switch(t.tag){case 5:return $i(t.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return t=Qu(t.type,!1),t;case 11:return t=Qu(t.type.render,!1),t;case 1:return t=Qu(t.type,!0),t;default:return""}}function Oc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Ts:return"Portal";case Lc:return"Profiler";case th:return"StrictMode";case Mc:return"Suspense";case Dc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ty:return(t.displayName||"Context")+".Consumer";case Ey:return(t._context.displayName||"Context")+".Provider";case nh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:Oc(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return Oc(t(e))}catch{}}return null}function O1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oc(e);case 8:return e===th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V1(t){var e=Ry(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=V1(t))}function Iy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ry(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vc(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sy(t,e){e=e.checked,e!=null&&eh(t,"checked",e,!1)}function jc(t,e){Sy(t,e);var n=vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uc(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uc(t,e,n){(e!=="number"||ll(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yi=Array.isArray;function Os(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Yi(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function Cy(t,e){var n=vr(e.value),r=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Py(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Py(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,by=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j1=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(t){j1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xi[e]=Xi[t]})});function ky(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xi.hasOwnProperty(t)&&Xi[t]?(""+e).trim():e+"px"}function Ly(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ky(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var U1=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hc(t,e){if(e){if(U1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Bc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function sh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $c=null,Vs=null,js=null;function Lp(t){if(t=Wo(t)){if(typeof $c!="function")throw Error(F(280));var e=t.stateNode;e&&(e=su(e),$c(t.stateNode,t.type,e))}}function My(t){Vs?js?js.push(t):js=[t]:Vs=t}function Dy(){if(Vs){var t=Vs,e=js;if(js=Vs=null,Lp(t),e)for(t=0;t<e.length;t++)Lp(e[t])}}function Oy(t,e){return t(e)}function Vy(){}var Ju=!1;function jy(t,e,n){if(Ju)return t(e,n);Ju=!0;try{return Oy(t,e,n)}finally{Ju=!1,(Vs!==null||js!==null)&&(Vy(),Dy())}}function vo(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Yc=!1;if(Dn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Yc=!1}function K1(t,e,n,r,s,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var eo=!1,ul=null,cl=!1,Gc=null,F1={onError:function(t){eo=!0,ul=t}};function H1(t,e,n,r,s,i,o,l,c){eo=!1,ul=null,K1.apply(F1,arguments)}function B1(t,e,n,r,s,i,o,l,c){if(H1.apply(this,arguments),eo){if(eo){var h=ul;eo=!1,ul=null}else throw Error(F(198));cl||(cl=!0,Gc=h)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mp(t){if(as(t)!==t)throw Error(F(188))}function z1(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Mp(s),t;if(i===r)return Mp(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Ky(t){return t=z1(t),t!==null?Fy(t):null}function Fy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fy(t);if(e!==null)return e;t=t.sibling}return null}var Hy=Ut.unstable_scheduleCallback,Dp=Ut.unstable_cancelCallback,$1=Ut.unstable_shouldYield,Y1=Ut.unstable_requestPaint,Ue=Ut.unstable_now,G1=Ut.unstable_getCurrentPriorityLevel,ih=Ut.unstable_ImmediatePriority,By=Ut.unstable_UserBlockingPriority,dl=Ut.unstable_NormalPriority,W1=Ut.unstable_LowPriority,zy=Ut.unstable_IdlePriority,eu=null,An=null;function q1(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Z1,Q1=Math.log,J1=Math.LN2;function Z1(t){return t>>>=0,t===0?32:31-(Q1(t)/J1|0)|0}var _a=64,wa=4194304;function Gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Gi(l):(i&=o,i!==0&&(r=Gi(i)))}else o=n&~s,o!==0?r=Gi(o):i!==0&&(r=Gi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),s=1<<n,r|=t[n],e&=~s;return r}function X1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ln(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=X1(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $y(){var t=_a;return _a<<=1,!(_a&4194240)&&(_a=64),t}function Zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function t_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ln(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function oh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function Yy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gy,ah,Wy,qy,Qy,qc=!1,Ea=[],or=null,ar=null,lr=null,Ao=new Map,xo=new Map,tr=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ao.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(e.pointerId)}}function Oi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wo(e),e!==null&&ah(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function r_(t,e,n,r,s){switch(e){case"focusin":return or=Oi(or,t,e,n,r,s),!0;case"dragenter":return ar=Oi(ar,t,e,n,r,s),!0;case"mouseover":return lr=Oi(lr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ao.set(i,Oi(Ao.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xo.set(i,Oi(xo.get(i)||null,t,e,n,r,s)),!0}return!1}function Jy(t){var e=Hr(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=Uy(n),e!==null){t.blockedOn=e,Qy(t.priority,function(){Wy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ba(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zc=r,n.target.dispatchEvent(r),zc=null}else return e=Wo(n),e!==null&&ah(e),t.blockedOn=n,!1;e.shift()}return!0}function Vp(t,e,n){Ba(t)&&n.delete(e)}function s_(){qc=!1,or!==null&&Ba(or)&&(or=null),ar!==null&&Ba(ar)&&(ar=null),lr!==null&&Ba(lr)&&(lr=null),Ao.forEach(Vp),xo.forEach(Vp)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,qc||(qc=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,s_)))}function _o(t){function e(s){return Vi(s,t)}if(0<Ea.length){Vi(Ea[0],t);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(or!==null&&Vi(or,t),ar!==null&&Vi(ar,t),lr!==null&&Vi(lr,t),Ao.forEach(e),xo.forEach(e),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)Jy(n),n.blockedOn===null&&tr.shift()}var Us=Bn.ReactCurrentBatchConfig,fl=!0;function i_(t,e,n,r){var s=Ae,i=Us.transition;Us.transition=null;try{Ae=1,lh(t,e,n,r)}finally{Ae=s,Us.transition=i}}function o_(t,e,n,r){var s=Ae,i=Us.transition;Us.transition=null;try{Ae=4,lh(t,e,n,r)}finally{Ae=s,Us.transition=i}}function lh(t,e,n,r){if(fl){var s=Qc(t,e,n,r);if(s===null)lc(t,e,r,pl,n),Op(t,r);else if(r_(s,t,e,n,r))r.stopPropagation();else if(Op(t,r),e&4&&-1<n_.indexOf(t)){for(;s!==null;){var i=Wo(s);if(i!==null&&Gy(i),i=Qc(t,e,n,r),i===null&&lc(t,e,r,pl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lc(t,e,r,null,n)}}var pl=null;function Qc(t,e,n,r){if(pl=null,t=sh(r),t=Hr(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pl=t,null}function Zy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G1()){case ih:return 1;case By:return 4;case dl:case W1:return 16;case zy:return 536870912;default:return 16}default:return 16}}var rr=null,uh=null,za=null;function Xy(){if(za)return za;var t,e=uh,n=e.length,r,s="value"in rr?rr.value:rr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return za=s.slice(t,1<r?1-r:void 0)}function $a(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ta(){return!0}function jp(){return!1}function Ft(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ta:jp,this.isPropagationStopped=jp,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Ft(li),Go=Le({},li,{view:0,detail:0}),a_=Ft(Go),Xu,ec,ji,tu=Le({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Xu=t.screenX-ji.screenX,ec=t.screenY-ji.screenY):ec=Xu=0,ji=t),Xu)},movementY:function(t){return"movementY"in t?t.movementY:ec}}),Up=Ft(tu),l_=Le({},tu,{dataTransfer:0}),u_=Ft(l_),c_=Le({},Go,{relatedTarget:0}),tc=Ft(c_),d_=Le({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),h_=Ft(d_),f_=Le({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p_=Ft(f_),m_=Le({},li,{data:0}),Kp=Ft(m_),g_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v_[t])?!!e[t]:!1}function dh(){return A_}var x_=Le({},Go,{key:function(t){if(t.key){var e=g_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),__=Ft(x_),w_=Le({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=Ft(w_),E_=Le({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),T_=Ft(E_),N_=Le({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),R_=Ft(N_),I_=Le({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S_=Ft(I_),C_=[9,13,27,32],hh=Dn&&"CompositionEvent"in window,to=null;Dn&&"documentMode"in document&&(to=document.documentMode);var P_=Dn&&"TextEvent"in window&&!to,e0=Dn&&(!hh||to&&8<to&&11>=to),Hp=" ",Bp=!1;function t0(t,e){switch(t){case"keyup":return C_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function b_(t,e){switch(t){case"compositionend":return n0(e);case"keypress":return e.which!==32?null:(Bp=!0,Hp);case"textInput":return t=e.data,t===Hp&&Bp?null:t;default:return null}}function k_(t,e){if(Rs)return t==="compositionend"||!hh&&t0(t,e)?(t=Xy(),za=uh=rr=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e0&&e.locale!=="ko"?null:e.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L_[t.type]:e==="textarea"}function r0(t,e,n,r){My(r),e=ml(e,"onChange"),0<e.length&&(n=new ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var no=null,wo=null;function M_(t){p0(t,0)}function nu(t){var e=Cs(t);if(Iy(e))return t}function D_(t,e){if(t==="change")return e}var s0=!1;if(Dn){var nc;if(Dn){var rc="oninput"in document;if(!rc){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),rc=typeof $p.oninput=="function"}nc=rc}else nc=!1;s0=nc&&(!document.documentMode||9<document.documentMode)}function Yp(){no&&(no.detachEvent("onpropertychange",i0),wo=no=null)}function i0(t){if(t.propertyName==="value"&&nu(wo)){var e=[];r0(e,wo,t,sh(t)),jy(M_,e)}}function O_(t,e,n){t==="focusin"?(Yp(),no=e,wo=n,no.attachEvent("onpropertychange",i0)):t==="focusout"&&Yp()}function V_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(wo)}function j_(t,e){if(t==="click")return nu(e)}function U_(t,e){if(t==="input"||t==="change")return nu(e)}function K_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:K_;function Eo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kc.call(e,s)||!dn(t[s],e[s]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,e){var n=Gp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gp(n)}}function o0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a0(){for(var t=window,e=ll();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ll(t.document)}return e}function fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F_(t){var e=a0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&o0(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wp(n,i);var o=Wp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H_=Dn&&"documentMode"in document&&11>=document.documentMode,Is=null,Jc=null,ro=null,Zc=!1;function qp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zc||Is==null||Is!==ll(r)||(r=Is,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&Eo(ro,r)||(ro=r,r=ml(Jc,"onSelect"),0<r.length&&(e=new ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function Na(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},sc={},l0={};Dn&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function ru(t){if(sc[t])return sc[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l0)return sc[t]=e[n];return t}var u0=ru("animationend"),c0=ru("animationiteration"),d0=ru("animationstart"),h0=ru("transitionend"),f0=new Map,Qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){f0.set(t,e),os(e,[t])}for(var ic=0;ic<Qp.length;ic++){var oc=Qp[ic],B_=oc.toLowerCase(),z_=oc[0].toUpperCase()+oc.slice(1);Rr(B_,"on"+z_)}Rr(u0,"onAnimationEnd");Rr(c0,"onAnimationIteration");Rr(d0,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(h0,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function Jp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,B1(r,e,void 0,t),t.currentTarget=null}function p0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Jp(s,l,h),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Jp(s,l,h),i=c}}}if(cl)throw t=Gc,cl=!1,Gc=null,t}function Ie(t,e){var n=e[rd];n===void 0&&(n=e[rd]=new Set);var r=t+"__bubble";n.has(r)||(m0(e,t,2,!1),n.add(r))}function ac(t,e,n){var r=0;e&&(r|=4),m0(n,t,r,e)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Ra]){t[Ra]=!0,wy.forEach(function(n){n!=="selectionchange"&&($_.has(n)||ac(n,!1,t),ac(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ra]||(e[Ra]=!0,ac("selectionchange",!1,e))}}function m0(t,e,n,r){switch(Zy(e)){case 1:var s=i_;break;case 4:s=o_;break;default:s=lh}n=s.bind(null,e,n,t),s=void 0,!Yc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}jy(function(){var h=i,p=sh(n),m=[];e:{var g=f0.get(t);if(g!==void 0){var T=ch,S=t;switch(t){case"keypress":if($a(n)===0)break e;case"keydown":case"keyup":T=__;break;case"focusin":S="focus",T=tc;break;case"focusout":S="blur",T=tc;break;case"beforeblur":case"afterblur":T=tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=T_;break;case u0:case c0:case d0:T=h_;break;case h0:T=R_;break;case"scroll":T=a_;break;case"wheel":T=S_;break;case"copy":case"cut":case"paste":T=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Fp}var C=(e&4)!==0,M=!C&&t==="scroll",w=C?g!==null?g+"Capture":null:g;C=[];for(var v=h,N;v!==null;){N=v;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,w!==null&&(O=vo(v,w),O!=null&&C.push(No(v,O,N)))),M)break;v=v.return}0<C.length&&(g=new T(g,S,null,n,p),m.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==zc&&(S=n.relatedTarget||n.fromElement)&&(Hr(S)||S[On]))break e;if((T||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,T?(S=n.relatedTarget||n.toElement,T=h,S=S?Hr(S):null,S!==null&&(M=as(S),S!==M||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=h),T!==S)){if(C=Up,O="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(C=Fp,O="onPointerLeave",w="onPointerEnter",v="pointer"),M=T==null?g:Cs(T),N=S==null?g:Cs(S),g=new C(O,v+"leave",T,n,p),g.target=M,g.relatedTarget=N,O=null,Hr(p)===h&&(C=new C(w,v+"enter",S,n,p),C.target=N,C.relatedTarget=M,O=C),M=O,T&&S)t:{for(C=T,w=S,v=0,N=C;N;N=ys(N))v++;for(N=0,O=w;O;O=ys(O))N++;for(;0<v-N;)C=ys(C),v--;for(;0<N-v;)w=ys(w),N--;for(;v--;){if(C===w||w!==null&&C===w.alternate)break t;C=ys(C),w=ys(w)}C=null}else C=null;T!==null&&Zp(m,g,T,C,!1),S!==null&&M!==null&&Zp(m,M,S,C,!0)}}e:{if(g=h?Cs(h):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var U=D_;else if(zp(g))if(s0)U=U_;else{U=V_;var K=O_}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=j_);if(U&&(U=U(t,h))){r0(m,U,n,p);break e}K&&K(t,g,h),t==="focusout"&&(K=g._wrapperState)&&K.controlled&&g.type==="number"&&Uc(g,"number",g.value)}switch(K=h?Cs(h):window,t){case"focusin":(zp(K)||K.contentEditable==="true")&&(Is=K,Jc=h,ro=null);break;case"focusout":ro=Jc=Is=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,qp(m,n,p);break;case"selectionchange":if(H_)break;case"keydown":case"keyup":qp(m,n,p)}var _;if(hh)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Rs?t0(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(e0&&n.locale!=="ko"&&(Rs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Rs&&(_=Xy()):(rr=p,uh="value"in rr?rr.value:rr.textContent,Rs=!0)),K=ml(h,A),0<K.length&&(A=new Kp(A,t,null,n,p),m.push({event:A,listeners:K}),_?A.data=_:(_=n0(n),_!==null&&(A.data=_)))),(_=P_?b_(t,n):k_(t,n))&&(h=ml(h,"onBeforeInput"),0<h.length&&(p=new Kp("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=_))}p0(m,e)})}function No(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ml(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vo(t,n),i!=null&&r.unshift(No(t,i,s)),i=vo(t,e),i!=null&&r.push(No(t,i,s))),t=t.return}return r}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,s?(c=vo(n,i),c!=null&&o.unshift(No(n,c,l))):s||(c=vo(n,i),c!=null&&o.push(No(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Y_=/\r\n?/g,G_=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(Y_,`
`).replace(G_,"")}function Ia(t,e,n){if(e=Xp(e),Xp(t)!==e&&n)throw Error(F(425))}function gl(){}var Xc=null,ed=null;function td(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(t){return em.resolve(null).then(t).catch(Q_)}:nd;function Q_(t){setTimeout(function(){throw t})}function uc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_o(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),vn="__reactFiber$"+ui,Ro="__reactProps$"+ui,On="__reactContainer$"+ui,rd="__reactEvents$"+ui,J_="__reactListeners$"+ui,Z_="__reactHandles$"+ui;function Hr(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tm(t);t!==null;){if(n=t[vn])return n;t=tm(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[vn]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function su(t){return t[Ro]||null}var sd=[],Ps=-1;function Ir(t){return{current:t}}function Ce(t){0>Ps||(t.current=sd[Ps],sd[Ps]=null,Ps--)}function Te(t,e){Ps++,sd[Ps]=t.current,t.current=e}var Ar={},yt=Ir(Ar),Ct=Ir(!1),Xr=Ar;function Gs(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function yl(){Ce(Ct),Ce(yt)}function nm(t,e,n){if(yt.current!==Ar)throw Error(F(168));Te(yt,e),Te(Ct,n)}function g0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,O1(t)||"Unknown",s));return Le({},n,r)}function vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,Xr=yt.current,Te(yt,t),Te(Ct,Ct.current),!0}function rm(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=g0(t,e,Xr),r.__reactInternalMemoizedMergedChildContext=t,Ce(Ct),Ce(yt),Te(yt,t)):Ce(Ct),Te(Ct,n)}var Pn=null,iu=!1,cc=!1;function y0(t){Pn===null?Pn=[t]:Pn.push(t)}function X_(t){iu=!0,y0(t)}function Sr(){if(!cc&&Pn!==null){cc=!0;var t=0,e=Ae;try{var n=Pn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,iu=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(t+1)),Hy(ih,Sr),s}finally{Ae=e,cc=!1}}return null}var bs=[],ks=0,Al=null,xl=0,$t=[],Yt=0,es=null,bn=1,kn="";function Ur(t,e){bs[ks++]=xl,bs[ks++]=Al,Al=t,xl=e}function v0(t,e,n){$t[Yt++]=bn,$t[Yt++]=kn,$t[Yt++]=es,es=t;var r=bn;t=kn;var s=32-ln(r)-1;r&=~(1<<s),n+=1;var i=32-ln(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bn=1<<32-ln(e)+s|n<<s|r,kn=i+t}else bn=1<<i|n<<s|r,kn=t}function ph(t){t.return!==null&&(Ur(t,1),v0(t,1,0))}function mh(t){for(;t===Al;)Al=bs[--ks],bs[ks]=null,xl=bs[--ks],bs[ks]=null;for(;t===es;)es=$t[--Yt],$t[Yt]=null,kn=$t[--Yt],$t[Yt]=null,bn=$t[--Yt],$t[Yt]=null}var jt=null,Ot=null,Pe=!1,an=null;function A0(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Ot=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:bn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Ot=null,!0):!1;default:return!1}}function id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function od(t){if(Pe){var e=Ot;if(e){var n=e;if(!sm(t,e)){if(id(t))throw Error(F(418));e=ur(n.nextSibling);var r=jt;e&&sm(t,e)?A0(r,n):(t.flags=t.flags&-4097|2,Pe=!1,jt=t)}}else{if(id(t))throw Error(F(418));t.flags=t.flags&-4097|2,Pe=!1,jt=t}}}function im(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Sa(t){if(t!==jt)return!1;if(!Pe)return im(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!td(t.type,t.memoizedProps)),e&&(e=Ot)){if(id(t))throw x0(),Error(F(418));for(;e;)A0(t,e),e=ur(e.nextSibling)}if(im(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=jt?ur(t.stateNode.nextSibling):null;return!0}function x0(){for(var t=Ot;t;)t=ur(t.nextSibling)}function Ws(){Ot=jt=null,Pe=!1}function gh(t){an===null?an=[t]:an.push(t)}var ew=Bn.ReactCurrentBatchConfig;function Ui(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function om(t){var e=t._init;return e(t._payload)}function _0(t){function e(w,v){if(t){var N=w.deletions;N===null?(w.deletions=[v],w.flags|=16):N.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=fr(w,v),w.index=0,w.sibling=null,w}function i(w,v,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<v?(w.flags|=2,v):N):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,N,O){return v===null||v.tag!==6?(v=yc(N,w.mode,O),v.return=w,v):(v=s(v,N),v.return=w,v)}function c(w,v,N,O){var U=N.type;return U===Ns?p(w,v,N.props.children,O,N.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xn&&om(U)===v.type)?(O=s(v,N.props),O.ref=Ui(w,v,N),O.return=w,O):(O=Za(N.type,N.key,N.props,null,w.mode,O),O.ref=Ui(w,v,N),O.return=w,O)}function h(w,v,N,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=vc(N,w.mode,O),v.return=w,v):(v=s(v,N.children||[]),v.return=w,v)}function p(w,v,N,O,U){return v===null||v.tag!==7?(v=Gr(N,w.mode,O,U),v.return=w,v):(v=s(v,N),v.return=w,v)}function m(w,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=yc(""+v,w.mode,N),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case va:return N=Za(v.type,v.key,v.props,null,w.mode,N),N.ref=Ui(w,null,v),N.return=w,N;case Ts:return v=vc(v,w.mode,N),v.return=w,v;case Xn:var O=v._init;return m(w,O(v._payload),N)}if(Yi(v)||Mi(v))return v=Gr(v,w.mode,N,null),v.return=w,v;Ca(w,v)}return null}function g(w,v,N,O){var U=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return U!==null?null:l(w,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case va:return N.key===U?c(w,v,N,O):null;case Ts:return N.key===U?h(w,v,N,O):null;case Xn:return U=N._init,g(w,v,U(N._payload),O)}if(Yi(N)||Mi(N))return U!==null?null:p(w,v,N,O,null);Ca(w,N)}return null}function T(w,v,N,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(N)||null,l(v,w,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case va:return w=w.get(O.key===null?N:O.key)||null,c(v,w,O,U);case Ts:return w=w.get(O.key===null?N:O.key)||null,h(v,w,O,U);case Xn:var K=O._init;return T(w,v,N,K(O._payload),U)}if(Yi(O)||Mi(O))return w=w.get(N)||null,p(v,w,O,U,null);Ca(v,O)}return null}function S(w,v,N,O){for(var U=null,K=null,_=v,A=v=0,x=null;_!==null&&A<N.length;A++){_.index>A?(x=_,_=null):x=_.sibling;var R=g(w,_,N[A],O);if(R===null){_===null&&(_=x);break}t&&_&&R.alternate===null&&e(w,_),v=i(R,v,A),K===null?U=R:K.sibling=R,K=R,_=x}if(A===N.length)return n(w,_),Pe&&Ur(w,A),U;if(_===null){for(;A<N.length;A++)_=m(w,N[A],O),_!==null&&(v=i(_,v,A),K===null?U=_:K.sibling=_,K=_);return Pe&&Ur(w,A),U}for(_=r(w,_);A<N.length;A++)x=T(_,w,A,N[A],O),x!==null&&(t&&x.alternate!==null&&_.delete(x.key===null?A:x.key),v=i(x,v,A),K===null?U=x:K.sibling=x,K=x);return t&&_.forEach(function(I){return e(w,I)}),Pe&&Ur(w,A),U}function C(w,v,N,O){var U=Mi(N);if(typeof U!="function")throw Error(F(150));if(N=U.call(N),N==null)throw Error(F(151));for(var K=U=null,_=v,A=v=0,x=null,R=N.next();_!==null&&!R.done;A++,R=N.next()){_.index>A?(x=_,_=null):x=_.sibling;var I=g(w,_,R.value,O);if(I===null){_===null&&(_=x);break}t&&_&&I.alternate===null&&e(w,_),v=i(I,v,A),K===null?U=I:K.sibling=I,K=I,_=x}if(R.done)return n(w,_),Pe&&Ur(w,A),U;if(_===null){for(;!R.done;A++,R=N.next())R=m(w,R.value,O),R!==null&&(v=i(R,v,A),K===null?U=R:K.sibling=R,K=R);return Pe&&Ur(w,A),U}for(_=r(w,_);!R.done;A++,R=N.next())R=T(_,w,A,R.value,O),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?A:R.key),v=i(R,v,A),K===null?U=R:K.sibling=R,K=R);return t&&_.forEach(function(P){return e(w,P)}),Pe&&Ur(w,A),U}function M(w,v,N,O){if(typeof N=="object"&&N!==null&&N.type===Ns&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case va:e:{for(var U=N.key,K=v;K!==null;){if(K.key===U){if(U=N.type,U===Ns){if(K.tag===7){n(w,K.sibling),v=s(K,N.props.children),v.return=w,w=v;break e}}else if(K.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xn&&om(U)===K.type){n(w,K.sibling),v=s(K,N.props),v.ref=Ui(w,K,N),v.return=w,w=v;break e}n(w,K);break}else e(w,K);K=K.sibling}N.type===Ns?(v=Gr(N.props.children,w.mode,O,N.key),v.return=w,w=v):(O=Za(N.type,N.key,N.props,null,w.mode,O),O.ref=Ui(w,v,N),O.return=w,w=O)}return o(w);case Ts:e:{for(K=N.key;v!==null;){if(v.key===K)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(w,v.sibling),v=s(v,N.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=vc(N,w.mode,O),v.return=w,w=v}return o(w);case Xn:return K=N._init,M(w,v,K(N._payload),O)}if(Yi(N))return S(w,v,N,O);if(Mi(N))return C(w,v,N,O);Ca(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,N),v.return=w,w=v):(n(w,v),v=yc(N,w.mode,O),v.return=w,w=v),o(w)):n(w,v)}return M}var qs=_0(!0),w0=_0(!1),_l=Ir(null),wl=null,Ls=null,yh=null;function vh(){yh=Ls=wl=null}function Ah(t){var e=_l.current;Ce(_l),t._currentValue=e}function ad(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ks(t,e){wl=t,yh=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(yh!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(wl===null)throw Error(F(308));Ls=t,wl.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Br=null;function xh(t){Br===null?Br=[t]:Br.push(t)}function E0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vn(t,n)}return s=r.interleaved,s===null?(e.next=e,xh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vn(t,n)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}function am(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function El(t,e,n,r){var s=t.updateQueue;er=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,p=h=c=null,l=i;do{var g=l.lane,T=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,C=l;switch(g=e,T=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){m=S.call(T,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,g=typeof S=="function"?S.call(T,m,g):S,g==null)break e;m=Le({},m,g);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else T={eventTime:T,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=T,c=m):p=p.next=T,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(c=m),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=m}}function lm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var qo={},xn=Ir(qo),Io=Ir(qo),So=Ir(qo);function zr(t){if(t===qo)throw Error(F(174));return t}function wh(t,e){switch(Te(So,e),Te(Io,t),Te(xn,qo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fc(e,t)}Ce(xn),Te(xn,e)}function Qs(){Ce(xn),Ce(Io),Ce(So)}function N0(t){zr(So.current);var e=zr(xn.current),n=Fc(e,t.type);e!==n&&(Te(Io,t),Te(xn,n))}function Eh(t){Io.current===t&&(Ce(xn),Ce(Io))}var be=Ir(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dc=[];function Th(){for(var t=0;t<dc.length;t++)dc[t]._workInProgressVersionPrimary=null;dc.length=0}var Ga=Bn.ReactCurrentDispatcher,hc=Bn.ReactCurrentBatchConfig,ts=0,ke=null,Ge=null,Xe=null,Nl=!1,so=!1,Co=0,tw=0;function dt(){throw Error(F(321))}function Nh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function Rh(t,e,n,r,s,i){if(ts=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ga.current=t===null||t.memoizedState===null?iw:ow,t=n(r,s),so){i=0;do{if(so=!1,Co=0,25<=i)throw Error(F(301));i+=1,Xe=Ge=null,e.updateQueue=null,Ga.current=aw,t=n(r,s)}while(so)}if(Ga.current=Rl,e=Ge!==null&&Ge.next!==null,ts=0,Xe=Ge=ke=null,Nl=!1,e)throw Error(F(300));return t}function Ih(){var t=Co!==0;return Co=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ke.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Jt(){if(Ge===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Xe===null?ke.memoizedState:Xe.next;if(e!==null)Xe=e,Ge=t;else{if(t===null)throw Error(F(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Xe===null?ke.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Po(t,e){return typeof e=="function"?e(t):e}function fc(t){var e=Jt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,h=i;do{var p=h.lane;if((ts&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,ke.lanes|=p,ns|=p}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=l,dn(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,ns|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pc(t){var e=Jt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dn(i,e.memoizedState)||(St=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function R0(){}function I0(t,e){var n=ke,r=Jt(),s=e(),i=!dn(r.memoizedState,s);if(i&&(r.memoizedState=s,St=!0),r=r.queue,Sh(P0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,bo(9,C0.bind(null,n,r,s,e),void 0,null),et===null)throw Error(F(349));ts&30||S0(n,e,s)}return s}function S0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C0(t,e,n,r){e.value=n,e.getSnapshot=r,b0(e)&&k0(t)}function P0(t,e,n){return n(function(){b0(e)&&k0(t)})}function b0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function k0(t){var e=Vn(t,1);e!==null&&un(e,t,1,-1)}function um(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},e.queue=t,t=t.dispatch=sw.bind(null,ke,t),[e.memoizedState,t]}function bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L0(){return Jt().memoizedState}function Wa(t,e,n,r){var s=gn();ke.flags|=t,s.memoizedState=bo(1|e,n,void 0,r===void 0?null:r)}function ou(t,e,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&Nh(r,o.deps)){s.memoizedState=bo(e,n,i,r);return}}ke.flags|=t,s.memoizedState=bo(1|e,n,i,r)}function cm(t,e){return Wa(8390656,8,t,e)}function Sh(t,e){return ou(2048,8,t,e)}function M0(t,e){return ou(4,2,t,e)}function D0(t,e){return ou(4,4,t,e)}function O0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V0(t,e,n){return n=n!=null?n.concat([t]):null,ou(4,4,O0.bind(null,e,t),n)}function Ch(){}function j0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K0(t,e,n){return ts&21?(dn(n,e)||(n=$y(),ke.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function nw(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=hc.transition;hc.transition={};try{t(!1),e()}finally{Ae=n,hc.transition=r}}function F0(){return Jt().memoizedState}function rw(t,e,n){var r=hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H0(t))B0(e,n);else if(n=E0(t,e,n,r),n!==null){var s=_t();un(n,t,r,s),z0(n,e,r)}}function sw(t,e,n){var r=hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H0(t))B0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,dn(l,o)){var c=e.interleaved;c===null?(s.next=s,xh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=E0(t,e,s,r),n!==null&&(s=_t(),un(n,t,r,s),z0(n,e,r))}}function H0(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function B0(t,e){so=Nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}var Rl={readContext:Qt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},iw={readContext:Qt,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:cm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,O0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rw.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:um,useDebugValue:Ch,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=um(!1),e=t[0];return t=nw.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=gn();if(Pe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),et===null)throw Error(F(349));ts&30||S0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cm(P0.bind(null,r,i,t),[t]),r.flags|=2048,bo(9,C0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gn(),e=et.identifierPrefix;if(Pe){var n=kn,r=bn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ow={readContext:Qt,useCallback:j0,useContext:Qt,useEffect:Sh,useImperativeHandle:V0,useInsertionEffect:M0,useLayoutEffect:D0,useMemo:U0,useReducer:fc,useRef:L0,useState:function(){return fc(Po)},useDebugValue:Ch,useDeferredValue:function(t){var e=Jt();return K0(e,Ge.memoizedState,t)},useTransition:function(){var t=fc(Po)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:I0,useId:F0,unstable_isNewReconciler:!1},aw={readContext:Qt,useCallback:j0,useContext:Qt,useEffect:Sh,useImperativeHandle:V0,useInsertionEffect:M0,useLayoutEffect:D0,useMemo:U0,useReducer:pc,useRef:L0,useState:function(){return pc(Po)},useDebugValue:Ch,useDeferredValue:function(t){var e=Jt();return Ge===null?e.memoizedState=t:K0(e,Ge.memoizedState,t)},useTransition:function(){var t=pc(Po)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:I0,useId:F0,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ld(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),s=hr(t),i=Ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=cr(t,i,s),e!==null&&(un(e,t,s,r),Ya(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),s=hr(t),i=Ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cr(t,i,s),e!==null&&(un(e,t,s,r),Ya(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=hr(t),s=Ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=cr(t,s,r),e!==null&&(un(e,t,r,n),Ya(e,t,r))}};function dm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Eo(n,r)||!Eo(s,i):!0}function $0(t,e,n){var r=!1,s=Ar,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Pt(e)?Xr:yt.current,r=e.contextTypes,i=(r=r!=null)?Gs(t,s):Ar),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function ud(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},_h(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Pt(e)?Xr:yt.current,s.context=Gs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ld(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&au.enqueueReplaceState(s,s.state,null),El(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Js(t,e){try{var n="",r=e;do n+=D1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function Y0(t,e,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sl||(Sl=!0,xd=r),cd(t,e)},n}function G0(t,e,n){n=Ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){cd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cd(t,e),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ww.bind(null,t,e,n),e.then(t,t))}function pm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ln(-1,1),e.tag=2,cr(n,e,1))),n.lanes|=1),t)}var uw=Bn.ReactCurrentOwner,St=!1;function xt(t,e,n,r){e.child=t===null?w0(e,null,n,r):qs(e,t.child,n,r)}function gm(t,e,n,r,s){n=n.render;var i=e.ref;return Ks(e,s),r=Rh(t,e,n,r,i,s),n=Ih(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Pe&&n&&ph(e),e.flags|=1,xt(t,e,r,s),e.child)}function ym(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W0(t,e,i,r,s)):(t=Za(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(o,r)&&t.ref===e.ref)return jn(t,e,s)}return e.flags|=1,t=fr(i,r),t.ref=e.ref,t.return=e,e.child=t}function W0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Eo(i,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,jn(t,e,s)}return dd(t,e,n,r,s)}function q0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ds,Dt),Dt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Ds,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Ds,Dt),Dt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Ds,Dt),Dt|=r;return xt(t,e,s,n),e.child}function Q0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dd(t,e,n,r,s){var i=Pt(n)?Xr:yt.current;return i=Gs(e,i),Ks(e,s),n=Rh(t,e,n,r,i,s),r=Ih(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(Pe&&r&&ph(e),e.flags|=1,xt(t,e,n,s),e.child)}function vm(t,e,n,r,s){if(Pt(n)){var i=!0;vl(e)}else i=!1;if(Ks(e,s),e.stateNode===null)qa(t,e),$0(e,n,r),ud(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Qt(h):(h=Pt(n)?Xr:yt.current,h=Gs(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&hm(e,o,r,h),er=!1;var g=e.memoizedState;o.state=g,El(e,r,o,s),c=e.memoizedState,l!==r||g!==c||Ct.current||er?(typeof p=="function"&&(ld(e,n,p,r),c=e.memoizedState),(l=er||dm(e,n,l,r,g,c,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,T0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:sn(e.type,l),o.props=h,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=Pt(n)?Xr:yt.current,c=Gs(e,c));var T=n.getDerivedStateFromProps;(p=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&hm(e,o,r,c),er=!1,g=e.memoizedState,o.state=g,El(e,r,o,s);var S=e.memoizedState;l!==m||g!==S||Ct.current||er?(typeof T=="function"&&(ld(e,n,T,r),S=e.memoizedState),(h=er||dm(e,n,h,r,g,S,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return hd(t,e,n,r,i,s)}function hd(t,e,n,r,s,i){Q0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rm(e,n,!1),jn(t,e,i);r=e.stateNode,uw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,i),e.child=qs(e,null,l,i)):xt(t,e,l,i),e.memoizedState=r.state,s&&rm(e,n,!0),e.child}function J0(t){var e=t.stateNode;e.pendingContext?nm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nm(t,e.context,!1),wh(t,e.containerInfo)}function Am(t,e,n,r,s){return Ws(),gh(s),e.flags|=256,xt(t,e,n,r),e.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function pd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z0(t,e,n){var r=e.pendingProps,s=be.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(be,s&1),t===null)return od(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cu(o,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pd(n),e.memoizedState=fd,t):Ph(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cw(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=fr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fr(l,i):(i=Gr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fd,r}return i=t.child,t=i.sibling,r=fr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ph(t,e){return e=cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,n,r){return r!==null&&gh(r),qs(e,t.child,null,n),t=Ph(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cw(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mc(Error(F(422))),Pa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cu({mode:"visible",children:r.children},s,0,null),i=Gr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=pd(o),e.memoizedState=fd,i);if(!(e.mode&1))return Pa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=mc(i,r,void 0),Pa(t,e,o,r)}if(l=(o&t.childLanes)!==0,St||l){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vn(t,s),un(r,t,s,-1))}return Oh(),r=mc(Error(F(421))),Pa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ew.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ot=ur(s.nextSibling),jt=e,Pe=!0,an=null,t!==null&&($t[Yt++]=bn,$t[Yt++]=kn,$t[Yt++]=es,bn=t.id,kn=t.overflow,es=e),e=Ph(e,r.children),e.flags|=4096,e)}function xm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ad(t.return,e,n)}function gc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function X0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xm(t,n,e);else if(t.tag===19)xm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Tl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gc(e,!0,n,null,i);break;case"together":gc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dw(t,e,n){switch(e.tag){case 3:J0(e),Ws();break;case 5:N0(e);break;case 1:Pt(e.type)&&vl(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(_l,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Z0(t,e,n):(Te(be,be.current&1),t=jn(t,e,n),t!==null?t.sibling:null);Te(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,q0(t,e,n)}return jn(t,e,n)}var ev,md,tv,nv;ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};md=function(){};tv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zr(xn.current);var i=null;switch(n){case"input":s=Vc(t,s),r=Vc(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Kc(t,s),r=Kc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gl)}Hc(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(go.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(go.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ie("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};nv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ki(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hw(t,e,n){var r=e.pendingProps;switch(mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Pt(e.type)&&yl(),ht(e),null;case 3:return r=e.stateNode,Qs(),Ce(Ct),Ce(yt),Th(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(Ed(an),an=null))),md(t,e),ht(e),null;case 5:Eh(e);var s=zr(So.current);if(n=e.type,t!==null&&e.stateNode!=null)tv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return ht(e),null}if(t=zr(xn.current),Sa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vn]=e,r[Ro]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Wi.length;s++)Ie(Wi[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Cp(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":bp(r,i),Ie("invalid",r)}Hc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ia(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ia(r.textContent,l,t),s=["children",""+l]):go.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Aa(r),Pp(r,i,!0);break;case"textarea":Aa(r),kp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Py(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vn]=e,t[Ro]=r,ev(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bc(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wi.length;s++)Ie(Wi[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Cp(t,r),s=Vc(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":bp(t,r),s=Kc(t,r),Ie("invalid",t);break;default:s=r}Hc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ly(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&by(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yo(t,c):typeof c=="number"&&yo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(go.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",t):c!=null&&eh(t,i,c,o))}switch(n){case"input":Aa(t),Pp(t,r,!1);break;case"textarea":Aa(t),kp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Os(t,!!r.multiple,i,!1):r.defaultValue!=null&&Os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)nv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=zr(So.current),zr(xn.current),Sa(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Ia(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ia(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return ht(e),null;case 13:if(Ce(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Ot!==null&&e.mode&1&&!(e.flags&128))x0(),Ws(),e.flags|=98560,i=!1;else if(i=Sa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[vn]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else an!==null&&(Ed(an),an=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?We===0&&(We=3):Oh())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Qs(),md(t,e),t===null&&To(e.stateNode.containerInfo),ht(e),null;case 10:return Ah(e.type._context),ht(e),null;case 17:return Pt(e.type)&&yl(),ht(e),null;case 19:if(Ce(be),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ki(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tl(t),o!==null){for(e.flags|=128,Ki(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>Zs&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304)}else{if(!r)if(t=Tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ht(e),null}else 2*Ue()-i.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=be.current,Te(be,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return Dh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function fw(t,e){switch(mh(e),e.tag){case 1:return Pt(e.type)&&yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Ce(Ct),Ce(yt),Th(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Eh(e),null;case 13:if(Ce(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(be),null;case 4:return Qs(),null;case 10:return Ah(e.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var ba=!1,mt=!1,pw=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function gd(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var _m=!1;function mw(t,e){if(Xc=fl,t=a0(),fh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,p=0,m=t,g=null;t:for(;;){for(var T;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(T=m.firstChild)!==null;)g=m,m=T;for(;;){if(m===t)break t;if(g===n&&++h===s&&(l=o),g===i&&++p===r&&(c=o),(T=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=T}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ed={focusedElem:t,selectionRange:n},fl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,M=S.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?C:sn(e.type,C),M);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(O){Ve(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return S=_m,_m=!1,S}function io(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gd(e,n,i)}s=s.next}while(s!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rv(t){var e=t.alternate;e!==null&&(t.alternate=null,rv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[Ro],delete e[rd],delete e[J_],delete e[Z_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sv(t){return t.tag===5||t.tag===3||t.tag===4}function wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gl));else if(r!==4&&(t=t.child,t!==null))for(vd(t,e,n),t=t.sibling;t!==null;)vd(t,e,n),t=t.sibling}function Ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ad(t,e,n),t=t.sibling;t!==null;)Ad(t,e,n),t=t.sibling}var it=null,on=!1;function Zn(t,e,n){for(n=n.child;n!==null;)iv(t,e,n),n=n.sibling}function iv(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:mt||Ms(n,e);case 6:var r=it,s=on;it=null,Zn(t,e,n),it=r,on=s,it!==null&&(on?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(on?(t=it,n=n.stateNode,t.nodeType===8?uc(t.parentNode,n):t.nodeType===1&&uc(t,n),_o(t)):uc(it,n.stateNode));break;case 4:r=it,s=on,it=n.stateNode.containerInfo,on=!0,Zn(t,e,n),it=r,on=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gd(n,e,o),s=s.next}while(s!==r)}Zn(t,e,n);break;case 1:if(!mt&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ve(n,e,l)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Zn(t,e,n),mt=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function Em(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pw),e.forEach(function(r){var s=Tw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,on=!1;break e;case 3:it=l.stateNode.containerInfo,on=!0;break e;case 4:it=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(it===null)throw Error(F(160));iv(i,o,s),it=null,on=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){Ve(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ov(e,t),e=e.sibling}function ov(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),mn(t),r&4){try{io(3,t,t.return),lu(3,t)}catch(C){Ve(t,t.return,C)}try{io(5,t,t.return)}catch(C){Ve(t,t.return,C)}}break;case 1:rn(e,t),mn(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(rn(e,t),mn(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{yo(s,"")}catch(C){Ve(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sy(s,i),Bc(l,o);var h=Bc(l,i);for(o=0;o<c.length;o+=2){var p=c[o],m=c[o+1];p==="style"?Ly(s,m):p==="dangerouslySetInnerHTML"?by(s,m):p==="children"?yo(s,m):eh(s,p,m,h)}switch(l){case"input":jc(s,i);break;case"textarea":Cy(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var T=i.value;T!=null?Os(s,!!i.multiple,T,!1):g!==!!i.multiple&&(i.defaultValue!=null?Os(s,!!i.multiple,i.defaultValue,!0):Os(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ro]=i}catch(C){Ve(t,t.return,C)}}break;case 6:if(rn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){Ve(t,t.return,C)}}break;case 3:if(rn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(C){Ve(t,t.return,C)}break;case 4:rn(e,t),mn(t);break;case 13:rn(e,t),mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lh=Ue())),r&4&&Em(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(h=mt)||p,rn(e,t),mt=h):rn(e,t),mn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(W=t,p=t.child;p!==null;){for(m=W=p;W!==null;){switch(g=W,T=g.child,g.tag){case 0:case 11:case 14:case 15:io(4,g,g.return);break;case 1:Ms(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){Ve(r,n,C)}}break;case 5:Ms(g,g.return);break;case 22:if(g.memoizedState!==null){Nm(m);continue}}T!==null?(T.return=g,W=T):Nm(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ky("display",o))}catch(C){Ve(t,t.return,C)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(C){Ve(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rn(e,t),mn(t),r&4&&Em(t);break;case 21:break;default:rn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sv(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yo(s,""),r.flags&=-33);var i=wm(t);Ad(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wm(t);vd(t,l,o);break;default:throw Error(F(161))}}catch(c){Ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gw(t,e,n){W=t,av(t)}function av(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ba;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||mt;l=ba;var h=mt;if(ba=o,(mt=c)&&!h)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Rm(s):c!==null?(c.return=o,W=c):Rm(s);for(;i!==null;)W=i,av(i),i=i.sibling;W=s,ba=l,mt=h}Tm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Tm(t)}}function Tm(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&_o(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}mt||e.flags&512&&yd(e)}catch(g){Ve(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Nm(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Rm(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(c){Ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ve(e,s,c)}}var i=e.return;try{yd(e)}catch(c){Ve(e,i,c)}break;case 5:var o=e.return;try{yd(e)}catch(c){Ve(e,o,c)}}}catch(c){Ve(e,e.return,c)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var yw=Math.ceil,Il=Bn.ReactCurrentDispatcher,bh=Bn.ReactCurrentOwner,qt=Bn.ReactCurrentBatchConfig,me=0,et=null,He=null,lt=0,Dt=0,Ds=Ir(0),We=0,ko=null,ns=0,uu=0,kh=0,oo=null,Rt=null,Lh=0,Zs=1/0,Cn=null,Sl=!1,xd=null,dr=null,ka=!1,sr=null,Cl=0,ao=0,_d=null,Qa=-1,Ja=0;function _t(){return me&6?Ue():Qa!==-1?Qa:Qa=Ue()}function hr(t){return t.mode&1?me&2&&lt!==0?lt&-lt:ew.transition!==null?(Ja===0&&(Ja=$y()),Ja):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:Zy(t.type)),t):1}function un(t,e,n,r){if(50<ao)throw ao=0,_d=null,Error(F(185));Yo(t,n,r),(!(me&2)||t!==et)&&(t===et&&(!(me&2)&&(uu|=n),We===4&&nr(t,lt)),bt(t,r),n===1&&me===0&&!(e.mode&1)&&(Zs=Ue()+500,iu&&Sr()))}function bt(t,e){var n=t.callbackNode;e_(t,e);var r=hl(t,t===et?lt:0);if(r===0)n!==null&&Dp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dp(n),e===1)t.tag===0?X_(Im.bind(null,t)):y0(Im.bind(null,t)),q_(function(){!(me&6)&&Sr()}),n=null;else{switch(Yy(r)){case 1:n=ih;break;case 4:n=By;break;case 16:n=dl;break;case 536870912:n=zy;break;default:n=dl}n=mv(n,lv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lv(t,e){if(Qa=-1,Ja=0,me&6)throw Error(F(327));var n=t.callbackNode;if(Fs()&&t.callbackNode!==n)return null;var r=hl(t,t===et?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pl(t,r);else{e=r;var s=me;me|=2;var i=cv();(et!==t||lt!==e)&&(Cn=null,Zs=Ue()+500,Yr(t,e));do try{xw();break}catch(l){uv(t,l)}while(!0);vh(),Il.current=i,me=s,He!==null?e=0:(et=null,lt=0,e=We)}if(e!==0){if(e===2&&(s=Wc(t),s!==0&&(r=s,e=wd(t,s))),e===1)throw n=ko,Yr(t,0),nr(t,r),bt(t,Ue()),n;if(e===6)nr(t,r);else{if(s=t.current.alternate,!(r&30)&&!vw(s)&&(e=Pl(t,r),e===2&&(i=Wc(t),i!==0&&(r=i,e=wd(t,i))),e===1))throw n=ko,Yr(t,0),nr(t,r),bt(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Kr(t,Rt,Cn);break;case 3:if(nr(t,r),(r&130023424)===r&&(e=Lh+500-Ue(),10<e)){if(hl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=nd(Kr.bind(null,t,Rt,Cn),e);break}Kr(t,Rt,Cn);break;case 4:if(nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ln(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yw(r/1960))-r,10<r){t.timeoutHandle=nd(Kr.bind(null,t,Rt,Cn),r);break}Kr(t,Rt,Cn);break;case 5:Kr(t,Rt,Cn);break;default:throw Error(F(329))}}}return bt(t,Ue()),t.callbackNode===n?lv.bind(null,t):null}function wd(t,e){var n=oo;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=Pl(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&Ed(e)),t}function Ed(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function vw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~kh,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function Im(t){if(me&6)throw Error(F(327));Fs();var e=hl(t,0);if(!(e&1))return bt(t,Ue()),null;var n=Pl(t,e);if(t.tag!==0&&n===2){var r=Wc(t);r!==0&&(e=r,n=wd(t,r))}if(n===1)throw n=ko,Yr(t,0),nr(t,e),bt(t,Ue()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Rt,Cn),bt(t,Ue()),null}function Mh(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Zs=Ue()+500,iu&&Sr())}}function rs(t){sr!==null&&sr.tag===0&&!(me&6)&&Fs();var e=me;me|=1;var n=qt.transition,r=Ae;try{if(qt.transition=null,Ae=1,t)return t()}finally{Ae=r,qt.transition=n,me=e,!(me&6)&&Sr()}}function Dh(){Dt=Ds.current,Ce(Ds)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W_(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(mh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:Qs(),Ce(Ct),Ce(yt),Th();break;case 5:Eh(r);break;case 4:Qs();break;case 13:Ce(be);break;case 19:Ce(be);break;case 10:Ah(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(et=t,He=t=fr(t.current,null),lt=Dt=e,We=0,ko=null,kh=uu=ns=0,Rt=oo=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Br=null}return t}function uv(t,e){do{var n=He;try{if(vh(),Ga.current=Rl,Nl){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nl=!1}if(ts=0,Xe=Ge=ke=null,so=!1,Co=0,bh.current=null,n===null||n.return===null){We=1,ko=e,He=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var T=pm(o);if(T!==null){T.flags&=-257,mm(T,o,l,i,e),T.mode&1&&fm(i,h,e),e=T,c=h;var S=e.updateQueue;if(S===null){var C=new Set;C.add(c),e.updateQueue=C}else S.add(c);break e}else{if(!(e&1)){fm(i,h,e),Oh();break e}c=Error(F(426))}}else if(Pe&&l.mode&1){var M=pm(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),mm(M,o,l,i,e),gh(Js(c,l));break e}}i=c=Js(c,l),We!==4&&(We=2),oo===null?oo=[i]:oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Y0(i,c,e);am(i,w);break e;case 1:l=c;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(dr===null||!dr.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=G0(i,l,e);am(i,O);break e}}i=i.return}while(i!==null)}hv(n)}catch(U){e=U,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function cv(){var t=Il.current;return Il.current=Rl,t===null?Rl:t}function Oh(){(We===0||We===3||We===2)&&(We=4),et===null||!(ns&268435455)&&!(uu&268435455)||nr(et,lt)}function Pl(t,e){var n=me;me|=2;var r=cv();(et!==t||lt!==e)&&(Cn=null,Yr(t,e));do try{Aw();break}catch(s){uv(t,s)}while(!0);if(vh(),me=n,Il.current=r,He!==null)throw Error(F(261));return et=null,lt=0,We}function Aw(){for(;He!==null;)dv(He)}function xw(){for(;He!==null&&!$1();)dv(He)}function dv(t){var e=pv(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?hv(t):He=e,bh.current=null}function hv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fw(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,He=null;return}}else if(n=hw(n,e,Dt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);We===0&&(We=5)}function Kr(t,e,n){var r=Ae,s=qt.transition;try{qt.transition=null,Ae=1,_w(t,e,n,r)}finally{qt.transition=s,Ae=r}return null}function _w(t,e,n,r){do Fs();while(sr!==null);if(me&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(t_(t,i),t===et&&(He=et=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,mv(dl,function(){return Fs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var o=Ae;Ae=1;var l=me;me|=4,bh.current=null,mw(t,n),ov(n,t),F_(ed),fl=!!Xc,ed=Xc=null,t.current=n,gw(n),Y1(),me=l,Ae=o,qt.transition=i}else t.current=n;if(ka&&(ka=!1,sr=t,Cl=s),i=t.pendingLanes,i===0&&(dr=null),q1(n.stateNode),bt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sl)throw Sl=!1,t=xd,xd=null,t;return Cl&1&&t.tag!==0&&Fs(),i=t.pendingLanes,i&1?t===_d?ao++:(ao=0,_d=t):ao=0,Sr(),null}function Fs(){if(sr!==null){var t=Yy(Cl),e=qt.transition,n=Ae;try{if(qt.transition=null,Ae=16>t?16:t,sr===null)var r=!1;else{if(t=sr,sr=null,Cl=0,me&6)throw Error(F(331));var s=me;for(me|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(W=h;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:io(8,p,i)}var m=p.child;if(m!==null)m.return=p,W=m;else for(;W!==null;){p=W;var g=p.sibling,T=p.return;if(rv(p),p===h){W=null;break}if(g!==null){g.return=T,W=g;break}W=T}}}var S=i.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:io(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var v=t.current;for(W=v;W!==null;){o=W;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,W=N;else e:for(o=v;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lu(9,l)}}catch(U){Ve(l,l.return,U)}if(l===o){W=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,W=O;break e}W=l.return}}if(me=s,Sr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{Ae=n,qt.transition=e}}return!1}function Sm(t,e,n){e=Js(n,e),e=Y0(t,e,1),t=cr(t,e,1),e=_t(),t!==null&&(Yo(t,1,e),bt(t,e))}function Ve(t,e,n){if(t.tag===3)Sm(t,t,n);else for(;e!==null;){if(e.tag===3){Sm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){t=Js(n,t),t=G0(e,t,1),e=cr(e,t,1),t=_t(),e!==null&&(Yo(e,1,t),bt(e,t));break}}e=e.return}}function ww(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(lt&n)===n&&(We===4||We===3&&(lt&130023424)===lt&&500>Ue()-Lh?Yr(t,0):kh|=n),bt(t,e)}function fv(t,e){e===0&&(t.mode&1?(e=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):e=1);var n=_t();t=Vn(t,e),t!==null&&(Yo(t,e,n),bt(t,n))}function Ew(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fv(t,n)}function Tw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),fv(t,n)}var pv;pv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,dw(t,e,n);St=!!(t.flags&131072)}else St=!1,Pe&&e.flags&1048576&&v0(e,xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qa(t,e),t=e.pendingProps;var s=Gs(e,yt.current);Ks(e,n),s=Rh(null,e,r,t,s,n);var i=Ih();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,vl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_h(e),s.updater=au,e.stateNode=s,s._reactInternals=e,ud(e,r,t,n),e=hd(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&ph(e),xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Rw(r),t=sn(r,t),s){case 0:e=dd(null,e,r,t,n);break e;case 1:e=vm(null,e,r,t,n);break e;case 11:e=gm(null,e,r,t,n);break e;case 14:e=ym(null,e,r,sn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),dd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),vm(t,e,r,s,n);case 3:e:{if(J0(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,T0(t,e),El(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Js(Error(F(423)),e),e=Am(t,e,r,n,s);break e}else if(r!==s){s=Js(Error(F(424)),e),e=Am(t,e,r,n,s);break e}else for(Ot=ur(e.stateNode.containerInfo.firstChild),jt=e,Pe=!0,an=null,n=w0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),r===s){e=jn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return N0(e),t===null&&od(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,td(r,s)?o=null:i!==null&&td(r,i)&&(e.flags|=32),Q0(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&od(e),null;case 13:return Z0(t,e,n);case 4:return wh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),gm(t,e,r,s,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(_l,r._currentValue),r._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!Ct.current){e=jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ln(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ad(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ad(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ks(e,n),s=Qt(s),r=r(s),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,s=sn(r,e.pendingProps),s=sn(r.type,s),ym(t,e,r,s,n);case 15:return W0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),qa(t,e),e.tag=1,Pt(r)?(t=!0,vl(e)):t=!1,Ks(e,n),$0(e,r,s),ud(e,r,s,n),hd(null,e,r,!0,t,n);case 19:return X0(t,e,n);case 22:return q0(t,e,n)}throw Error(F(156,e.tag))};function mv(t,e){return Hy(t,e)}function Nw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new Nw(t,e,n,r)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rw(t){if(typeof t=="function")return Vh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nh)return 11;if(t===rh)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Za(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ns:return Gr(n.children,s,i,e);case th:o=8,s|=8;break;case Lc:return t=Wt(12,n,e,s|2),t.elementType=Lc,t.lanes=i,t;case Mc:return t=Wt(13,n,e,s),t.elementType=Mc,t.lanes=i,t;case Dc:return t=Wt(19,n,e,s),t.elementType=Dc,t.lanes=i,t;case Ny:return cu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ey:o=10;break e;case Ty:o=9;break e;case nh:o=11;break e;case rh:o=14;break e;case Xn:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function cu(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Ny,t.lanes=n,t.stateNode={isHidden:!1},t}function yc(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function vc(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Iw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,r,s,i,o,l,c){return t=new Iw(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(i),t}function Sw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gv(t){if(!t)return Ar;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Pt(n))return g0(t,n,e)}return e}function yv(t,e,n,r,s,i,o,l,c){return t=jh(n,r,!0,t,s,i,o,l,c),t.context=gv(null),n=t.current,r=_t(),s=hr(n),i=Ln(r,s),i.callback=e??null,cr(n,i,s),t.current.lanes=s,Yo(t,s,r),bt(t,r),t}function du(t,e,n,r){var s=e.current,i=_t(),o=hr(s);return n=gv(n),e.context===null?e.context=n:e.pendingContext=n,e=Ln(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cr(s,e,o),t!==null&&(un(t,s,o,i),Ya(t,s,o)),o}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uh(t,e){Cm(t,e),(t=t.alternate)&&Cm(t,e)}function Cw(){return null}var vv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kh(t){this._internalRoot=t}hu.prototype.render=Kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));du(t,e,null,null)};hu.prototype.unmount=Kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){du(null,t,null,null)}),e[On]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=qy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&Jy(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function Pw(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=bl(o);i.call(h)}}var o=yv(e,r,t,0,null,!1,!1,"",Pm);return t._reactRootContainer=o,t[On]=o.current,To(t.nodeType===8?t.parentNode:t),rs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=bl(c);l.call(h)}}var c=jh(t,0,!1,null,null,!1,!1,"",Pm);return t._reactRootContainer=c,t[On]=c.current,To(t.nodeType===8?t.parentNode:t),rs(function(){du(e,c,n,r)}),c}function pu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=bl(o);l.call(c)}}du(e,o,t,s)}else o=Pw(n,e,t,s,r);return bl(o)}Gy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gi(e.pendingLanes);n!==0&&(oh(e,n|1),bt(e,Ue()),!(me&6)&&(Zs=Ue()+500,Sr()))}break;case 13:rs(function(){var r=Vn(t,1);if(r!==null){var s=_t();un(r,t,1,s)}}),Uh(t,1)}};ah=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=_t();un(e,t,134217728,n)}Uh(t,134217728)}};Wy=function(t){if(t.tag===13){var e=hr(t),n=Vn(t,e);if(n!==null){var r=_t();un(n,t,e,r)}Uh(t,e)}};qy=function(){return Ae};Qy=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};$c=function(t,e,n){switch(e){case"input":if(jc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=su(r);if(!s)throw Error(F(90));Iy(r),jc(r,s)}}}break;case"textarea":Cy(t,n);break;case"select":e=n.value,e!=null&&Os(t,!!n.multiple,e,!1)}};Oy=Mh;Vy=rs;var bw={usingClientEntryPoint:!1,Events:[Wo,Cs,su,My,Dy,Mh]},Fi={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kw={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ky(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{eu=La.inject(kw),An=La}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(e))throw Error(F(200));return Sw(t,e,null,n)};Kt.createRoot=function(t,e){if(!Fh(t))throw Error(F(299));var n=!1,r="",s=vv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,r,s),t[On]=e.current,To(t.nodeType===8?t.parentNode:t),new Kh(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Ky(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return rs(t)};Kt.hydrate=function(t,e,n){if(!fu(e))throw Error(F(200));return pu(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Fh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=vv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yv(e,null,t,1,n??null,s,!1,i,o),t[On]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hu(e)};Kt.render=function(t,e,n){if(!fu(e))throw Error(F(200));return pu(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(F(40));return t._reactRootContainer?(rs(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};Kt.unstable_batchedUpdates=Mh;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return pu(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function Av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Av)}catch(t){console.error(t)}}Av(),Ay.exports=Kt;var Lw=Ay.exports,bm=Lw;bc.createRoot=bm.createRoot,bc.hydrateRoot=bm.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var km="popstate";function Mw(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Td("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lo(s)}return Ow(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dw(){return Math.random().toString(36).substring(2,10)}function Lm(t,e){return{usr:t.state,key:t.key,idx:e}}function Td(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:n,key:e&&e.key||r||Dw()}}function Lo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ow(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function m(){l="POP";let M=p(),w=M==null?null:M-h;h=M,c&&c({action:l,location:C.location,delta:w})}function g(M,w){l="PUSH";let v=Td(C.location,M,w);h=p()+1;let N=Lm(v,h),O=C.createHref(v);try{o.pushState(N,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(O)}i&&c&&c({action:l,location:C.location,delta:1})}function T(M,w){l="REPLACE";let v=Td(C.location,M,w);h=p();let N=Lm(v,h),O=C.createHref(v);o.replaceState(N,"",O),i&&c&&c({action:l,location:C.location,delta:0})}function S(M){return Vw(M)}let C={get action(){return l},get location(){return t(s,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(km,m),c=M,()=>{s.removeEventListener(km,m),c=null}},createHref(M){return e(s,M)},createURL:S,encodeLocation(M){let w=S(M);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:T,go(M){return o.go(M)}};return C}function Vw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Lo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xv(t,e,n="/"){return jw(t,e,n,!1)}function jw(t,e,n,r){let s=typeof e=="string"?Qo(e):e,i=Un(s.pathname||"/",n);if(i==null)return null;let o=_v(t);Uw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=Qw(i);l=Ww(o[c],h,r)}return l}function _v(t,e=[],n=[],r="",s=!1){let i=(o,l,c=s,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;qe(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Mn([r,p.relativePath]),g=n.concat(p);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_v(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:Yw(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of wv(o.path))i(o,l,!0,h)}),e}function wv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wv(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Uw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Kw=/^:[\w-]+$/,Fw=3,Hw=2,Bw=1,zw=10,$w=-2,Mm=t=>t==="*";function Yw(t,e){let n=t.split("/"),r=n.length;return n.some(Mm)&&(r+=$w),e&&(r+=Hw),n.filter(s=>!Mm(s)).reduce((s,i)=>s+(Kw.test(i)?Fw:i===""?Bw:zw),r)}function Gw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ww(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=kl({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),g=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=kl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Mn([i,m.pathname]),pathnameBase:eE(Mn([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Mn([i,m.pathnameBase]))}return o}function kl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let S=l[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const T=l[g];return m&&!T?h[p]=void 0:h[p]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function qw(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Qw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Un(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Zw(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qo(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=Dm(n.substring(1),"/"):i=Dm(n,e)):i=e,{pathname:i,search:tE(r),hash:nE(s)}}function Dm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ac(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ev(t){let e=Xw(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Tv(t,e,n,r=!1){let s;typeof t=="string"?s=Qo(t):(s={...t},qe(!s.pathname||!s.pathname.includes("?"),Ac("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Ac("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Ac("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=Zw(s,l),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var Mn=t=>t.join("/").replace(/\/\/+/g,"/"),eE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rE=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function iE(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rv(t,e){let n=t;if(typeof n!="string"||!Jw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(Nv)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Un(o.pathname,e);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:s=!0}catch{Nn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Iv=["POST","PUT","PATCH","DELETE"];new Set(Iv);var oE=["GET",...Iv];new Set(oE);var ci=b.createContext(null);ci.displayName="DataRouter";var mu=b.createContext(null);mu.displayName="DataRouterState";var aE=b.createContext(!1),Sv=b.createContext({isTransitioning:!1});Sv.displayName="ViewTransition";var lE=b.createContext(new Map);lE.displayName="Fetchers";var uE=b.createContext(null);uE.displayName="Await";var Zt=b.createContext(null);Zt.displayName="Navigation";var gu=b.createContext(null);gu.displayName="Location";var zn=b.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Hh=b.createContext(null);Hh.displayName="RouteError";var Cv="REACT_ROUTER_ERROR",cE="REDIRECT",dE="ROUTE_ERROR_RESPONSE";function hE(t){if(t.startsWith(`${Cv}:${cE}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fE(t){if(t.startsWith(`${Cv}:${dE}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rE(e.status,e.statusText,e.data)}catch{}}function pE(t,{relative:e}={}){qe(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Zt),{hash:s,pathname:i,search:o}=Zo(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Mn([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Jo(){return b.useContext(gu)!=null}function Cr(){return qe(Jo(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(gu).location}var Pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bv(t){b.useContext(Zt).static||b.useLayoutEffect(t)}function ls(){let{isDataRoute:t}=b.useContext(zn);return t?IE():mE()}function mE(){qe(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ci),{basename:e,navigator:n}=b.useContext(Zt),{matches:r}=b.useContext(zn),{pathname:s}=Cr(),i=JSON.stringify(Ev(r)),o=b.useRef(!1);return bv(()=>{o.current=!0}),b.useCallback((c,h={})=>{if(Nn(o.current,Pv),!o.current)return;if(typeof c=="number"){n.go(c);return}let p=Tv(c,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Mn([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,s,t])}b.createContext(null);function Zo(t,{relative:e}={}){let{matches:n}=b.useContext(zn),{pathname:r}=Cr(),s=JSON.stringify(Ev(n));return b.useMemo(()=>Tv(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function gE(t,e,n,r,s){qe(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Zt),{matches:o}=b.useContext(zn),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let v=m&&m.path||"";Lv(h,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let g=Cr(),T;T=g;let S=T.pathname||"/",C=S;if(p!=="/"){let v=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(v.length).join("/")}let M=xv(t,{pathname:C});return Nn(m||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Nn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_E(M&&M.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Mn([p,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?p:Mn([p,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,n,r,s)}function yE(){let t=RE(),e=sE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,o)}var vE=b.createElement(yE,null),kv=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=fE(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(zn.Provider,{value:this.props.routeContext},b.createElement(Hh.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(AE,{error:t},e):e}};kv.contextType=aE;var xc=new WeakMap;function AE({children:t,error:e}){let{basename:n}=b.useContext(Zt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hE(e.digest);if(r){let s=xc.get(e);if(s)throw s;let i=Rv(r.location,n);if(Nv&&!xc.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw xc.set(e,o),o}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function xE({routeContext:t,match:e,children:n}){let r=b.useContext(ci);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(zn.Provider,{value:t},n)}function _E(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let p=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let l=!1,c=-1;if(n)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=p),m.route.id){let{loaderData:g,errors:T}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||S){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let h=n&&r?(p,m)=>{var g,T;r(p,{location:n.location,params:((T=(g=n.matches)==null?void 0:g[0])==null?void 0:T.params)??{},unstable_pattern:iE(n.matches),errorInfo:m})}:void 0;return i.reduceRight((p,m,g)=>{let T,S=!1,C=null,M=null;n&&(T=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||vE,l&&(c<0&&g===0?(Lv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):c===g&&(S=!0,M=m.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,g+1)),v=()=>{let N;return T?N=C:S?N=M:m.route.Component?N=b.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,b.createElement(xE,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?b.createElement(kv,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):v()},null)}function Bh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wE(t){let e=b.useContext(ci);return qe(e,Bh(t)),e}function EE(t){let e=b.useContext(mu);return qe(e,Bh(t)),e}function TE(t){let e=b.useContext(zn);return qe(e,Bh(t)),e}function zh(t){let e=TE(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function NE(){return zh("useRouteId")}function RE(){var r;let t=b.useContext(Hh),e=EE("useRouteError"),n=zh("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function IE(){let{router:t}=wE("useNavigate"),e=zh("useNavigate"),n=b.useRef(!1);return bv(()=>{n.current=!0}),b.useCallback(async(s,i={})=>{Nn(n.current,Pv),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Om={};function Lv(t,e,n){!e&&!Om[t]&&(Om[t]=!0,Nn(!1,n))}b.memo(SE);function SE({routes:t,future:e,state:n,onError:r}){return gE(t,void 0,n,r,e)}function CE({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){qe(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[l,s,i,o]);typeof n=="string"&&(n=Qo(n));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:T="default"}=n,S=b.useMemo(()=>{let C=Un(h,l);return C==null?null:{location:{pathname:C,search:p,hash:m,state:g,key:T},navigationType:r}},[l,h,p,m,g,T,r]);return Nn(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(Zt.Provider,{value:c},b.createElement(gu.Provider,{children:e,value:S}))}var Xa="get",el="application/x-www-form-urlencoded";function yu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function PE(t){return yu(t)&&t.tagName.toLowerCase()==="button"}function bE(t){return yu(t)&&t.tagName.toLowerCase()==="form"}function kE(t){return yu(t)&&t.tagName.toLowerCase()==="input"}function LE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ME(t,e){return t.button===0&&(!e||e==="_self")&&!LE(t)}var Ma=null;function DE(){if(Ma===null)try{new FormData(document.createElement("form"),0),Ma=!1}catch{Ma=!0}return Ma}var OE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _c(t){return t!=null&&!OE.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${el}"`),null):t}function VE(t,e){let n,r,s,i,o;if(bE(t)){let l=t.getAttribute("action");r=l?Un(l,e):null,n=t.getAttribute("method")||Xa,s=_c(t.getAttribute("enctype"))||el,i=new FormData(t)}else if(PE(t)||kE(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Un(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Xa,s=_c(t.getAttribute("formenctype"))||_c(l.getAttribute("enctype"))||el,i=new FormData(l,t),!DE()){let{name:h,type:p,value:m}=t;if(p==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,m)}}else{if(yu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xa,r=null,s=el,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $h(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jE(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Un(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function UE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FE(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await UE(i,n);return o.links?o.links():[]}return[]}));return $E(r.flat(1).filter(KE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vm(t,e,n,r,s,i){let o=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,l=(c,h)=>{var p;return n[h].pathname!==c.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>o(c,h)||l(c,h)):i==="data"?e.filter((c,h)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(o(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function HE(t,e,{includeHydrateFallback:n}={}){return BE(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function BE(t){return[...new Set(t)]}function zE(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $E(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(zE(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Mv(){let t=b.useContext(ci);return $h(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YE(){let t=b.useContext(mu);return $h(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yh=b.createContext(void 0);Yh.displayName="FrameworkContext";function Dv(){let t=b.useContext(Yh);return $h(t,"You must render this element inside a <HydratedRouter> element"),t}function GE(t,e){let n=b.useContext(Yh),[r,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,g=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=w=>{w.forEach(v=>{o(v.isIntersecting)})},M=new IntersectionObserver(C,{threshold:.5});return g.current&&M.observe(g.current),()=>{M.disconnect()}}},[t]),b.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let T=()=>{s(!0)},S=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Hi(l,T),onBlur:Hi(c,S),onMouseEnter:Hi(h,T),onMouseLeave:Hi(p,S),onTouchStart:Hi(m,T)}]:[!1,g,{}]}function Hi(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WE({page:t,...e}){let{router:n}=Mv(),r=b.useMemo(()=>xv(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(QE,{page:t,matches:r,...e}):null}function qE(t){let{manifest:e,routeModules:n}=Dv(),[r,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return FE(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function QE({page:t,matches:e,...n}){let r=Cr(),{future:s,manifest:i,routeModules:o}=Dv(),{basename:l}=Mv(),{loaderData:c,matches:h}=YE(),p=b.useMemo(()=>Vm(t,e,h,i,r,"data"),[t,e,h,i,r]),m=b.useMemo(()=>Vm(t,e,h,i,r,"assets"),[t,e,h,i,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,M=!1;if(e.forEach(v=>{var O;let N=i.routes[v.route.id];!N||!N.hasLoader||(!p.some(U=>U.route.id===v.route.id)&&v.route.id in c&&((O=o[v.route.id])!=null&&O.shouldRevalidate)||N.hasClientLoader?M=!0:C.add(v.route.id))}),C.size===0)return[];let w=jE(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return M&&C.size>0&&w.searchParams.set("_routes",e.filter(v=>C.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,r,i,p,e,t,o]),T=b.useMemo(()=>HE(m,i),[m,i]),S=qE(m);return b.createElement(b.Fragment,null,g.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:M})=>b.createElement("link",{key:C,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function JE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.13.0")}catch{}function XE({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=b.useRef();s.current==null&&(s.current=Mw({window:r,v5Compat:!0}));let i=s.current,[o,l]=b.useState({action:i.action,location:i.location}),c=b.useCallback(h=>{n===!1?l(h):b.startTransition(()=>l(h))},[n]);return b.useLayoutEffect(()=>i.listen(c),[i,c]),b.createElement(CE,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vv=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...T},S){let{basename:C,unstable_useTransitions:M}=b.useContext(Zt),w=typeof h=="string"&&Ov.test(h),v=Rv(h,C);h=v.to;let N=pE(h,{relative:s}),[O,U,K]=GE(r,T),_=rT(h,{replace:o,state:l,target:c,preventScrollReset:p,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:M});function A(R){e&&e(R),R.defaultPrevented||_(R)}let x=b.createElement("a",{...T,...K,href:v.absoluteURL||N,onClick:v.isExternal||i?e:A,ref:JE(S,U),target:c,"data-discover":!w&&n==="render"?"true":void 0});return O&&!w?b.createElement(b.Fragment,null,x,b.createElement(WE,{page:N})):x});Vv.displayName="Link";var eT=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...h},p){let m=Zo(o,{relative:h.relative}),g=Cr(),T=b.useContext(mu),{navigator:S,basename:C}=b.useContext(Zt),M=T!=null&&lT(m)&&l===!0,w=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,v=g.pathname,N=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(v=v.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&C&&(N=Un(N,C)||N);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let U=v===w||!s&&v.startsWith(w)&&v.charAt(O)==="/",K=N!=null&&(N===w||!s&&N.startsWith(w)&&N.charAt(w.length)==="/"),_={isActive:U,isPending:K,isTransitioning:M},A=U?e:void 0,x;typeof r=="function"?x=r(_):x=[r,U?"active":null,K?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(_):i;return b.createElement(Vv,{...h,"aria-current":A,className:x,ref:p,style:R,to:o,viewTransition:l},typeof c=="function"?c(_):c)});eT.displayName="NavLink";var tT=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Xa,action:l,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...T},S)=>{let{unstable_useTransitions:C}=b.useContext(Zt),M=oT(),w=aT(l,{relative:h}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&Ov.test(l),O=U=>{if(c&&c(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,_=(K==null?void 0:K.getAttribute("formmethod"))||o,A=()=>M(K||U.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g});C&&n!==!1?b.startTransition(()=>A()):A()};return b.createElement("form",{ref:S,method:v,action:w,onSubmit:r?c:O,...T,"data-discover":!N&&t==="render"?"true":void 0})});tT.displayName="Form";function nT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jv(t){let e=b.useContext(ci);return qe(e,nT(t)),e}function rT(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let h=ls(),p=Cr(),m=Zo(t,{relative:i});return b.useCallback(g=>{if(ME(g,e)){g.preventDefault();let T=n!==void 0?n:Lo(p)===Lo(m),S=()=>h(t,{replace:T,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?b.startTransition(()=>S()):S()}},[p,h,m,n,r,e,t,s,i,o,l,c])}var sT=0,iT=()=>`__${String(++sT)}__`;function oT(){let{router:t}=jv("useSubmit"),{basename:e}=b.useContext(Zt),n=NE(),r=t.fetch,s=t.navigate;return b.useCallback(async(i,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=VE(i,e);if(o.navigate===!1){let g=o.fetcherKey||iT();await r(g,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await s(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function aT(t,{relative:e}={}){let{basename:n}=b.useContext(Zt),r=b.useContext(zn);qe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Zo(t||".",{relative:e})},o=Cr();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let p=l.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Mn([n,i.pathname])),Lo(i)}function lT(t,{relative:e}={}){let n=b.useContext(Sv);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jv("useViewTransitionState"),s=Zo(t,{relative:e});if(!n.isTransitioning)return!1;let i=Un(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Un(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kl(s.pathname,o)!=null||kl(s.pathname,i)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=t=>{const e=cT(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...dT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Uv("lucide",s),...!i&&!hT(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,p])=>b.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(fT,{ref:i,iconNode:e,className:Uv(`lucide-${uT(jm(t))}`,`lucide-${t}`,r),...s}));return n.displayName=jm(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],mT=se("arrow-right-left",pT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Ll=se("bus",gT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vT=se("chart-column",yT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wr=se("chevron-right",AT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kv=se("circle-alert",xT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Um=se("circle-arrow-down",_T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Km=se("circle-arrow-up",wT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TT=se("circle-check-big",ET);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Gh=se("circle-plus",NT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IT=se("circle-question-mark",RT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fm=se("clock",ST);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PT=se("file-text",CT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],kT=se("heart",bT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fv=se("info",LT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DT=se("loader-circle",MT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VT=se("lock",OT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lo=se("map-pin",jT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Hm=se("map",UT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Hv=se("maximize-2",KT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HT=se("menu",FT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Bm=se("message-circle",BT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$T=se("message-square",zT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Bv=se("monitor",YT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],WT=se("moon",GT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QT=se("pen-line",qT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qr=se("phone",JT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XT=se("save",ZT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nd=se("search",eN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nN=se("share-2",tN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sN=se("shield",rN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oN=se("square-check-big",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ml=se("square-plus",aN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uN=se("square",lN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dl=se("star",cN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hN=se("sun",dN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],pN=se("thumbs-up",fN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],gN=se("ticket",mN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vN=se("trash-2",yN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ol=se("triangle-alert",AN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zv=se("trophy",xN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$v=se("x",_N),wN=()=>{};var zm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,p=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,T=h&63;c||(T=64,o||(g=64)),r.push(n[p],n[m],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||m==null)throw new TN;const g=i<<2|l>>4;if(r.push(g),h!==64){const T=l<<4&240|h>>2;if(r.push(T),m!==64){const S=h<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NN=function(t){const e=Yv(t);return Gv.encodeByteArray(e,!0)},Vl=function(t){return NN(t).replace(/\./g,"")},RN=function(t){try{return Gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=()=>IN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof zm>"u")return;const t=zm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RN(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return wN()||SN()||CN()||PN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bN=t=>{var e,n;return(n=(e=Wh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kN=t=>{const e=bN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wv=()=>{var t;return(t=Wh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vl(JSON.stringify(n)),Vl(JSON.stringify(o)),""].join(".")}const uo={};function ON(){const t={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?t.emulator.push(e):t.prod.push(e);return t}function VN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $m=!1;function jN(t,e){if(typeof window>"u"||typeof document>"u"||!qh(window.location.host)||uo[t]===e||uo[t]||$m)return;uo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=ON().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{$m=!0,o()},g}function p(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=VN(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),C=n("learnmore"),M=document.getElementById(C)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),p(M,C);const O=h();c(v,w),N.append(v,S,M,O),document.body.appendChild(N)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KN(){var e;const t=(e=Wh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return!KN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HN(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zN,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qv.prototype.create)}}class qv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$N(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new di(s,l,r)}}function $N(t,e){return t.replace(YN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const YN=/\{\$([^}]+)}/g;function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ym(i)&&Ym(o)){if(!Mo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ym(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class Do{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qN(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WN(t){return t===Fr?void 0:t}function qN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const JN={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ZN=pe.INFO,XN={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},eR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=XN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qv{constructor(e){this.name=e,this._logLevel=ZN,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const tR=(t,e)=>e.some(n=>t instanceof n);let Gm,Wm;function nR(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rR(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Rd=new WeakMap,Zv=new WeakMap,wc=new WeakMap,Qh=new WeakMap;function sR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(pr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jv.set(n,t)}).catch(()=>{}),Qh.set(e,t),e}function iR(t){if(Rd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rd.set(t,e)}let Id={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oR(t){Id=t(Id)}function aR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ec(this),e,...n);return Zv.set(r,e.sort?e.sort():[e]),pr(r)}:rR().includes(t)?function(...e){return t.apply(Ec(this),e),pr(Jv.get(this))}:function(...e){return pr(t.apply(Ec(this),e))}}function lR(t){return typeof t=="function"?aR(t):(t instanceof IDBTransaction&&iR(t),tR(t,nR())?new Proxy(t,Id):t)}function pr(t){if(t instanceof IDBRequest)return sR(t);if(wc.has(t))return wc.get(t);const e=lR(t);return e!==t&&(wc.set(t,e),Qh.set(e,t)),e}const Ec=t=>Qh.get(t);function uR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=pr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(pr(o.result),c.oldVersion,c.newVersion,pr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const cR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],Tc=new Map;function qm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tc.get(e))return Tc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cR.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return Tc.set(e,i),i}oR(t=>({...t,get:(e,n,r)=>qm(e,n)||t.get(e,n,r),has:(e,n)=>!!qm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sd="@firebase/app",Qm="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Qv("@firebase/app"),pR="@firebase/app-compat",mR="@firebase/analytics-compat",gR="@firebase/analytics",yR="@firebase/app-check-compat",vR="@firebase/app-check",AR="@firebase/auth",xR="@firebase/auth-compat",_R="@firebase/database",wR="@firebase/data-connect",ER="@firebase/database-compat",TR="@firebase/functions",NR="@firebase/functions-compat",RR="@firebase/installations",IR="@firebase/installations-compat",SR="@firebase/messaging",CR="@firebase/messaging-compat",PR="@firebase/performance",bR="@firebase/performance-compat",kR="@firebase/remote-config",LR="@firebase/remote-config-compat",MR="@firebase/storage",DR="@firebase/storage-compat",OR="@firebase/firestore",VR="@firebase/ai",jR="@firebase/firestore-compat",UR="firebase",KR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",FR={[Sd]:"fire-core",[pR]:"fire-core-compat",[gR]:"fire-analytics",[mR]:"fire-analytics-compat",[vR]:"fire-app-check",[yR]:"fire-app-check-compat",[AR]:"fire-auth",[xR]:"fire-auth-compat",[_R]:"fire-rtdb",[wR]:"fire-data-connect",[ER]:"fire-rtdb-compat",[TR]:"fire-fn",[NR]:"fire-fn-compat",[RR]:"fire-iid",[IR]:"fire-iid-compat",[SR]:"fire-fcm",[CR]:"fire-fcm-compat",[PR]:"fire-perf",[bR]:"fire-perf-compat",[kR]:"fire-rc",[LR]:"fire-rc-compat",[MR]:"fire-gcs",[DR]:"fire-gcs-compat",[OR]:"fire-fst",[jR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,HR=new Map,Pd=new Map;function Jm(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(Pd.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of jl.values())Jm(n,t);for(const n of HR.values())Jm(n,t);return!0}function BR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zR(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new qv("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=KR;function Jh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw mr.create("bad-app-name",{appName:String(s)});if(n||(n=Wv()),!n)throw mr.create("no-options");const i=jl.get(s);if(i){if(Mo(n,i.options)&&Mo(r,i.config))return i;throw mr.create("duplicate-app",{appName:s})}const o=new QN(s);for(const c of Pd.values())o.addComponent(c);const l=new YR(n,r,o);return jl.set(s,l),l}function WR(t=Cd){const e=jl.get(t);if(!e&&t===Cd&&Wv())return Jh();if(!e)throw mr.create("no-app",{appName:t});return e}function Hs(t,e,n){let r=FR[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(o.join(" "));return}Ul(new Do(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebase-heartbeat-database",QR=1,Oo="firebase-heartbeat-store";let Nc=null;function Xv(){return Nc||(Nc=uR(qR,QR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function JR(t){try{const n=(await Xv()).transaction(Oo),r=await n.objectStore(Oo).get(eA(t));return await n.done,r}catch(e){if(e instanceof di)Kn.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(n.message)}}}async function Zm(t,e){try{const r=(await Xv()).transaction(Oo,"readwrite");await r.objectStore(Oo).put(e,eA(t)),await r.done}catch(n){if(n instanceof di)Kn.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(r.message)}}}function eA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,XR=30;class eI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>XR){const o=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xm(),{heartbeatsToSend:r,unsentEntries:s}=tI(this._heartbeatsCache.heartbeats),i=Vl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Kn.warn(n),""}}}function Xm(){return new Date().toISOString().substring(0,10)}function tI(t,e=ZR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),eg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HN()?BN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eg(t){return Vl(JSON.stringify({version:2,heartbeats:t})).length}function rI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){Ul(new Do("platform-logger",e=>new hR(e),"PRIVATE")),Ul(new Do("heartbeat",e=>new eI(e),"PRIVATE")),Hs(Sd,Qm,t),Hs(Sd,Qm,"esm2020"),Hs("fire-js","")}sI("");var iI="firebase",oI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(iI,oI,"app");var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,tA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,A){function x(){}x.prototype=A.prototype,_.F=A.prototype,_.prototype=new x,_.prototype.constructor=_,_.D=function(R,I,P){for(var E=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)E[Ne-2]=arguments[Ne];return A.prototype[I].apply(R,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,A,x){x||(x=0);const R=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)R[I]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(I=0;I<16;++I)R[I]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=_.g[0],x=_.g[1],I=_.g[2];let P=_.g[3],E;E=A+(P^x&(I^P))+R[0]+3614090360&4294967295,A=x+(E<<7&4294967295|E>>>25),E=P+(I^A&(x^I))+R[1]+3905402710&4294967295,P=A+(E<<12&4294967295|E>>>20),E=I+(x^P&(A^x))+R[2]+606105819&4294967295,I=P+(E<<17&4294967295|E>>>15),E=x+(A^I&(P^A))+R[3]+3250441966&4294967295,x=I+(E<<22&4294967295|E>>>10),E=A+(P^x&(I^P))+R[4]+4118548399&4294967295,A=x+(E<<7&4294967295|E>>>25),E=P+(I^A&(x^I))+R[5]+1200080426&4294967295,P=A+(E<<12&4294967295|E>>>20),E=I+(x^P&(A^x))+R[6]+2821735955&4294967295,I=P+(E<<17&4294967295|E>>>15),E=x+(A^I&(P^A))+R[7]+4249261313&4294967295,x=I+(E<<22&4294967295|E>>>10),E=A+(P^x&(I^P))+R[8]+1770035416&4294967295,A=x+(E<<7&4294967295|E>>>25),E=P+(I^A&(x^I))+R[9]+2336552879&4294967295,P=A+(E<<12&4294967295|E>>>20),E=I+(x^P&(A^x))+R[10]+4294925233&4294967295,I=P+(E<<17&4294967295|E>>>15),E=x+(A^I&(P^A))+R[11]+2304563134&4294967295,x=I+(E<<22&4294967295|E>>>10),E=A+(P^x&(I^P))+R[12]+1804603682&4294967295,A=x+(E<<7&4294967295|E>>>25),E=P+(I^A&(x^I))+R[13]+4254626195&4294967295,P=A+(E<<12&4294967295|E>>>20),E=I+(x^P&(A^x))+R[14]+2792965006&4294967295,I=P+(E<<17&4294967295|E>>>15),E=x+(A^I&(P^A))+R[15]+1236535329&4294967295,x=I+(E<<22&4294967295|E>>>10),E=A+(I^P&(x^I))+R[1]+4129170786&4294967295,A=x+(E<<5&4294967295|E>>>27),E=P+(x^I&(A^x))+R[6]+3225465664&4294967295,P=A+(E<<9&4294967295|E>>>23),E=I+(A^x&(P^A))+R[11]+643717713&4294967295,I=P+(E<<14&4294967295|E>>>18),E=x+(P^A&(I^P))+R[0]+3921069994&4294967295,x=I+(E<<20&4294967295|E>>>12),E=A+(I^P&(x^I))+R[5]+3593408605&4294967295,A=x+(E<<5&4294967295|E>>>27),E=P+(x^I&(A^x))+R[10]+38016083&4294967295,P=A+(E<<9&4294967295|E>>>23),E=I+(A^x&(P^A))+R[15]+3634488961&4294967295,I=P+(E<<14&4294967295|E>>>18),E=x+(P^A&(I^P))+R[4]+3889429448&4294967295,x=I+(E<<20&4294967295|E>>>12),E=A+(I^P&(x^I))+R[9]+568446438&4294967295,A=x+(E<<5&4294967295|E>>>27),E=P+(x^I&(A^x))+R[14]+3275163606&4294967295,P=A+(E<<9&4294967295|E>>>23),E=I+(A^x&(P^A))+R[3]+4107603335&4294967295,I=P+(E<<14&4294967295|E>>>18),E=x+(P^A&(I^P))+R[8]+1163531501&4294967295,x=I+(E<<20&4294967295|E>>>12),E=A+(I^P&(x^I))+R[13]+2850285829&4294967295,A=x+(E<<5&4294967295|E>>>27),E=P+(x^I&(A^x))+R[2]+4243563512&4294967295,P=A+(E<<9&4294967295|E>>>23),E=I+(A^x&(P^A))+R[7]+1735328473&4294967295,I=P+(E<<14&4294967295|E>>>18),E=x+(P^A&(I^P))+R[12]+2368359562&4294967295,x=I+(E<<20&4294967295|E>>>12),E=A+(x^I^P)+R[5]+4294588738&4294967295,A=x+(E<<4&4294967295|E>>>28),E=P+(A^x^I)+R[8]+2272392833&4294967295,P=A+(E<<11&4294967295|E>>>21),E=I+(P^A^x)+R[11]+1839030562&4294967295,I=P+(E<<16&4294967295|E>>>16),E=x+(I^P^A)+R[14]+4259657740&4294967295,x=I+(E<<23&4294967295|E>>>9),E=A+(x^I^P)+R[1]+2763975236&4294967295,A=x+(E<<4&4294967295|E>>>28),E=P+(A^x^I)+R[4]+1272893353&4294967295,P=A+(E<<11&4294967295|E>>>21),E=I+(P^A^x)+R[7]+4139469664&4294967295,I=P+(E<<16&4294967295|E>>>16),E=x+(I^P^A)+R[10]+3200236656&4294967295,x=I+(E<<23&4294967295|E>>>9),E=A+(x^I^P)+R[13]+681279174&4294967295,A=x+(E<<4&4294967295|E>>>28),E=P+(A^x^I)+R[0]+3936430074&4294967295,P=A+(E<<11&4294967295|E>>>21),E=I+(P^A^x)+R[3]+3572445317&4294967295,I=P+(E<<16&4294967295|E>>>16),E=x+(I^P^A)+R[6]+76029189&4294967295,x=I+(E<<23&4294967295|E>>>9),E=A+(x^I^P)+R[9]+3654602809&4294967295,A=x+(E<<4&4294967295|E>>>28),E=P+(A^x^I)+R[12]+3873151461&4294967295,P=A+(E<<11&4294967295|E>>>21),E=I+(P^A^x)+R[15]+530742520&4294967295,I=P+(E<<16&4294967295|E>>>16),E=x+(I^P^A)+R[2]+3299628645&4294967295,x=I+(E<<23&4294967295|E>>>9),E=A+(I^(x|~P))+R[0]+4096336452&4294967295,A=x+(E<<6&4294967295|E>>>26),E=P+(x^(A|~I))+R[7]+1126891415&4294967295,P=A+(E<<10&4294967295|E>>>22),E=I+(A^(P|~x))+R[14]+2878612391&4294967295,I=P+(E<<15&4294967295|E>>>17),E=x+(P^(I|~A))+R[5]+4237533241&4294967295,x=I+(E<<21&4294967295|E>>>11),E=A+(I^(x|~P))+R[12]+1700485571&4294967295,A=x+(E<<6&4294967295|E>>>26),E=P+(x^(A|~I))+R[3]+2399980690&4294967295,P=A+(E<<10&4294967295|E>>>22),E=I+(A^(P|~x))+R[10]+4293915773&4294967295,I=P+(E<<15&4294967295|E>>>17),E=x+(P^(I|~A))+R[1]+2240044497&4294967295,x=I+(E<<21&4294967295|E>>>11),E=A+(I^(x|~P))+R[8]+1873313359&4294967295,A=x+(E<<6&4294967295|E>>>26),E=P+(x^(A|~I))+R[15]+4264355552&4294967295,P=A+(E<<10&4294967295|E>>>22),E=I+(A^(P|~x))+R[6]+2734768916&4294967295,I=P+(E<<15&4294967295|E>>>17),E=x+(P^(I|~A))+R[13]+1309151649&4294967295,x=I+(E<<21&4294967295|E>>>11),E=A+(I^(x|~P))+R[4]+4149444226&4294967295,A=x+(E<<6&4294967295|E>>>26),E=P+(x^(A|~I))+R[11]+3174756917&4294967295,P=A+(E<<10&4294967295|E>>>22),E=I+(A^(P|~x))+R[2]+718787259&4294967295,I=P+(E<<15&4294967295|E>>>17),E=x+(P^(I|~A))+R[9]+3951481745&4294967295,_.g[0]=_.g[0]+A&4294967295,_.g[1]=_.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+P&4294967295}r.prototype.v=function(_,A){A===void 0&&(A=_.length);const x=A-this.blockSize,R=this.C;let I=this.h,P=0;for(;P<A;){if(I==0)for(;P<=x;)s(this,_,P),P+=this.blockSize;if(typeof _=="string"){for(;P<A;)if(R[I++]=_.charCodeAt(P++),I==this.blockSize){s(this,R),I=0;break}}else for(;P<A;)if(R[I++]=_[P++],I==this.blockSize){s(this,R),I=0;break}}this.h=I,this.o+=A},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var A=1;A<_.length-8;++A)_[A]=0;A=this.o*8;for(var x=_.length-8;x<_.length;++x)_[x]=A&255,A/=256;for(this.v(_),_=Array(16),A=0,x=0;x<4;++x)for(let R=0;R<32;R+=8)_[A++]=this.g[x]>>>R&255;return _};function i(_,A){var x=l;return Object.prototype.hasOwnProperty.call(x,_)?x[_]:x[_]=A(_)}function o(_,A){this.h=A;const x=[];let R=!0;for(let I=_.length-1;I>=0;I--){const P=_[I]|0;R&&P==A||(x[I]=P,R=!1)}this.g=x}var l={};function c(_){return-128<=_&&_<128?i(_,function(A){return new o([A|0],A<0?-1:0)}):new o([_|0],_<0?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return m;if(_<0)return M(h(-_));const A=[];let x=1;for(let R=0;_>=x;R++)A[R]=_/x|0,x*=4294967296;return new o(A,0)}function p(_,A){if(_.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(_.charAt(0)=="-")return M(p(_.substring(1),A));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=h(Math.pow(A,8));let R=m;for(let P=0;P<_.length;P+=8){var I=Math.min(8,_.length-P);const E=parseInt(_.substring(P,P+I),A);I<8?(I=h(Math.pow(A,I)),R=R.j(I).add(h(E))):(R=R.j(x),R=R.add(h(E)))}return R}var m=c(0),g=c(1),T=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-M(this).m();let _=0,A=1;for(let x=0;x<this.g.length;x++){const R=this.i(x);_+=(R>=0?R:4294967296+R)*A,A*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(S(this))return"0";if(C(this))return"-"+M(this).toString(_);const A=h(Math.pow(_,6));var x=this;let R="";for(;;){const I=O(x,A).g;x=w(x,I.j(A));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(_);if(x=I,S(x))return P+R;for(;P.length<6;)P="0"+P;R=P+R}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function S(_){if(_.h!=0)return!1;for(let A=0;A<_.g.length;A++)if(_.g[A]!=0)return!1;return!0}function C(_){return _.h==-1}t.l=function(_){return _=w(this,_),C(_)?-1:S(_)?0:1};function M(_){const A=_.g.length,x=[];for(let R=0;R<A;R++)x[R]=~_.g[R];return new o(x,~_.h).add(g)}t.abs=function(){return C(this)?M(this):this},t.add=function(_){const A=Math.max(this.g.length,_.g.length),x=[];let R=0;for(let I=0;I<=A;I++){let P=R+(this.i(I)&65535)+(_.i(I)&65535),E=(P>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);R=E>>>16,P&=65535,E&=65535,x[I]=E<<16|P}return new o(x,x[x.length-1]&-2147483648?-1:0)};function w(_,A){return _.add(M(A))}t.j=function(_){if(S(this)||S(_))return m;if(C(this))return C(_)?M(this).j(M(_)):M(M(this).j(_));if(C(_))return M(this.j(M(_)));if(this.l(T)<0&&_.l(T)<0)return h(this.m()*_.m());const A=this.g.length+_.g.length,x=[];for(var R=0;R<2*A;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(let I=0;I<_.g.length;I++){const P=this.i(R)>>>16,E=this.i(R)&65535,Ne=_.i(I)>>>16,tt=_.i(I)&65535;x[2*R+2*I]+=E*tt,v(x,2*R+2*I),x[2*R+2*I+1]+=P*tt,v(x,2*R+2*I+1),x[2*R+2*I+1]+=E*Ne,v(x,2*R+2*I+1),x[2*R+2*I+2]+=P*Ne,v(x,2*R+2*I+2)}for(_=0;_<A;_++)x[_]=x[2*_+1]<<16|x[2*_];for(_=A;_<2*A;_++)x[_]=0;return new o(x,0)};function v(_,A){for(;(_[A]&65535)!=_[A];)_[A+1]+=_[A]>>>16,_[A]&=65535,A++}function N(_,A){this.g=_,this.h=A}function O(_,A){if(S(A))throw Error("division by zero");if(S(_))return new N(m,m);if(C(_))return A=O(M(_),A),new N(M(A.g),M(A.h));if(C(A))return A=O(_,M(A)),new N(M(A.g),A.h);if(_.g.length>30){if(C(_)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var x=g,R=A;R.l(_)<=0;)x=U(x),R=U(R);var I=K(x,1),P=K(R,1);for(R=K(R,2),x=K(x,2);!S(R);){var E=P.add(R);E.l(_)<=0&&(I=I.add(x),P=E),R=K(R,1),x=K(x,1)}return A=w(_,I.j(A)),new N(I,A)}for(I=m;_.l(A)>=0;){for(x=Math.max(1,Math.floor(_.m()/A.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),P=h(x),E=P.j(A);C(E)||E.l(_)>0;)x-=R,P=h(x),E=P.j(A);S(P)&&(P=g),I=I.add(P),_=w(_,E)}return new N(I,_)}t.B=function(_){return O(this,_).h},t.and=function(_){const A=Math.max(this.g.length,_.g.length),x=[];for(let R=0;R<A;R++)x[R]=this.i(R)&_.i(R);return new o(x,this.h&_.h)},t.or=function(_){const A=Math.max(this.g.length,_.g.length),x=[];for(let R=0;R<A;R++)x[R]=this.i(R)|_.i(R);return new o(x,this.h|_.h)},t.xor=function(_){const A=Math.max(this.g.length,_.g.length),x=[];for(let R=0;R<A;R++)x[R]=this.i(R)^_.i(R);return new o(x,this.h^_.h)};function U(_){const A=_.g.length+1,x=[];for(let R=0;R<A;R++)x[R]=_.i(R)<<1|_.i(R-1)>>>31;return new o(x,_.h)}function K(_,A){const x=A>>5;A%=32;const R=_.g.length-x,I=[];for(let P=0;P<R;P++)I[P]=A>0?_.i(P+x)>>>A|_.i(P+x+1)<<32-A:_.i(P+x);return new o(I,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,gr=o}).apply(typeof tg<"u"?tg:typeof self<"u"?self:typeof window<"u"?window:{});var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nA,qi,rA,tl,bd,sA,iA,oA;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Da=="object"&&Da];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var f=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var L=a[y];if(!(L in f))break e;f=f[L]}a=a[a.length-1],y=f[a],d=d(y),d!=y&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(d){var f=[],y;for(y in d)Object.prototype.hasOwnProperty.call(d,y)&&f.push([y,d[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function c(a,d,f){return a.call.apply(a.bind,arguments)}function h(a,d,f){return h=c,h.apply(null,arguments)}function p(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function m(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(y,L,D){for(var H=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];return d.prototype[L].apply(y,H)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function T(a){const d=a.length;if(d>0){const f=Array(d);for(let y=0;y<d;y++)f[y]=a[y];return f}return[]}function S(a,d){for(let y=1;y<arguments.length;y++){const L=arguments[y];var f=typeof L;if(f=f!="object"?f:L?Array.isArray(L)?"array":f:"null",f=="array"||f=="object"&&typeof L.length=="number"){f=a.length||0;const D=L.length||0;a.length=f+D;for(let H=0;H<D;H++)a[f+H]=L[H]}else a.push(L)}}class C{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function M(a){o.setTimeout(()=>{throw a},0)}function w(){var a=_;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class v{constructor(){this.h=this.g=null}add(d,f){const y=N.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var N=new C(()=>new O,a=>a.reset());class O{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let U,K=!1,_=new v,A=()=>{const a=Promise.resolve(void 0);U=()=>{a.then(x)}};function x(){for(var a;a=w();){try{a.h.call(a.g)}catch(f){M(f)}var d=N;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}K=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a}();function E(a){return/^[\s\xa0]*$/.test(a)}function Ne(a,d){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}m(Ne,I),Ne.prototype.init=function(a,d){const f=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),kt=0;function Ht(a,d,f,y,L){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=L,this.key=++kt,this.da=this.fa=!1}function B(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Q(a,d,f){for(const y in a)d.call(f,a[y],y,a)}function ee(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function ge(a){const d={};for(const f in a)d[f]=a[f];return d}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(a,d){let f,y;for(let L=1;L<arguments.length;L++){y=arguments[L];for(f in y)a[f]=y[f];for(let D=0;D<ce.length;D++)f=ce[D],Object.prototype.hasOwnProperty.call(y,f)&&(a[f]=y[f])}}function De(a){this.src=a,this.g={},this.h=0}De.prototype.add=function(a,d,f,y,L){const D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);const H=vt(a,d,y,L);return H>-1?(d=a[H],f||(d.fa=!1)):(d=new Ht(d,this.src,D,!!y,L),d.fa=f,a.push(d)),d};function Xt(a,d){const f=d.type;if(f in a.g){var y=a.g[f],L=Array.prototype.indexOf.call(y,d,void 0),D;(D=L>=0)&&Array.prototype.splice.call(y,L,1),D&&(B(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function vt(a,d,f,y){for(let L=0;L<a.length;++L){const D=a[L];if(!D.da&&D.listener==d&&D.capture==!!f&&D.ha==y)return L}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),zt={};function Lr(a,d,f,y,L){if(Array.isArray(d)){for(let D=0;D<d.length;D++)Lr(a,d[D],f,y,L);return null}return f=Mr(f),a&&a[tt]?a.J(d,f,l(y)?!!y.capture:!1,L):vi(a,d,f,!1,y,L)}function vi(a,d,f,y,L,D){if(!d)throw Error("Invalid event type");const H=l(L)?!!L.capture:!!L;let ie=en(a);if(ie||(a[Bt]=ie=new De(a)),f=ie.add(d,f,y,H,D),f.proxy)return f;if(y=G(),f.proxy=y,y.src=a,y.listener=f,a.addEventListener)P||(L=H),L===void 0&&(L=!1),a.addEventListener(d.toString(),y,L);else if(a.attachEvent)a.attachEvent(de(d.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function G(){function a(f){return d.call(a.src,a.listener,f)}const d=Lt;return a}function X(a,d,f,y,L){if(Array.isArray(d))for(var D=0;D<d.length;D++)X(a,d[D],f,y,L);else y=l(y)?!!y.capture:!!y,f=Mr(f),a&&a[tt]?(a=a.i,D=String(d).toString(),D in a.g&&(d=a.g[D],f=vt(d,f,y,L),f>-1&&(B(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[D],a.h--)))):a&&(a=en(a))&&(d=a.g[d.toString()],a=-1,d&&(a=vt(d,f,y,L)),(f=a>-1?d[a]:null)&&te(f))}function te(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[tt])Xt(d.i,a);else{var f=a.type,y=a.proxy;d.removeEventListener?d.removeEventListener(f,y,a.capture):d.detachEvent?d.detachEvent(de(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=en(d))?(Xt(f,a),f.h==0&&(f.src=null,d[Bt]=null)):B(a)}}}function de(a){return a in zt?zt[a]:zt[a]="on"+a}function Lt(a,d){if(a.da)a=!0;else{d=new Ne(d,this);const f=a.listener,y=a.ha||a.src;a.fa&&te(a),a=f.call(y,d)}return a}function en(a){return a=a[Bt],a instanceof De?a:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(a){return typeof a=="function"?a:(a[tn]||(a[tn]=function(d){return a.handleEvent(d)}),a[tn])}function Ke(){R.call(this),this.i=new De(this),this.M=this,this.G=null}m(Ke,R),Ke.prototype[tt]=!0,Ke.prototype.removeEventListener=function(a,d,f,y){X(this,a,d,f,y)};function nt(a,d){var f,y=a.G;if(y)for(f=[];y;y=y.G)f.push(y);if(a=a.M,y=d.type||d,typeof d=="string")d=new I(d,a);else if(d instanceof I)d.target=d.target||a;else{var L=d;d=new I(y,a),ae(d,L)}L=!0;let D,H;if(f)for(H=f.length-1;H>=0;H--)D=d.g=f[H],L=Sn(D,y,!0,d)&&L;if(D=d.g=a,L=Sn(D,y,!0,d)&&L,L=Sn(D,y,!1,d)&&L,f)for(H=0;H<f.length;H++)D=d.g=f[H],L=Sn(D,y,!1,d)&&L}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var a=this.i;for(const d in a.g){const f=a.g[d];for(let y=0;y<f.length;y++)B(f[y]);delete a.g[d],a.h--}}this.G=null},Ke.prototype.J=function(a,d,f,y){return this.i.add(String(a),d,!1,f,y)},Ke.prototype.K=function(a,d,f,y){return this.i.add(String(a),d,!0,f,y)};function Sn(a,d,f,y){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let L=!0;for(let D=0;D<d.length;++D){const H=d[D];if(H&&!H.da&&H.capture==f){const ie=H.listener,Ye=H.ha||H.src;H.fa&&Xt(a.i,H),L=ie.call(Ye,y)!==!1&&L}}return L&&!y.defaultPrevented}function ia(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function oa(a){a.g=ia(()=>{a.g=null,a.i&&(a.i=!1,oa(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ds extends R{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function k(a){R.call(this),this.h=a,this.g={}}m(k,R);var z=[];function J(a){Q(a.g,function(d,f){this.g.hasOwnProperty(f)&&te(d)},a),a.g={}}k.prototype.N=function(){k.Z.N.call(this),J(this)},k.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=o.JSON.stringify,ye=o.JSON.parse,xe=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function he(){}function rt(){}var Tt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){I.call(this,"d")}m($n,I);function Ai(){I.call(this,"c")}m(Ai,I);var nn={},hs=null;function fs(){return hs=hs||new Ke}nn.Ia="serverreachability";function Df(a){I.call(this,nn.Ia,a)}m(Df,I);function xi(a){const d=fs();nt(d,new Df(d))}nn.STAT_EVENT="statevent";function Of(a,d){I.call(this,nn.STAT_EVENT,a),this.stat=d}m(Of,I);function At(a){const d=fs();nt(d,new Of(d,a))}nn.Ja="timingevent";function Vf(a,d){I.call(this,nn.Ja,a),this.size=d}m(Vf,I);function _i(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function Ux(a,d,f,y,L,D){a.info(function(){if(a.g)if(D){var H="",ie=D.split("&");for(let _e=0;_e<ie.length;_e++){var Ye=ie[_e].split("=");if(Ye.length>1){const Je=Ye[0];Ye=Ye[1];const pn=Je.split("_");H=pn.length>=2&&pn[1]=="type"?H+(Je+"="+Ye+"&"):H+(Je+"=redacted&")}}}else H=null;else H=D;return"XMLHTTP REQ ("+y+") [attempt "+L+"]: "+d+`
`+f+`
`+H})}function Kx(a,d,f,y,L,D,H){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+L+"]: "+d+`
`+f+`
`+D+" "+H})}function ps(a,d,f,y){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hx(a,f)+(y?" "+y:"")})}function Fx(a,d){a.info(function(){return"TIMEOUT: "+d})}wi.prototype.info=function(){};function Hx(a,d){if(!a.g)return d;if(!d)return null;try{const D=JSON.parse(d);if(D){for(a=0;a<D.length;a++)if(Array.isArray(D[a])){var f=D[a];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var L=y[0];if(L!="noop"&&L!="stop"&&L!="close")for(let H=1;H<y.length;H++)y[H]=""}}}}return we(D)}catch{return d}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uf;function Lu(){}m(Lu,he),Lu.prototype.g=function(){return new XMLHttpRequest},Uf=new Lu;function Ei(a){return encodeURIComponent(String(a))}function Bx(a){var d=1;a=a.split(":");const f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function Yn(a,d,f,y){this.j=a,this.i=d,this.l=f,this.S=y||1,this.V=new k(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kf}function Kf(){this.i=null,this.g="",this.h=!1}var Ff={},Mu={};function Du(a,d,f){a.M=1,a.A=ua(fn(d)),a.u=f,a.R=!0,Hf(a,null)}function Hf(a,d){a.F=Date.now(),la(a),a.B=fn(a.A);var f=a.B,y=a.S;Array.isArray(y)||(y=[String(y)]),tp(f.i,"t",y),a.C=0,f=a.j.L,a.h=new Kf,a.g=Ap(a.j,f?d:null,!a.u),a.P>0&&(a.O=new ds(h(a.Y,a,a.g),a.P)),d=a.V,f=a.g,y=a.ba;var L="readystatechange";Array.isArray(L)||(L&&(z[0]=L.toString()),L=z);for(let D=0;D<L.length;D++){const H=Lr(f,L[D],y||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=a.J?ge(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),xi(),Ux(a.i,a.v,a.B,a.l,a.S,a.u)}Yn.prototype.ba=function(a){a=a.target;const d=this.O;d&&qn(a)==3?d.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{const ie=qn(this.g),Ye=this.g.ya(),_e=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||lp(this.g)))){this.K||ie!=4||Ye==7||(Ye==8||_e<=0?xi(3):xi(2)),Ou(this);var d=this.g.ca();this.X=d;var f=zx(this);if(this.o=d==200,Kx(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var y,L=this.g;if((y=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(y)){var D=y;break t}}D=null}if(a=D)ps(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vu(this,a);else{this.o=!1,this.m=3,At(12),Dr(this),Ti(this);break e}}if(this.R){a=!0;let Je;for(;!this.K&&this.C<f.length;)if(Je=$x(this,f),Je==Mu){ie==4&&(this.m=4,At(14),a=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Ff){this.m=4,At(15),ps(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else ps(this.i,this.l,Je,null),Vu(this,Je);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||f.length!=0||this.h.h||(this.m=1,At(16),a=!1),this.o=this.o&&a,!a)ps(this.i,this.l,f,"[Invalid Chunked Response]"),Dr(this),Ti(this);else if(f.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),$u(H),H.P=!0,At(11))}}else ps(this.i,this.l,f,null),Vu(this,f);ie==4&&Dr(this),this.o&&!this.K&&(ie==4?mp(this.j,this):(this.o=!1,la(this)))}else i1(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Dr(this),Ti(this)}}}catch{}finally{}};function zx(a){if(!Bf(a))return a.g.la();const d=lp(a.g);if(d==="")return"";let f="";const y=d.length,L=qn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Dr(a),Ti(a),"";a.h.i=new o.TextDecoder}for(let D=0;D<y;D++)a.h.h=!0,f+=a.h.i.decode(d[D],{stream:!(L&&D==y-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function Bf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function $x(a,d){var f=a.C,y=d.indexOf(`
`,f);return y==-1?Mu:(f=Number(d.substring(f,y)),isNaN(f)?Ff:(y+=1,y+f>d.length?Mu:(d=d.slice(y,y+f),a.C=y+f,d)))}Yn.prototype.cancel=function(){this.K=!0,Dr(this)};function la(a){a.T=Date.now()+a.H,zf(a,a.H)}function zf(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=_i(h(a.aa,a),d)}function Ou(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Yn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Fx(this.i,this.B),this.M!=2&&(xi(),At(17)),Dr(this),this.m=2,Ti(this)):zf(this,this.T-a)};function Ti(a){a.j.I==0||a.K||mp(a.j,a)}function Dr(a){Ou(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,J(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Vu(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||ju(f.h,a))){if(!a.L&&ju(f.h,a)&&f.I==3){try{var y=f.Ba.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var L=y;if(L[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)pa(f),ha(f);else break e;zu(f),At(18)}}else f.xa=L[1],0<f.xa-f.K&&L[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=_i(h(f.Va,f),6e3));Gf(f.h)<=1&&f.ta&&(f.ta=void 0)}else Vr(f,11)}else if((a.L||f.g==a)&&pa(f),!E(d))for(L=f.Ba.g.parse(d),d=0;d<L.length;d++){let _e=L[d];const Je=_e[0];if(!(Je<=f.K))if(f.K=Je,_e=_e[1],f.I==2)if(_e[0]=="c"){f.M=_e[1],f.ba=_e[2];const pn=_e[3];pn!=null&&(f.ka=pn,f.j.info("VER="+f.ka));const jr=_e[4];jr!=null&&(f.za=jr,f.j.info("SVER="+f.za));const Qn=_e[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(y=1.5*Qn,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Jn=a.g;if(Jn){const ga=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var D=y.h;D.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Uu(D,D.h),D.h=null))}if(y.G){const Yu=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(y.wa=Yu,Re(y.J,y.G,Yu))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var H=a;if(y.na=vp(y,y.L?y.ba:null,y.W),H.L){Wf(y.h,H);var ie=H,Ye=y.O;Ye&&(ie.H=Ye),ie.D&&(Ou(ie),la(ie)),y.g=H}else fp(y);f.i.length>0&&fa(f)}else _e[0]!="stop"&&_e[0]!="close"||Vr(f,7);else f.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Vr(f,7):Bu(f):_e[0]!="noop"&&f.l&&f.l.qa(_e),f.A=0)}}xi(4)}catch{}}var Yx=class{constructor(a,d){this.g=a,this.map=d}};function $f(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gf(a){return a.h?1:a.g?a.g.size:0}function ju(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Uu(a,d){a.g?a.g.add(d):a.h=d}function Wf(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}$f.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function qf(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.G);return d}return T(a.i)}var Qf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gx(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){const y=a[f].indexOf("=");let L,D=null;y>=0?(L=a[f].substring(0,y),D=a[f].substring(y+1)):L=a[f],d(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Gn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof Gn?(this.l=a.l,Ni(this,a.j),this.o=a.o,this.g=a.g,Ri(this,a.u),this.h=a.h,Ku(this,np(a.i)),this.m=a.m):a&&(d=String(a).match(Qf))?(this.l=!1,Ni(this,d[1]||"",!0),this.o=Ii(d[2]||""),this.g=Ii(d[3]||"",!0),Ri(this,d[4]),this.h=Ii(d[5]||"",!0),Ku(this,d[6]||"",!0),this.m=Ii(d[7]||"")):(this.l=!1,this.i=new Ci(null,this.l))}Gn.prototype.toString=function(){const a=[];var d=this.j;d&&a.push(Si(d,Jf,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Si(d,Jf,!0),"@"),a.push(Ei(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Si(f,f.charAt(0)=="/"?Qx:qx,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Si(f,Zx)),a.join("")},Gn.prototype.resolve=function(a){const d=fn(this);let f=!!a.j;f?Ni(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var y=a.h;if(f)Ri(d,a.u);else if(f=!!a.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var L=d.h.lastIndexOf("/");L!=-1&&(y=d.h.slice(0,L+1)+y)}if(L=y,L==".."||L==".")y="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){y=L.lastIndexOf("/",0)==0,L=L.split("/");const D=[];for(let H=0;H<L.length;){const ie=L[H++];ie=="."?y&&H==L.length&&D.push(""):ie==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),y&&H==L.length&&D.push("")):(D.push(ie),y=!0)}y=D.join("/")}else y=L}return f?d.h=y:f=a.i.toString()!=="",f?Ku(d,np(a.i)):f=!!a.m,f&&(d.m=a.m),d};function fn(a){return new Gn(a)}function Ni(a,d,f){a.j=f?Ii(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ri(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function Ku(a,d,f){d instanceof Ci?(a.i=d,Xx(a.i,a.l)):(f||(d=Si(d,Jx)),a.i=new Ci(d,a.l))}function Re(a,d,f){a.i.set(d,f)}function ua(a){return Re(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ii(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Si(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,Wx),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Wx(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jf=/[#\/\?@]/g,qx=/[#\?:]/g,Qx=/[#\?]/g,Jx=/[#\?@]/g,Zx=/#/g;function Ci(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Or(a){a.g||(a.g=new Map,a.h=0,a.i&&Gx(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ci.prototype,t.add=function(a,d){Or(this),this.i=null,a=ms(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Zf(a,d){Or(a),d=ms(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Xf(a,d){return Or(a),d=ms(a,d),a.g.has(d)}t.forEach=function(a,d){Or(this),this.g.forEach(function(f,y){f.forEach(function(L){a.call(d,L,y,this)},this)},this)};function ep(a,d){Or(a);let f=[];if(typeof d=="string")Xf(a,d)&&(f=f.concat(a.g.get(ms(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}t.set=function(a,d){return Or(this),this.i=null,a=ms(this,a),Xf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=ep(this,a),a.length>0?String(a[0]):d):d};function tp(a,d,f){Zf(a,d),f.length>0&&(a.i=null,a.g.set(ms(a,d),T(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(let y=0;y<d.length;y++){var f=d[y];const L=Ei(f);f=ep(this,f);for(let D=0;D<f.length;D++){let H=L;f[D]!==""&&(H+="="+Ei(f[D])),a.push(H)}}return this.i=a.join("&")};function np(a){const d=new Ci;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function ms(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Xx(a,d){d&&!a.j&&(Or(a),a.i=null,a.g.forEach(function(f,y){const L=y.toLowerCase();y!=L&&(Zf(this,y),tp(this,L,f))},a)),a.j=d}function e1(a,d){const f=new wi;if(o.Image){const y=new Image;y.onload=p(Wn,f,"TestLoadImage: loaded",!0,d,y),y.onerror=p(Wn,f,"TestLoadImage: error",!1,d,y),y.onabort=p(Wn,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=p(Wn,f,"TestLoadImage: timeout",!1,d,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else d(!1)}function t1(a,d){const f=new wi,y=new AbortController,L=setTimeout(()=>{y.abort(),Wn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:y.signal}).then(D=>{clearTimeout(L),D.ok?Wn(f,"TestPingServer: ok",!0,d):Wn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Wn(f,"TestPingServer: error",!1,d)})}function Wn(a,d,f,y,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),y(f)}catch{}}function n1(){this.g=new xe}function Fu(a){this.i=a.Sb||null,this.h=a.ab||!1}m(Fu,he),Fu.prototype.g=function(){return new ca(this.i,this.h)};function ca(a,d){Ke.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ca,Ke),t=ca.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,bi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rp(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function rp(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Pi(this):bi(this),this.readyState==3&&rp(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Pi(this))},t.Na=function(a){this.g&&(this.response=a,Pi(this))},t.ga=function(){this.g&&Pi(this)};function Pi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,bi(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function bi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function sp(a){let d="";return Q(a,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function Hu(a,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=sp(f),typeof a=="string"?f!=null&&Ei(f):Re(a,d,f))}function Oe(a){Ke.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Oe,Ke);var r1=/^https?$/i,s1=["POST","PUT"];t=Oe.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uf.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){ip(this,D);return}if(a=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var L in y)f.set(L,y[L]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())f.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(D=>D.toLowerCase()=="content-type"),L=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(s1,d,void 0)>=0)||y||L||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,H]of f)this.g.setRequestHeader(D,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(D){ip(this,D)}};function ip(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,op(a),da(a)}function op(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,nt(this,"complete"),nt(this,"abort"),da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),da(this,!0)),Oe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ap(this):this.Xa())},t.Xa=function(){ap(this)};function ap(a){if(a.h&&typeof i<"u"){if(a.v&&qn(a)==4)setTimeout(a.Ca.bind(a),0);else if(nt(a,"readystatechange"),qn(a)==4){a.h=!1;try{const D=a.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=D===0){let H=String(a.D).match(Qf)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),y=!r1.test(H?H.toLowerCase():"")}f=y}if(f)nt(a,"complete"),nt(a,"success");else{a.o=6;try{var L=qn(a)>2?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.ca()+"]",op(a)}}finally{da(a)}}}}function da(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const f=a.g;a.g=null,d||nt(a,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ye(d)}};function lp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function i1(a){const d={};a=(a.g&&qn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var f=Bx(a[y]);const L=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const D=d[L]||[];d[L]=D,D.push(f)}ee(d,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function up(a){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,a),this.Za=ki("retryDelaySeedMs",1e4,a),this.Ta=ki("forwardChannelMaxRetries",2,a),this.va=ki("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new $f(a&&a.concurrentRequestLimit),this.Ba=new n1,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=up.prototype,t.ka=8,t.I=1,t.connect=function(a,d,f,y){At(0),this.W=a,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=vp(this,null,this.W),fa(this)};function Bu(a){if(cp(a),a.I==3){var d=a.V++,f=fn(a.J);if(Re(f,"SID",a.M),Re(f,"RID",d),Re(f,"TYPE","terminate"),Li(a,f),d=new Yn(a,a.j,d),d.M=2,d.A=ua(fn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=Ap(d.j,null),d.g.ea(d.A)),d.F=Date.now(),la(d)}yp(a)}function ha(a){a.g&&($u(a),a.g.cancel(),a.g=null)}function cp(a){ha(a),a.v&&(o.clearTimeout(a.v),a.v=null),pa(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function fa(a){if(!Yf(a.h)&&!a.m){a.m=!0;var d=a.Ea;U||A(),K||(U(),K=!0),_.add(d,a),a.D=0}}function o1(a,d){return Gf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=_i(h(a.Ea,a,d),gp(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const L=new Yn(this,this.j,a);let D=this.o;if(this.U&&(D?(D=ge(D),ae(D,this.U)):D=this.U),this.u!==null||this.R||(L.J=D,D=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=hp(this,L,d),f=fn(this.J),Re(f,"RID",a),Re(f,"CVER",22),this.G&&Re(f,"X-HTTP-Session-Id",this.G),Li(this,f),D&&(this.R?d="headers="+Ei(sp(D))+"&"+d:this.u&&Hu(f,this.u,D)),Uu(this.h,L),this.Ra&&Re(f,"TYPE","init"),this.S?(Re(f,"$req",d),Re(f,"SID","null"),L.U=!0,Du(L,f,null)):Du(L,f,d),this.I=2}}else this.I==3&&(a?dp(this,a):this.i.length==0||Yf(this.h)||dp(this))};function dp(a,d){var f;d?f=d.l:f=a.V++;const y=fn(a.J);Re(y,"SID",a.M),Re(y,"RID",f),Re(y,"AID",a.K),Li(a,y),a.u&&a.o&&Hu(y,a.u,a.o),f=new Yn(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=hp(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Uu(a.h,f),Du(f,y,d)}function Li(a,d){a.H&&Q(a.H,function(f,y){Re(d,y,f)}),a.l&&Q({},function(f,y){Re(d,y,f)})}function hp(a,d,f){f=Math.min(a.i.length,f);const y=a.l?h(a.l.Ka,a.l,a):null;e:{var L=a.i;let ie=-1;for(;;){const Ye=["count="+f];ie==-1?f>0?(ie=L[0].g,Ye.push("ofs="+ie)):ie=0:Ye.push("ofs="+ie);let _e=!0;for(let Je=0;Je<f;Je++){var D=L[Je].g;const pn=L[Je].map;if(D-=ie,D<0)ie=Math.max(0,L[Je].g-100),_e=!1;else try{D="req"+D+"_"||"";try{var H=pn instanceof Map?pn:Object.entries(pn);for(const[jr,Qn]of H){let Jn=Qn;l(Qn)&&(Jn=we(Qn)),Ye.push(D+jr+"="+encodeURIComponent(Jn))}}catch(jr){throw Ye.push(D+"type="+encodeURIComponent("_badmap")),jr}}catch{y&&y(pn)}}if(_e){H=Ye.join("&");break e}}H=void 0}return a=a.i.splice(0,f),d.G=a,H}function fp(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;U||A(),K||(U(),K=!0),_.add(d,a),a.A=0}}function zu(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=_i(h(a.Da,a),gp(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,pp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=_i(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),ha(this),pp(this))};function $u(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function pp(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=fn(a.na);Re(d,"RID","rpc"),Re(d,"SID",a.M),Re(d,"AID",a.K),Re(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&Re(d,"TO",a.ia),Re(d,"TYPE","xmlhttp"),Li(a,d),a.u&&a.o&&Hu(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=ua(fn(d)),f.u=null,f.R=!0,Hf(f,a)}t.Va=function(){this.C!=null&&(this.C=null,ha(this),zu(this),At(19))};function pa(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function mp(a,d){var f=null;if(a.g==d){pa(a),$u(a),a.g=null;var y=2}else if(ju(a.h,d))f=d.G,Wf(a.h,d),y=1;else return;if(a.I!=0){if(d.o)if(y==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var L=a.D;y=fs(),nt(y,new Vf(y,f)),fa(a)}else fp(a);else if(L=d.m,L==3||L==0&&d.X>0||!(y==1&&o1(a,d)||y==2&&zu(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),L){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function gp(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function Vr(a,d){if(a.j.info("Error code "+d),d==2){var f=h(a.bb,a),y=a.Ua;const L=!y;y=new Gn(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ni(y,"https"),ua(y),L?e1(y.toString(),f):t1(y.toString(),f)}else At(2);a.I=0,a.l&&a.l.pa(d),yp(a),cp(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function yp(a){if(a.I=0,a.ja=[],a.l){const d=qf(a.h);(d.length!=0||a.i.length!=0)&&(S(a.ja,d),S(a.ja,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.oa()}}function vp(a,d,f){var y=f instanceof Gn?fn(f):new Gn(f);if(y.g!="")d&&(y.g=d+"."+y.g),Ri(y,y.u);else{var L=o.location;y=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;const D=new Gn(null);y&&Ni(D,y),d&&(D.g=d),L&&Ri(D,L),f&&(D.h=f),y=D}return f=a.G,d=a.wa,f&&d&&Re(y,f,d),Re(y,"VER",a.ka),Li(a,y),y}function Ap(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Oe(new Fu({ab:f})):new Oe(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xp(){}t=xp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ma(){}ma.prototype.g=function(a,d){return new Mt(a,d)};function Mt(a,d){Ke.call(this),this.g=new up(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!E(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new gs(this)}m(Mt,Ke),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Bu(this.g)},Mt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=we(a),a=f);d.i.push(new Yx(d.Ya++,a)),d.I==3&&fa(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Bu(this.g),delete this.g,Mt.Z.N.call(this)};function _p(a){$n.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}m(_p,$n);function wp(){Ai.call(this),this.status=1}m(wp,Ai);function gs(a){this.g=a}m(gs,xp),gs.prototype.ra=function(){nt(this.g,"a")},gs.prototype.qa=function(a){nt(this.g,new _p(a))},gs.prototype.pa=function(a){nt(this.g,new wp)},gs.prototype.oa=function(){nt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,oA=function(){return new ma},iA=function(){return fs()},sA=nn,bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,tl=aa,jf.COMPLETE="complete",rA=jf,rt.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,qi=rt,Oe.prototype.listenOnce=Oe.prototype.K,Oe.prototype.getLastError=Oe.prototype.Ha,Oe.prototype.getLastErrorCode=Oe.prototype.ya,Oe.prototype.getStatus=Oe.prototype.ca,Oe.prototype.getResponseJson=Oe.prototype.La,Oe.prototype.getResponseText=Oe.prototype.la,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Fa,nA=Oe}).apply(typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi="12.8.0";function aI(t){hi=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Qv("@firebase/firestore");function As(){return ss.logLevel}function Y(t,...e){if(ss.logLevel<=pe.DEBUG){const n=e.map(Zh);ss.debug(`Firestore (${hi}): ${t}`,...n)}}function Fn(t,...e){if(ss.logLevel<=pe.ERROR){const n=e.map(Zh);ss.error(`Firestore (${hi}): ${t}`,...n)}}function Xs(t,...e){if(ss.logLevel<=pe.WARN){const n=e.map(Zh);ss.warn(`Firestore (${hi}): ${t}`,...n)}}function Zh(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aA(t,r,n)}function aA(t,e,n){let r=`FIRESTORE (${hi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fn(r),new Error(r)}function ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aA(e,s,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class uI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cI{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new lA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class dI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ng{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ng(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ng(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pI(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function kd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Rc(s)===Rc(i)?le(s,i):Rc(s)?1:-1}return le(t.length,e.length)}const mI=55296,gI=57343;function Rc(t){const e=t.charCodeAt(0);return e>=mI&&e<=gI}function ei(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="__name__";class yn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=yn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return le(e.length,n.length)}static compareSegments(e,n){const r=yn.isNumericId(e),s=yn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?yn.extractNumericId(e).compare(yn.extractNumericId(n)):kd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class Ee extends yn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends yn{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return yI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rg}static keyField(){return new at([rg])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new $(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new $(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(Ee.fromString(e))}static fromName(e){return new q(Ee.fromString(e).popFirst(5))}static empty(){return new q(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){if(!n)throw new $(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vI(t,e,n,r){if(e===!0&&r===!0)throw new $(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sg(t){if(!q.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ig(t){if(q.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vu(t);throw new $(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xo(t,e){if(!cA(t))throw new $(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new $(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-62135596800,ag=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ag);return new Se(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<og)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ag}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xo(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-og;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:ze("string",Se._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Se(0,0))}static max(){return new ne(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function AI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Se(n+1,0):new Se(n,r));return new xr(s,q.empty(),e)}function xI(t){return new xr(t.readTime,t.key,Vo)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(ne.min(),q.empty(),Vo)}static max(){return new xr(ne.max(),q.empty(),Vo)}}function _I(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==wI)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(p=>{o[h]=p,++l,l===i&&r(o)},p=>s(p))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Au.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=-1;function xu(t){return t==null}function Kl(t){return t===0&&1/t==-1/0}function NI(t){return typeof t=="number"&&Number.isInteger(t)&&!Kl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="";function RI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lg(e)),e=II(t.get(n),e);return lg(e)}function II(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case dA:n+="";break;default:n+=i}}return n}function lg(t){return t+dA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oa(this.root,e,this.comparator,!0)}}class Oa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cg(this.data.getIterator())}getIteratorFrom(e){return new cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new Qe(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fA("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const SI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=SI.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="server_timestamp",mA="__type__",gA="__previous_value__",yA="__local_write_time__";function tf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mA])==null?void 0:r.stringValue)===pA}function _u(t){const e=t.mapValue.fields[gA];return tf(e)?_u(e):e}function jo(t){const e=_r(t.mapValue.fields[yA].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,s,i,o,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p,this.apiKey=m}}const Fl="(default)";class Uo{constructor(e,n){this.projectId=e,this.database=n||Fl}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Fl}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}function PI(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="__type__",bI="__max__",Va={mapValue:{}},AA="__vector__",Hl="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tf(t)?4:LI(t)?9007199254740991:kI(t)?10:11:Z(28295,{value:t})}function In(t,e){if(t===e)return!0;const n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_r(s.timestampValue),l=_r(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return wr(s.bytesValue).isEqual(wr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return je(s.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(s.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return je(s.integerValue)===je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=je(s.doubleValue),l=je(i.doubleValue);return o===l?Kl(o)===Kl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ei(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(ug(o)!==ug(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!In(o[c],l[c])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Ko(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function ti(t,e){if(t===e)return 0;const n=Er(t),r=Er(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=je(i.integerValue||i.doubleValue),c=je(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return dg(t.timestampValue,e.timestampValue);case 4:return dg(jo(t),jo(e));case 5:return kd(t.stringValue,e.stringValue);case 6:return function(i,o){const l=wr(i),c=wr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const p=le(l[h],c[h]);if(p!==0)return p}return le(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=le(je(i.latitude),je(o.latitude));return l!==0?l:le(je(i.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hg(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,T,S,C;const l=i.fields||{},c=o.fields||{},h=(g=l[Hl])==null?void 0:g.arrayValue,p=(T=c[Hl])==null?void 0:T.arrayValue,m=le(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((C=p==null?void 0:p.values)==null?void 0:C.length)||0);return m!==0?m:hg(h,p)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Va.mapValue&&o===Va.mapValue)return 0;if(i===Va.mapValue)return 1;if(o===Va.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const g=kd(c[m],p[m]);if(g!==0)return g;const T=ti(l[c[m]],h[p[m]]);if(T!==0)return T}return le(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function dg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=_r(t),r=_r(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function hg(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ti(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function ni(t){return Ld(t)}function Ld(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ld(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ld(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function nl(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_u(t);return e?16+nl(e):16;case 5:return 2*t.stringValue.length;case 6:return wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+nl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Pr(r.fields,(i,o)=>{s+=i.length+nl(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function fg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Md(t){return!!t&&"integerValue"in t}function nf(t){return!!t&&"arrayValue"in t}function pg(t){return!!t&&"nullValue"in t}function mg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rl(t){return!!t&&"mapValue"in t}function kI(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vA])==null?void 0:r.stringValue)===AA}function co(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=co(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=co(t.arrayValue.values[n]);return e}return{...t}}function LI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=co(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Pr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new It(co(this.value))}}function xA(t){const e=[];return Pr(t.fields,(n,r)=>{const s=new at([n]);if(rl(r)){const i=xA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,ne.min(),ne.min(),ne.min(),It.empty(),0)}static newFoundDocument(e,n,r,s){return new gt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new gt(e,2,n,ne.min(),ne.min(),It.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,ne.min(),ne.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function gg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ti(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function yg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function MI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class Be extends _A{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OI(e,n,r):n==="array-contains"?new UI(e,r):n==="in"?new KI(e,r):n==="not-in"?new FI(e,r):n==="array-contains-any"?new HI(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VI(e,r):new jI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ti(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(ti(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends _A{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hn(e,n)}matches(e){return wA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wA(t){return t.op==="and"}function EA(t){return DI(t)&&wA(t)}function DI(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Dd(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+ni(t.value);if(EA(t))return t.filters.map(e=>Dd(e)).join(",");{const e=t.filters.map(n=>Dd(n)).join(",");return`${t.op}(${e})`}}function TA(t,e){return t instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&In(r.value,s.value)}(t,e):t instanceof hn?function(r,s){return s instanceof hn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&TA(o,s.filters[l]),!0):!1}(t,e):void Z(19439)}function NA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${ni(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}class OI extends Be{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class VI extends Be{constructor(e,n){super(e,"in",n),this.keys=RA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jI extends Be{constructor(e,n){super(e,"not-in",n),this.keys=RA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class UI extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nf(n)&&Ko(n.arrayValue,this.value)}}class KI extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}}class FI extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ko(this.value.arrayValue,n)}}class HI extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ko(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function vg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new BI(t,e,n,r,s,i,o)}function rf(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ni(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ni(r)).join(",")),e.Te=n}return e.Te}function sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yg(t.startAt,e.startAt)&&yg(t.endAt,e.endAt)}function Od(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zI(t,e,n,r,s,i,o,l){return new mi(t,e,n,r,s,i,o,l)}function of(t){return new mi(t)}function Ag(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $I(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function IA(t){return t.collectionGroup!==null}function ho(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qe(at.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Fo(i,r))}),n.has(at.keyField().canonicalString())||e.Ie.push(new Fo(at.keyField(),r))}return e.Ie}function _n(t){const e=re(t);return e.Ee||(e.Ee=YI(e,ho(t))),e.Ee}function YI(t,e){if(t.limitType==="F")return vg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fo(s.field,i)});const n=t.endAt?new Bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bl(t.startAt.position,t.startAt.inclusive):null;return vg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vd(t,e){const n=t.filters.concat([e]);return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GI(t,e){const n=t.explicitOrderBy.concat([e]);return new mi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function zl(t,e,n){return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wu(t,e){return sf(_n(t),_n(e))&&t.limitType===e.limitType}function SA(t){return`${rf(_n(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>NA(s)).join(", ")}]`),xu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ni(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ni(s)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Eu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ho(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const h=gg(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,ho(r),s)||r.endAt&&!function(o,l,c){const h=gg(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,ho(r),s))}(t,e)}function WI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CA(t){return(e,n)=>{let r=!1;for(const s of ho(t)){const i=qI(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qI(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?ti(c,h):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Me(q.comparator);function Hn(){return QI}const PA=new Me(q.comparator);function Qi(...t){let e=PA;for(const n of t)e=e.insert(n.key,n);return e}function bA(t){let e=PA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return fo()}function kA(){return fo()}function fo(){return new us(t=>t.toString(),(t,e)=>t.isEqual(e))}const JI=new Me(q.comparator),ZI=new Qe(q.comparator);function ue(...t){let e=ZI;for(const n of t)e=e.add(n);return e}const XI=new Qe(le);function e2(){return XI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kl(e)?"-0":e}}function LA(t){return{integerValue:""+t}}function MA(t,e){return NI(e)?LA(e):af(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this._=void 0}}function t2(t,e,n){return t instanceof $l?function(s,i){const o={fields:{[mA]:{stringValue:pA},[yA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&tf(i)&&(i=_u(i)),i&&(o.fields[gA]=i),{mapValue:o}}(n,e):t instanceof ri?OA(t,e):t instanceof Ho?VA(t,e):function(s,i){const o=DA(s,i),l=xg(o)+xg(s.Ae);return Md(o)&&Md(s.Ae)?LA(l):af(s.serializer,l)}(t,e)}function n2(t,e,n){return t instanceof ri?OA(t,e):t instanceof Ho?VA(t,e):n}function DA(t,e){return t instanceof Bo?function(r){return Md(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $l extends Tu{}class ri extends Tu{constructor(e){super(),this.elements=e}}function OA(t,e){const n=jA(e);for(const r of t.elements)n.some(s=>In(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends Tu{constructor(e){super(),this.elements=e}}function VA(t,e){let n=jA(e);for(const r of t.elements)n=n.filter(s=>!In(s,r));return{arrayValue:{values:n}}}class Bo extends Tu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xg(t){return je(t.integerValue||t.doubleValue)}function jA(t){return nf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.field=e,this.transform=n}}function r2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ri&&s instanceof ri||r instanceof Ho&&s instanceof Ho?ei(r.elements,s.elements,In):r instanceof Bo&&s instanceof Bo?In(r.Ae,s.Ae):r instanceof $l&&s instanceof $l}(t.transform,e.transform)}class s2{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nu{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HA(t.key,wn.none()):new ea(t.key,t.data,wn.none());{const n=t.data,r=It.empty();let s=new Qe(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new br(t.key,r,new Vt(s.toArray()),wn.none())}}function i2(t,e,n){t instanceof ea?function(s,i,o){const l=s.value.clone(),c=wg(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof br?function(s,i,o){if(!sl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=wg(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(FA(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function po(t,e,n,r){return t instanceof ea?function(i,o,l,c){if(!sl(i.precondition,o))return l;const h=i.value.clone(),p=Eg(i.fieldTransforms,c,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof br?function(i,o,l,c){if(!sl(i.precondition,o))return l;const h=Eg(i.fieldTransforms,c,o),p=o.data;return p.setAll(FA(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return sl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function o2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=DA(r.transform,s||null);i!=null&&(n===null&&(n=It.empty()),n.set(r.field,i))}return n||null}function _g(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ei(r,s,(i,o)=>r2(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ea extends Nu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class br extends Nu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wg(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,n2(o,l,n[s]))}return r}function Eg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,t2(i,o,e))}return r}class HA extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&i2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=po(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=KA(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,(n,r)=>_g(n,r))&&ei(this.baseMutations,e.baseMutations,(n,r)=>_g(n,r))}}class lf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return JI}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new lf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,fe;function d2(t){switch(t){case V.OK:return Z(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function BA(t){if(t===void 0)return Fn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Fe.OK:return V.OK;case Fe.CANCELLED:return V.CANCELLED;case Fe.UNKNOWN:return V.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return V.INTERNAL;case Fe.UNAVAILABLE:return V.UNAVAILABLE;case Fe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Fe.NOT_FOUND:return V.NOT_FOUND;case Fe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Fe.ABORTED:return V.ABORTED;case Fe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Fe.DATA_LOSS:return V.DATA_LOSS;default:return Z(39323,{code:t})}}(fe=Fe||(Fe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new gr([4294967295,4294967295],0);function Tg(t){const e=h2().encode(t),n=new tA;return n.update(e),new Uint8Array(n.digest())}function Ng(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gr([n,r],0),new gr([s,i],0)]}class uf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ji(`Invalid padding: ${n}`);if(r<0)throw new Ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ji(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(gr.fromNumber(r)));return s.compare(f2)===1&&(s=new gr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tg(e),[r,s]=Ng(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uf(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Tg(e),[r,s]=Ng(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ji extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ru(ne.min(),s,new Me(le),Hn(),ue())}}class ta{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ta(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zA{constructor(e,n){this.targetId=e,this.Ce=n}}class $A{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Rg{constructor(){this.ve=0,this.Fe=Ig(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new ta(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Ig()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class p2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hn(),this.He=ja(),this.Je=ja(),this.Ze=new Me(le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Od(i))if(r===0){const o=new q(i.path);this.et(n,o,gt.newNoDocument(o,ne.min()))}else ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=wr(r).toUint8Array()}catch(c){if(c instanceof fA)return Xs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new uf(o,s,i)}catch(c){return Xs(c instanceof Ji?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Od(l.target)){const c=new q(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,gt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ue();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ru(e,n,this.Ze,this.je,r);return this.je=Hn(),this.He=ja(),this.Je=ja(),this.Ze=new Me(le),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Rg,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Qe(le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Qe(le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ja(){return new Me(q.comparator)}function Ig(){return new Me(q.comparator)}const m2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class v2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jd(t,e){return t.useProto3Json||xu(e)?e:{value:e}}function Yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A2(t,e){return Yl(t,e.toTimestamp())}function En(t){return ve(!!t,49232),ne.fromTimestamp(function(n){const r=_r(n);return new Se(r.seconds,r.nanos)}(t))}function cf(t,e){return Ud(t,e).canonicalString()}function Ud(t,e){const n=function(s){return new Ee(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GA(t){const e=Ee.fromString(t);return ve(ZA(e),10190,{key:e.toString()}),e}function Kd(t,e){return cf(t.databaseId,e.path)}function Ic(t,e){const n=GA(e);if(n.get(1)!==t.databaseId.projectId)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(qA(n))}function WA(t,e){return cf(t.databaseId,e)}function x2(t){const e=GA(t);return e.length===4?Ee.emptyPath():qA(e)}function Fd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qA(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sg(t,e,n){return{name:Kd(t,e),fields:n.value.mapValue.fields}}function _2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Z(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(ve(p===void 0||typeof p=="string",58123),ct.fromBase64String(p||"")):(ve(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ct.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const p=h.code===void 0?V.UNKNOWN:BA(h.code);return new $(p,h.message||"")}(o);n=new $A(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ic(t,r.document.name),i=En(r.document.updateTime),o=r.document.createTime?En(r.document.createTime):ne.min(),l=new It({mapValue:{fields:r.document.fields}}),c=gt.newFoundDocument(s,i,o,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new il(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ic(t,r.document),i=r.readTime?En(r.readTime):ne.min(),o=gt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new il([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ic(t,r.document),i=r.removedTargetIds||[];n=new il([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new c2(s,i),l=r.targetId;n=new zA(l,o)}}return n}function w2(t,e){let n;if(e instanceof ea)n={update:Sg(t,e.key,e.value)};else if(e instanceof HA)n={delete:Kd(t,e.key)};else if(e instanceof br)n={update:Sg(t,e.key,e.data),updateMask:b2(e.fieldMask)};else{if(!(e instanceof a2))return Z(16599,{dt:e.type});n={verify:Kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bo)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:A2(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function E2(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?En(s.updateTime):En(i);return o.isEqual(ne.min())&&(o=En(i)),new s2(o,s.transformResults||[])}(n,e))):[]}function T2(t,e){return{documents:[WA(t,e.path)]}}function N2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WA(t,s);const i=function(h){if(h.length!==0)return JA(hn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:_s(g.field),direction:S2(g.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=jd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function R2(t){let e=x2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ve(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(m){const g=QA(m);return g instanceof hn&&EA(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(S){return new Fo(ws(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,xu(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,T=m.values||[];return new Bl(T,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,T=m.values||[];return new Bl(T,g)}(n.endAt)),zI(e,s,o,i,l,"F",c,h)}function I2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ws(n.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(n.unaryFilter.field);return Be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(ws(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>QA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function S2(t){return m2[t]}function C2(t){return g2[t]}function P2(t){return y2[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ws(t){return at.fromServerFormat(t.fieldPath)}function JA(t){return t instanceof Be?function(n){if(n.op==="=="){if(mg(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(pg(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mg(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(pg(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:C2(n.op),value:n.value}}}(t):t instanceof hn?function(n){const r=n.getFilters().map(s=>JA(s));return r.length===1?r[0]:{compositeFilter:{op:P2(n.op),filters:r}}}(t):Z(54877,{filter:t})}function b2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function XA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,s,i=ne.min(),o=ne.min(),l=ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.yt=e}}function L2(t){const e=R2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Sn=new D2}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(xr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class D2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qe(Ee.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qe(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ex=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(ex,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new si(0)}static ar(){return new si(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LruGarbageCollector",O2=1048576;function bg([t,e],[n,r]){const s=le(t,n);return s===0?le(e,r):s}class V2{constructor(e){this.Pr=e,this.buffer=new Qe(bg),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Y(Pg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pi(n)?Y(Pg,"Ignoring IndexedDB error during garbage collection: ",n):await fi(n)}await this.Ar(3e5)})}}class U2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Au.ce);const r=new V2(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Cg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cg):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,l,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),As()<=pe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function K2(t,e){return new U2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&po(r.mutation,s,Vt.empty(),Se.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const s=$r();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Qi();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Hn();const o=fo(),l=function(){return fo()}();return n.forEach((c,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof br)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),po(p.mutation,h,p.mutation.getFieldMask(),Se.now())):o.set(h.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>l.set(h,new H2(p,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=fo();let s=new Me((o,l)=>o-l),i=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||Vt.empty();p=l.applyToLocalView(h,p),r.set(c,p);const m=(s.get(l.batchId)||ue()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,p=c.value,m=kA();p.forEach(g=>{if(!i.has(g)){const T=KA(n.get(g),r.get(g));T!==null&&m.set(g,T),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return $I(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve($r());let l=Vo,c=i;return o.next(h=>j.forEach(h,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{c=c.insert(p,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,ue())).next(p=>({batchId:l,changes:bA(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let s=Qi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Qi();return this.indexManager.getCollectionParents(e,i).next(l=>j.forEach(l,c=>{const h=function(m,g){return new mi(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,gt.newInvalidDocument(p)))});let l=Qi();return o.forEach((c,h)=>{const p=i.get(c);p!==void 0&&po(p.mutation,h,Vt.empty(),Se.now()),Eu(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:En(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:L2(s.bundledQuery),readTime:En(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new Me(q.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=$r(),i=n.length+1,o=new q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Me((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=$r(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=$r(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=s)););return j.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u2(n,r));let i=this.Lr.get(n);i===void 0&&(i=ue(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.kr=new Qe(Ze.Kr),this.qr=new Qe(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ze(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new q(new Ee([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new q(new Ee([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=ue();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return q.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qe(Ze.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new l2(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Jr=this.Jr.add(new Ze(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?ef:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(le);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new q(i),0);let l=new Qe(le);return this.Jr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Hr)),!0)},o),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Ze(n,0),s=this.Jr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.ti=e,this.docs=function(){return new Me(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gt.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hn();const o=n.path,l=new q(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||_I(xI(p),r)<=0||(s.has(p.key)||Eu(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}ni(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q2(this)}getSize(e){return j.resolve(this.size)}}class q2 extends F2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.persistence=e,this.ri=new us(n=>rf(n),sf),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.ii=0,this.si=new df,this.targetCount=0,this.oi=si._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new si(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this._i={},this.overlays={},this.ai=new Au(0),this.ui=!1,this.ui=!0,this.ci=new Y2,this.referenceDelegate=e(this),this.li=new Q2(this),this.indexManager=new M2,this.remoteDocumentCache=function(s){return new W2(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new k2(n),this.Pi=new z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new G2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new J2(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return j.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class J2 extends EI{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Ri=new df,this.Ai=null}static Vi(e){return new hf(e)}get di(){if(this.Ai)return this.Ai;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const s=q.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gl{constructor(e,n){this.persistence=e,this.fi=new us(r=>RI(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=K2(this,n)}static Vi(e,n){return new Gl(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nl(e.data.value)),n}wr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ue(),s=ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ff(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return FN()?8:TI(UN())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Z2;return this.ys(e,n,o).next(l=>{if(i.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(As()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(As()<=pe.DEBUG&&Y("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(As()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):j.resolve())}gs(e,n){if(Ag(n))return j.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=zl(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ue(...i);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.bs(n,l);return this.Ss(n,h,o,c.readTime)?this.gs(e,zl(n,null,"F")):this.Ds(e,h,n,c)}))})))}ps(e,n,r,s){return Ag(n)||s.isEqual(ne.min())?j.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?j.resolve(null):(As()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xs(n)),this.Ds(e,o,n,AI(s,Vo)).next(l=>l))})}bs(e,n){let r=new Qe(CA(e));return n.forEach((s,i)=>{Eu(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return As()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",xs(n)),this.fs.getDocumentsMatchingQuery(e,n,xr.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="LocalStore",eS=3e8;class tS{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Me(le),this.Fs=new us(i=>rf(i),sf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function nS(t,e,n,r){return new tS(t,e,n,r)}async function nx(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ue();for(const h of s){o.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of i){l.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ns:h,removedBatchIds:o,addedBatchIds:l}))})})}function rS(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,p){const m=h.batch,g=m.keys();let T=j.resolve();return g.forEach(S=>{T=T.next(()=>p.getEntry(c,S)).next(C=>{const M=h.docVersions.get(S);ve(M!==null,48541),C.version.compareTo(M)<0&&(m.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),p.addEntry(C)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rx(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function sS(t,e){const n=re(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((p,m)=>{const g=s.get(m);if(!g)return;l.push(n.li.removeMatchingKeys(i,p.removedDocuments,m).next(()=>n.li.addMatchingKeys(i,p.addedDocuments,m)));let T=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(ct.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),s=s.insert(m,T),function(C,M,w){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=eS?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,T,p)&&l.push(n.li.updateTargetData(i,T))});let c=Hn(),h=ue();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),l.push(iS(i,o,e.documentUpdates).next(p=>{c=p.Bs,h=p.Ls})),!r.isEqual(ne.min())){const p=n.li.getLastRemoteSnapshotVersion(i).next(m=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(p)}return j.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.vs=s,i))}function iS(t,e,n){let r=ue(),s=ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hn();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Y(pf,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Bs:o,Ls:s}})}function oS(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ef),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aS(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ir(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Hd(t,e,n){const r=re(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pi(o))throw o;Y(pf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function kg(t,e,n){const r=re(t);let s=ne.min(),i=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,p){const m=re(c),g=m.Fs.get(p);return g!==void 0?j.resolve(m.vs.get(g)):m.li.getTargetData(h,p)}(r,o,_n(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:ue())).next(l=>(lS(r,WI(e),l),{documents:l,ks:i})))}function lS(t,e,n){let r=t.Ms.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class Lg{constructor(){this.activeTargetIds=e2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uS{constructor(){this.vo=new Lg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Lg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="ConnectivityMonitor";class Dg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(Mg,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Y(Mg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua=null;function Bd(){return Ua===null?Ua=function(){return 268435456+Math.round(2147483648*Math.random())}():Ua++,"0x"+Ua.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Fl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Bd(),l=this.Qo(e,n.toUriEncodedString());Y(Sc,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,i);const{host:h}=new URL(l),p=qh(h);return this.zo(e,l,c,r,p).then(m=>(Y(Sc,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Xs(Sc,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=dS[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection",Bi=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Bs extends hS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Bs.c_){const e=iA();Bi(e,sA.STAT_EVENT,n=>{n.stat===bd.PROXY?Y(ft,"STAT_EVENT: detected buffering proxy"):n.stat===bd.NOPROXY&&Y(ft,"STAT_EVENT: detected no buffering proxy")}),Bs.c_=!0}}zo(e,n,r,s,i){const o=Bd();return new Promise((l,c)=>{const h=new nA;h.setWithCredentials(!0),h.listenOnce(rA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case tl.NO_ERROR:const m=h.getResponseJson();Y(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case tl.TIMEOUT:Y(ft,`RPC '${e}' ${o} timed out`),c(new $(V.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:const g=h.getStatus();if(Y(ft,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const C=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(v)>=0?v:V.UNKNOWN}(S.status);c(new $(C,S.message))}else c(new $(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new $(V.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Y(ft,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);Y(ft,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",p,r,15)})}T_(e,n,r){const s=Bd(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(ft,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.I_(p);let m=!1,g=!1;const T=new fS({Ho:S=>{g?Y(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(Y(ft,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Y(ft,`RPC '${e}' stream ${s} sending:`,S),p.send(S))},Jo:()=>p.close()});return Bi(p,qi.EventType.OPEN,()=>{g||(Y(ft,`RPC '${e}' stream ${s} transport opened.`),T.i_())}),Bi(p,qi.EventType.CLOSE,()=>{g||(g=!0,Y(ft,`RPC '${e}' stream ${s} transport closed`),T.o_(),this.E_(p))}),Bi(p,qi.EventType.ERROR,S=>{g||(g=!0,Xs(ft,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new $(V.UNAVAILABLE,"The operation could not be completed")))}),Bi(p,qi.EventType.MESSAGE,S=>{var C;if(!g){const M=S.data[0];ve(!!M,16349);const w=M,v=(w==null?void 0:w.error)||((C=w[0])==null?void 0:C.error);if(v){Y(ft,`RPC '${e}' stream ${s} received error:`,v);const N=v.status;let O=function(_){const A=Fe[_];if(A!==void 0)return BA(A)}(N),U=v.message;O===void 0&&(O=V.INTERNAL,U="Unknown error status: "+N+" with message "+v.message),g=!0,T.o_(new $(O,U)),p.close()}else Y(ft,`RPC '${e}' stream ${s} received:`,M),T.__(M)}}),Bs.u_(),setTimeout(()=>{T.s_()},0),T}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){return new Bs(t)}function Cc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return new v2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs.c_=!1;class sx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="PersistentStream";class ix{constructor(e,n,r,s,i,o,l,c){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new $(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(Og,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Y(Og,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mS extends ix{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_2(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?En(o.readTime):ne.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Fd(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Od(c)?{documents:T2(i,c)}:{query:N2(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=YA(i,o.resumeToken);const h=jd(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ne.min())>0){l.readTime=Yl(i,o.snapshotVersion.toTimestamp());const h=jd(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=I2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Fd(this.serializer),n.removeTarget=e,this.K_(n)}}class gS extends ix{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=E2(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fd(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w2(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{}class vS extends yS{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Ud(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(V.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,Ud(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(V.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function AS(t,e,n,r){return new vS(t,e,n,r)}class xS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="RemoteStore";class _S{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{cs(this)&&(Y(is,"Restarting streams for network reachability change."),await async function(c){const h=re(c);h.Ea.add(4),await na(h),h.Va.set("Unknown"),h.Ea.delete(4),await Su(h)}(this))})}),this.Va=new xS(r,s)}}async function Su(t){if(cs(t))for(const e of t.Ra)await e(!0)}async function na(t){for(const e of t.Ra)await e(!1)}function ox(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vf(n)?yf(n):gi(n).O_()&&gf(n,e))}function mf(t,e){const n=re(t),r=gi(n);n.Ia.delete(e),r.O_()&&ax(n,e),n.Ia.size===0&&(r.O_()?r.L_():cs(n)&&n.Va.set("Unknown"))}function gf(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gi(t).Z_(e)}function ax(t,e){t.da.$e(e),gi(t).X_(e)}function yf(t){t.da=new p2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gi(t).start(),t.Va.ua()}function vf(t){return cs(t)&&!gi(t).x_()&&t.Ia.size>0}function cs(t){return re(t).Ea.size===0}function lx(t){t.da=void 0}async function wS(t){t.Va.set("Online")}async function ES(t){t.Ia.forEach((e,n)=>{gf(t,e)})}async function TS(t,e){lx(t),vf(t)?(t.Va.ha(e),yf(t)):t.Va.set("Unknown")}async function NS(t,e,n){if(t.Va.set("Online"),e instanceof $A&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(r){Y(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wl(t,r)}else if(e instanceof il?t.da.Xe(e):e instanceof zA?t.da.st(e):t.da.tt(e),!n.isEqual(ne.min()))try{const r=await rx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=i.Ia.get(h);p&&i.Ia.set(h,p.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const p=i.Ia.get(c);if(!p)return;i.Ia.set(c,p.withResumeToken(ct.EMPTY_BYTE_STRING,p.snapshotVersion)),ax(i,c);const m=new ir(p.target,c,h,p.sequenceNumber);gf(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y(is,"Failed to raise snapshot:",r),await Wl(t,r)}}async function Wl(t,e,n){if(!pi(e))throw e;t.Ea.add(1),await na(t),t.Va.set("Offline"),n||(n=()=>rx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(is,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Su(t)})}function ux(t,e){return e().catch(n=>Wl(t,n,e))}async function Cu(t){const e=re(t),n=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ef;for(;RS(e);)try{const s=await oS(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,IS(e,s)}catch(s){await Wl(e,s)}cx(e)&&dx(e)}function RS(t){return cs(t)&&t.Ta.length<10}function IS(t,e){t.Ta.push(e);const n=Tr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function cx(t){return cs(t)&&!Tr(t).x_()&&t.Ta.length>0}function dx(t){Tr(t).start()}async function SS(t){Tr(t).ra()}async function CS(t){const e=Tr(t);for(const n of t.Ta)e.ea(n.mutations)}async function PS(t,e,n){const r=t.Ta.shift(),s=lf.from(r,e,n);await ux(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cu(t)}async function bS(t,e){e&&Tr(t).Y_&&await async function(r,s){if(function(o){return d2(o)&&o!==V.ABORTED}(s.code)){const i=r.Ta.shift();Tr(r).B_(),await ux(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cu(r)}}(t,e),cx(t)&&dx(t)}async function Vg(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),Y(is,"RemoteStore received new credentials");const r=cs(n);n.Ea.add(3),await na(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Su(n)}async function kS(t,e){const n=re(t);e?(n.Ea.delete(2),await Su(n)):e||(n.Ea.add(2),await na(n),n.Va.set("Unknown"))}function gi(t){return t.ma||(t.ma=function(n,r,s){const i=re(n);return i.sa(),new mS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:wS.bind(null,t),Yo:ES.bind(null,t),t_:TS.bind(null,t),J_:NS.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),vf(t)?yf(t):t.Va.set("Unknown")):(await t.ma.stop(),lx(t))})),t.ma}function Tr(t){return t.fa||(t.fa=function(n,r,s){const i=re(n);return i.sa(),new gS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:SS.bind(null,t),t_:bS.bind(null,t),ta:CS.bind(null,t),na:PS.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Cu(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(is,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Af(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xf(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),pi(t))return new $(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Qi(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.ga=new Me(q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ii{constructor(e,n,r,s,i,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ii(e,n,zs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class MS{constructor(){this.queries=Ug(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=Ug(),i.forEach((o,l)=>{for(const c of l.ba)c.onError(r)})})(this,new $(V.ABORTED,"Firestore shutting down"))}}function Ug(){return new us(t=>SA(t),wu)}async function DS(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new LS,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=xf(o,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&_f(n)}async function OS(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VS(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(s)&&(r=!0);o.wa=s}}r&&_f(n)}function jS(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function _f(t){t.Ca.forEach(e=>{e.next()})}var zd,Kg;(Kg=zd||(zd={})).Ma="default",Kg.Cache="cache";class US{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ii(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ii.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.key=e}}class fx{constructor(e){this.key=e}}class KS{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.eu=CA(e),this.tu=new zs(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new jg,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,m)=>{const g=s.get(p),T=Eu(this.query,m)?m:null,S=!!g&&this.mutatedKeys.has(g.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;g&&T?g.data.isEqual(T.data)?S!==C&&(r.track({type:3,doc:T}),M=!0):this.su(g,T)||(r.track({type:2,doc:T}),M=!0,(c&&this.eu(T,c)>0||h&&this.eu(T,h)<0)&&(l=!0)):!g&&T?(r.track({type:0,doc:T}),M=!0):g&&!T&&(r.track({type:1,doc:g}),M=!0,(c||h)&&(l=!0)),M&&(T?(o=o.add(T),i=C?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((p,m)=>function(T,S){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Vt:M})}};return C(T)-C(S)}(p.type,m.type)||this.eu(p.doc,m.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Xa;return this.Xa=c,o.length!==0||h?{snapshot:new ii(this.query,e.tu,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jg,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new fx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new hx(r))}),n}cu(e){this.Za=e.ks,this.Ya=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ii.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wf="SyncEngine";class FS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HS{constructor(e){this.key=e,this.hu=!1}}class BS{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new us(l=>SA(l),wu),this.Iu=new Map,this.Eu=new Set,this.Ru=new Me(q.comparator),this.Au=new Map,this.Vu=new df,this.du={},this.mu=new Map,this.fu=si.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zS(t,e,n=!0){const r=Ax(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await px(r,e,n,!0),s}async function $S(t,e){const n=Ax(t);await px(n,e,!0,!1)}async function px(t,e,n,r){const s=await aS(t.localStore,_n(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await YS(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ox(t.remoteStore,s),l}async function YS(t,e,n,r,s){t.pu=(m,g,T)=>async function(C,M,w,v){let N=M.view.ru(w);N.Ss&&(N=await kg(C.localStore,M.query,!1).then(({documents:_})=>M.view.ru(_,N)));const O=v&&v.targetChanges.get(M.targetId),U=v&&v.targetMismatches.get(M.targetId)!=null,K=M.view.applyChanges(N,C.isPrimaryClient,O,U);return Hg(C,M.targetId,K.au),K.snapshot}(t,m,g,T);const i=await kg(t.localStore,e,!0),o=new KS(e,i.ks),l=o.ru(i.documents),c=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,c);Hg(t,n,h.au);const p=new FS(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function GS(t,e,n){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!wu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mf(r.remoteStore,s.targetId),$d(r,s.targetId)}).catch(fi)):($d(r,s.targetId),await Hd(r.localStore,s.targetId,!0))}async function WS(t,e){const n=re(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mf(n.remoteStore,r.targetId))}async function qS(t,e,n){const r=nC(t);try{const s=await function(o,l){const c=re(o),h=Se.now(),p=l.reduce((T,S)=>T.add(S.key),ue());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Hn(),C=ue();return c.xs.getEntries(T,p).next(M=>{S=M,S.forEach((w,v)=>{v.isValidDocument()||(C=C.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(T,S)).next(M=>{m=M;const w=[];for(const v of l){const N=o2(v,m.get(v.key).overlayedDocument);N!=null&&w.push(new br(v.key,N,xA(N.value.mapValue),wn.exists(!0)))}return c.mutationQueue.addMutationBatch(T,h,w,l)}).next(M=>{g=M;const w=M.applyToLocalDocumentSet(m,C);return c.documentOverlayCache.saveOverlays(T,M.batchId,w)})}).then(()=>({batchId:g.batchId,changes:bA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let h=o.du[o.currentUser.toKey()];h||(h=new Me(le)),h=h.insert(l,c),o.du[o.currentUser.toKey()]=h}(r,s.batchId,n),await ra(r,s.changes),await Cu(r.remoteStore)}catch(s){const i=xf(s,"Failed to persist write");n.reject(i)}}async function mx(t,e){const n=re(t);try{const r=await sS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ve(o.hu,14607):s.removedDocuments.size>0&&(ve(o.hu,42227),o.hu=!1))}),await ra(n,r,e)}catch(r){await fi(r)}}function Fg(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=re(o);c.onlineState=l;let h=!1;c.queries.forEach((p,m)=>{for(const g of m.ba)g.va(l)&&(h=!0)}),h&&_f(c)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QS(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Me(q.comparator);o=o.insert(i,gt.newNoDocument(i,ne.min()));const l=ue().add(i),c=new Ru(ne.min(),new Map,new Me(le),o,l);await mx(r,c),r.Ru=r.Ru.remove(i),r.Au.delete(e),Ef(r)}else await Hd(r.localStore,e,!1).then(()=>$d(r,e,n)).catch(fi)}async function JS(t,e){const n=re(t),r=e.batch.batchId;try{const s=await rS(n.localStore,e);yx(n,r,null),gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ra(n,s)}catch(s){await fi(s)}}async function ZS(t,e,n){const r=re(t);try{const s=await function(o,l){const c=re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(ve(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);yx(r,e,n),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ra(r,s)}catch(s){await fi(s)}}function gx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yx(t,e,n){const r=re(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function $d(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||vx(t,r)})}function vx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(mf(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ef(t))}function Hg(t,e,n){for(const r of n)r instanceof hx?(t.Vu.addReference(r.key,e),XS(t,r)):r instanceof fx?(Y(wf,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||vx(t,r.key)):Z(19791,{wu:r})}function XS(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Y(wf,"New document in limbo: "+n),t.Eu.add(r),Ef(t))}function Ef(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new q(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new HS(n)),t.Ru=t.Ru.insert(n,r),ox(t.remoteStore,new ir(_n(of(n.path)),r,"TargetPurposeLimboResolution",Au.ce))}}async function ra(t,e,n){const r=re(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){s.push(h);const m=ff.Es(c.targetId,h);i.push(m)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(c,h){const p=re(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>j.forEach(h,g=>j.forEach(g.Ts,T=>p.persistence.referenceDelegate.addReference(m,g.targetId,T)).next(()=>j.forEach(g.Is,T=>p.persistence.referenceDelegate.removeReference(m,g.targetId,T)))))}catch(m){if(!pi(m))throw m;Y(pf,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const T=p.vs.get(g),S=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(S);p.vs=p.vs.insert(g,C)}}}(r.localStore,i))}async function eC(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){Y(wf,"User change. New user:",e.toKey());const r=await nx(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new $(V.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ra(n,r.Ns)}}function tC(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let s=ue();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function Ax(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QS.bind(null,e),e.Pu.J_=VS.bind(null,e.eventManager),e.Pu.yu=jS.bind(null,e.eventManager),e}function nC(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZS.bind(null,e),e}class ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nS(this.persistence,new X2,e.initialUser,this.serializer)}Cu(e){return new tx(hf.Vi,this.serializer)}Du(e){return new uS}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ql.provider={build:()=>new ql};class rC extends ql{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ve(this.persistence.referenceDelegate instanceof Gl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new tx(r=>Gl.Vi(r,n),this.serializer)}}class Yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MS}()}createDatastore(e){const n=Iu(e.databaseInfo.databaseId),r=pS(e.databaseInfo);return AS(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new _S(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Fg(this.syncEngine,n,0),function(){return Dg.v()?new Dg:new cS}())}createSyncEngine(e,n){return function(s,i,o,l,c,h,p){const m=new BS(s,i,o,l,c,h);return p&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);Y(is,"RemoteStore shutting down."),i.Ea.add(5),await na(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class iC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=Xh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Nr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Nr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pc(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Nr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oC(t);Y(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Vg(e.remoteStore,s)),t._onlineComponents=e}async function oC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Nr,"Using user provided OfflineComponentProvider");try{await Pc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await Pc(t,new ql)}}else Y(Nr,"Using default OfflineComponentProvider"),await Pc(t,new rC(void 0));return t._offlineComponents}async function xx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Nr,"Using user provided OnlineComponentProvider"),await Bg(t,t._uninitializedComponentsProvider._online)):(Y(Nr,"Using default OnlineComponentProvider"),await Bg(t,new Yd))),t._onlineComponents}function aC(t){return xx(t).then(e=>e.syncEngine)}async function zg(t){const e=await xx(t),n=e.eventManager;return n.onListen=zS.bind(null,e.syncEngine),n.onUnlisten=GS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$S.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WS.bind(null,e.syncEngine),n}function lC(t,e,n,r){const s=new sC(r),i=new US(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>DS(await zg(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>OS(await zg(t),i))}}function uC(t,e){const n=new Qr;return t.asyncQueue.enqueueAndForget(async()=>qS(await aC(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="ComponentProvider",$g=new Map;function dC(t,e,n,r,s){return new CI(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,_x(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firestore.googleapis.com",Yg=!0;class Gg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wx,this.ssl=Yg}else this.host=e.host,this.ssl=e.ssl??Yg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ex;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O2)throw new $(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_x(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lI;switch(r.type){case"firstParty":return new hI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$g.get(n);r&&(Y(cC,"Removing Datastore"),$g.delete(n),r.terminate())}(this),Promise.resolve()}}function hC(t,e,n,r={}){var h;t=Jr(t,Pu);const s=qh(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(MN(`https://${l}`),jN("Firestore",!0)),i.host!==wx&&i.host!==l&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Mo(c,o)&&(t._setSettings(c),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=pt.MOCK_USER;else{p=DN(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new pt(g)}t._authCredentials=new uI(new lA(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class $e{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xo(n,$e._jsonSchema))return new $e(e,r||null,new q(Ee.fromString(n.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:ze("string",$e._jsonSchemaVersion),referencePath:ze("string")};class yr extends kr{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new q(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function ol(t,e,...n){if(t=Rn(t),uA("collection","path",e),t instanceof Pu){const r=Ee.fromString(e,...n);return ig(r),new yr(t,null,r)}{if(!(t instanceof $e||t instanceof yr))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return ig(r),new yr(t.firestore,null,r)}}function Es(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=Xh.newId()),uA("doc","path",e),t instanceof Pu){const r=Ee.fromString(e,...n);return sg(r),new $e(t,null,new q(r))}{if(!(t instanceof $e||t instanceof yr))throw new $(V.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return sg(r),new $e(t.firestore,t instanceof yr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="AsyncQueue";class qg{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sx(this,"async_queue_retry"),this._c=()=>{const r=Cc();r&&Y(Wg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pi(e))throw e;Y(Wg,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fn("INTERNAL UNHANDLED ERROR: ",Qg(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Af.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Z(47125,{Pc:Qg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zo extends Pu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qg(e),this._firestoreClient=void 0,await e}}}function Gd(t,e){const n=typeof t=="object"?t:WR(),r=typeof t=="string"?t:Fl,s=BR(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kN("firestore");i&&hC(s,...i)}return s}function Ex(t){if(t._terminated)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fC(t),t._firestoreClient}function fC(t){var r,s,i,o;const e=t._freezeSettings(),n=dC(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iC(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gt(ct.fromBase64String(e))}catch(n){throw new $(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xo(e,Gt._jsonSchema))return Gt.fromBase64String(e.bytes)}}Gt._jsonSchemaVersion="firestore/bytes/1.0",Gt._jsonSchema={type:ze("string",Gt._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tn._jsonSchemaVersion}}static fromJSON(e){if(Xo(e,Tn._jsonSchema))return new Tn(e.latitude,e.longitude)}}Tn._jsonSchemaVersion="firestore/geoPoint/1.0",Tn._jsonSchema={type:ze("string",Tn._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xo(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cn(e.vectorValues);throw new $(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:ze("string",cn._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^__.*__$/;class mC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,n,this.fieldTransforms):new ea(e,this.data,n,this.fieldTransforms)}}class Tx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{dataSource:t})}}class bu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bu({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ql(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Nx(this.dataSource)&&pC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iu(e)}createContext(e,n,r,s=!1){return new bu({dataSource:e,methodName:n,targetDoc:r,path:at.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(t){const e=t._freezeSettings(),n=Iu(t._databaseId);return new gC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yC(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Sf("Data must be an object, but it was:",o,r);const l=Rx(r,o);let c,h;if(i.merge)c=new Vt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const g=oi(e,m,n);if(!o.contains(g))throw new $(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Cx(p,g)||p.push(g)}c=new Vt(p),h=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=o.fieldTransforms;return new mC(new It(l),c,h)}class ku extends sa{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ku}}function vC(t,e,n){return new bu({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rf extends sa{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=vC(this,e,!0),r=this.Ac.map(i=>yi(i,n)),s=new ri(r);return new UA(e.path,s)}isEqual(e){return e instanceof Rf&&Mo(this.Ac,e.Ac)}}class If extends sa{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Bo(e.serializer,MA(e.serializer,this.Vc));return new UA(e.path,n)}isEqual(e){return e instanceof If&&this.Vc===e.Vc}}function AC(t,e,n,r){const s=t.createContext(1,e,n);Sf("Data must be an object, but it was:",s,r);const i=[],o=It.empty();Pr(r,(c,h)=>{const p=Sx(e,c,n);h=Rn(h);const m=s.childContextForFieldPath(p);if(h instanceof ku)i.push(p);else{const g=yi(h,m);g!=null&&(i.push(p),o.set(p,g))}});const l=new Vt(i);return new Tx(o,l,s.fieldTransforms)}function xC(t,e,n,r,s,i){const o=t.createContext(1,e,n),l=[oi(e,r,n)],c=[s];if(i.length%2!=0)throw new $(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(oi(e,i[g])),c.push(i[g+1]);const h=[],p=It.empty();for(let g=l.length-1;g>=0;--g)if(!Cx(h,l[g])){const T=l[g];let S=c[g];S=Rn(S);const C=o.childContextForFieldPath(T);if(S instanceof ku)h.push(T);else{const M=yi(S,C);M!=null&&(h.push(T),p.set(T,M))}}const m=new Vt(h);return new Tx(p,m,o.fieldTransforms)}function _C(t,e,n,r=!1){return yi(n,t.createContext(r?4:3,e))}function yi(t,e){if(Ix(t=Rn(t)))return Sf("Unsupported field value:",e,t),Rx(t,e);if(t instanceof sa)return function(r,s){if(!Nx(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=yi(l,s.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Se.fromDate(r);return{timestampValue:Yl(s.serializer,i)}}if(r instanceof Se){const i=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yl(s.serializer,i)}}if(r instanceof Tn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gt)return{bytesValue:YA(s.serializer,r._byteString)};if(r instanceof $e){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cn)return function(o,l){const c=o instanceof cn?o.toArray():o;return{mapValue:{fields:{[vA]:{stringValue:AA},[Hl]:{arrayValue:{values:c.map(p=>{if(typeof p!="number")throw l.createError("VectorValues must only contain numeric values.");return af(l.serializer,p)})}}}}}}(r,s);if(XA(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${vu(r)}`)}(t,e)}function Rx(t,e){const n={};return hA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(t,(r,s)=>{const i=yi(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ix(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Tn||t instanceof Gt||t instanceof $e||t instanceof sa||t instanceof cn||XA(t))}function Sf(t,e,n){if(!Ix(n)||!cA(n)){const r=vu(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function oi(t,e,n){if((e=Rn(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return Sx(t,e);throw Ql("Field path arguments must be of type string or ",t,!1,void 0,n)}const wC=new RegExp("[~\\*/\\[\\]]");function Sx(t,e,n){if(e.search(wC)>=0)throw Ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw Ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ql(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new $(V.INVALID_ARGUMENT,l+t+c)}function Cx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Hl].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>je(o.doubleValue));return new cn(n)}convertGeoPoint(e){return new Tn(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_u(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=_r(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ve(ZA(r),9688,{name:e});const s=new Uo(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||Fn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends EC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function Jg(...t){return new Rf("arrayUnion",t)}function TC(t){return new If("increment",t)}const Zg="@firebase/firestore",Xg="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(oi("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NC extends bx{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}class Pf extends Cf{}function kx(t,e,...n){let r=[];e instanceof Cf&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof kf).length,l=i.filter(c=>c instanceof bf).length;if(o>1||o>0&&l>0)throw new $(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class bf extends Pf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return Mx(e._query,n),new kr(e.firestore,e.converter,Vd(e._query,n))}_parse(e){const n=Nf(e.firestore);return function(i,o,l,c,h,p,m){let g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new $(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ny(m,p);const S=[];for(const C of m)S.push(ty(c,i,C));g={arrayValue:{values:S}}}else g=ty(c,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ny(m,p),g=_C(l,o,m,p==="in"||p==="not-in");return Be.create(h,p,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class kf extends Cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)Mx(o,c),o=Vd(o,c)}(e._query,n),new kr(e.firestore,e.converter,Vd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lf extends Pf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lf(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fo(i,o)}(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,GI(e._query,n))}}function Lx(t,e="asc"){const n=e,r=oi("orderBy",t);return Lf._create(r,n)}class Mf extends Pf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mf(e,n,r)}_apply(e){return new kr(e.firestore,e.converter,zl(e._query,this._limit,this._limitType))}}function IC(t){return Mf._create("limit",t,"F")}function ty(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new $(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IA(e)&&n.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!q.isDocumentKey(r))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fg(t,new q(r))}if(n instanceof $e)return fg(t,n._key);throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vu(n)}.`)}function ny(t,e){if(!Array.isArray(t)||t.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mx(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function SC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Zi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends bx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oi("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:ze("string",Zr._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class al extends Zr{data(e={}){return super.data(e)}}class $s{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new al(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new al(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new al(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:CC(l.type),doc:c,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:ze("string",$s._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function zi(t,e,n,...r){t=Jr(t,$e);const s=Jr(t.firestore,zo),i=Nf(s);let o;return o=typeof(e=Rn(e))=="string"||e instanceof Tf?xC(i,"updateDoc",t._key,e,n,r):AC(i,"updateDoc",t._key,e),Ox(s,[o.toMutation(t._key,wn.exists(!0))])}function ry(t,e){const n=Jr(t.firestore,zo),r=Es(t),s=SC(t.converter,e),i=Nf(t.firestore);return Ox(n,[yC(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function Dx(t,...e){var h,p,m;t=Rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ey(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ey(e[r])){const g=e[r];e[r]=(h=g.next)==null?void 0:h.bind(g),e[r+1]=(p=g.error)==null?void 0:p.bind(g),e[r+2]=(m=g.complete)==null?void 0:m.bind(g)}let i,o,l;if(t instanceof $e)o=Jr(t.firestore,zo),l=of(t._key.path),i={next:g=>{e[r]&&e[r](PC(o,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Jr(t,kr);o=Jr(g.firestore,zo),l=g._query;const T=new Px(o);i={next:S=>{e[r]&&e[r](new $s(o,T,g,S))},error:e[r+1],complete:e[r+2]},RC(t._query)}const c=Ex(o);return lC(c,l,s,i)}function Ox(t,e){const n=Ex(t);return uC(n,e)}function PC(t,e,n){const r=n.docs.get(e._key),s=new Px(t);return new Zr(t,s,e._key,r,new Zi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){aI(GR),Ul(new Do("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new zo(new cI(r.getProvider("auth-internal")),new fI(o,r.getProvider("app-check-internal")),PI(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Hs(Zg,Xg,e),Hs(Zg,Xg,"esm2020")})();const Vx=["THIRUVANANTHAPURAM","KOTTAYAM","ALUVA","VYTILLA HUB","THRISSUR","ERNAKULAM","ALAPPUZHA","KOTTARAKKARA","CHANGANASSERY","KOLLAM","THIRUVALLA","CHERTHALA","KOZHIKKODE","KAYAMKULAM","CHALAKUDY","KARUNAGAPPALLY","MUVATTUPUZHA","ANKAMALY","ATTINGAL","NEYYATTINKARA","THRIPPUNITHURA","NEDUMANGAD","ADOOR","ETTUMANOOR","TRIVANDRUM","PUTHUKKAD","VENJARAMOODU","CHENGANNUR","PALA","KATTAKKADA","PERUMBAVOOR","KANIYAPURAM","KILIMANOOR","PUNALUR","PATHANAMTHITTA","OACHIRA","PALAKKAD","NORTH PARAVOOR","HARIPPAD","KANJIRAPALLY","CHATHANNOOR","CHADAYAMANGALAM","PAPPANAMCODE","AYOOR","BALARAMAPURAM","PANDALAM","MANANTHAVADY","KALPETTA","KOTTIYAM","KUNNAMKULAM","AMBALAPPUZHA","KOOTHATTUKULAM","THAMARASSERY","BANGALORE","PARASSALA","EDAPPAL","MEDICAL COLLEGE THIRUVANANTHAPURAM","MUNDAKKAYAM","THODUPUZHA","PONKUNNAM","KAZHAKKOOTTAM","KASARAGOD","KOTTAKKAL","KALIYIKKAVILA","CHAVARA","KUNDARA","KODUNGALLUR","GURUVAYOOR","EAST FORT","POOVAR","KUNNAMANGALAM","CHINNAKKADA","AROOR","KUTTIPPURAM","ERAMALLOOR","THURAVOOR","VAIKKOM","ERNAKULAM JETTY","PATTOM","VIZHINJAM","PATHANAPURAM","EDAPALLI BYE-PASS JN","ERATTUPETTA","ATHANI","CALICUT UNIVERSITY","PEROORKADA","KOZHENCHERRY","THALAYOLAPARAMBU","VARAPPUZHA","KOONAMMAVU","ADIVAARAM","PERINTHALMANNA","SREEKARYAM","VADANAPPALLY","KUTHIYATHODE","KOLENCHERY","KARICODE","ERUMELY","KANHANGAD","KANNUR","EZHUKONE","KARAKULAM","AMBALLUR","PUTHENKURISH","CHAVAKKAD","SULTAN BATHERY","PEYAD","POTHENCODE","PUTHENPALAM","THIRUMALA","KARETTU","VALANCHERY","KALAMASSERY","VELLARADA","VADAKKENCHERRY","KUNDANOOR","VANDANAM MEDICAL COLLEGE","PARIPPALLY","PIRAVOM","MARAMPALLY","KODAKARA","CHINGAVANAM","ANCHAL","THRIPRAYAR","KODUVALLY","VELLANAD","KARAKONAM","MATHILAKAM","MOONUPEEDIKA","CHULLIMANOOR","ARYANAD","UDIYANKULANGARA","KOTHAMANGALAM","ALAMCODE","MANGALAPURAM","VEMBAYAM","KALLAMBALAM","MUKKOLA","KUTTIKKANAM","PAMPADY","ALATHUR","EDATHUVA","VALAKOM","KUZHALMANNAM","OLLUR","VADAKARA","THALASSERY","ANGAMALY","THIRUVALLOM","RAMANATTUKARA","BHARANAMGANAM","KATTAPPANA","KUNNIKODE","KONNI","PANAMARAM","RANNY","THIRUVANKULAM","ENGAPUZHA","KOVALAM","PALODE","K.CHAPPATH","AZHAKULAM","KOZHIKODE","KARUKACHAL","MARANALLOOR","KUMILY","MALAYINKEEZH","KALLARA","POOVACHAL","KALLUVATHUKKAL","KURAVILANGAD","VYTHIRI","MAVELIKKARA","MALAPPURAM","CHAKKULATHUKAVU","THACHOTTU KAVU","RAMANKARI","KOILANDI","VITHURA","KAKKANAD","THOTTAPPALLY","MONCOMBU","KANJIKKUZHY","KORATTY","KALOOR","KANJIRAMKULAM","NILAMEL","NEDUMUDY","MANNARKAD","MALLAPPALLY","THENMALA","KOTTAPURAM","PONNANI","KARUKUTTY","KALAVOOR","NILAMBUR","PATTAMBI","KIDANGARA","LAKKIDI","MEENANGADI","KONDOTTY","PANACHAMOODU","KADUTHURUTHY","VAMANAPURAM","ELANTHOOR","MANNUTHY","KAMBALAKKAD","THOPPUMPADY","MYSORE","BHARANIKKAVU","KUTTICHAL","VANDIPERIYAR","MUHAMMA","PUTHIYATHURA","MANGALORE","KADAKKAL","PEERMEDU","KANJIRAMATTOM","KULATHUPUZHA","UCHAKADA","KIDANGOOR","MAHE","POOTHOTTA","PATTIKKAD","PUTHUKAD","CHARUMMOODU","ELAMBAL","VATTAPPARA","OLATHANI","MADATHARA","THALAPPAADI","WALAYAR","COIMBATORE","MUTTOM","KALLADIKODE","PAYYANNUR","ENATH","THOTTILPALAM","THAKAZHY","UZHAMALAKKAL","KESAVADASAPURAM","MALA","OTTASEKHARAMANGALAM","PAZHAYAKADA","MANJESHWAR","TIRUR","THALIPARAMBA","UPPALA","NELLIMOODU","ARANMULA","THANNEERMUKKOM","KURUPPANTHARA","KUMBLA","KUTTIADY","OORUTTAMBALAM","KALLISSERY","MANNANCHERY","MANJERI","MANDAPATHINKADAVU","KURAMPALA","MUNDUR","CHERUVATHOOR","EDAKOCHI","CHETTIKULANGARA","MARTHANDAM","ELAPPARA","ULLIYERI","UZHAVOOR","THATTATHUMALA","THEKKADA","TVM GENERAL HOSPITAL","IRINJALAKUDA","UCHAKKADA","SASTHAMKOTTA","KALLIKKAD","NEELESWARAM","KURUPPAMPADY","NAGERCOVIL","MARAKKULAM","CHAKKA","CHENGANNUR RS","OORAMBU","KARAKKAD","MOOLAMATTOM","VARKALA","MANOOR","PERUMATHURA","CHENKAVILA","CHAMRAVATTOM","MUNNAR","VAZHIKKADAVU","NERIAMANGALAM","KUTTIPURAM","THENKASI","POOYAPPALLY","PULLAD","THIRUVAMBADY","MURUKKUMPUZHA","KALAYAPURAM","KUMARAKOM","KARUNAGAPPALLI","ERAVIPEROOR","RAMAPURAM","AMBALAPUZHA","VENJARAMMOODU","ARYANKAVU","PERAMBRA","CHIRAYINKEEZHU","NEDUMKANDAM","NANNIYODE","ADIMALY","PUTHUKURICHY","ANCHALUMMOODU","ARAKKUNNAM","PAIKA","COIMBATORE UKKADAM","KATTANAM","THOLICODE","CHERAI","CHERUTHONI","KUMARAMPUTHUR","THANNEERMUKKOM","NADAKKAVU","MUKKAM","NATTUKAL","NOORANADU","VYPIN","PAZHAKULAM","DHANUVACHAPURAM","NJARACKAL","SHENKOTTAI","MUNDELA","PARIYAARAM","HARIPAD","KOTTAYAM MCH","VILAPPILSALA","ATHIKKATTUKULANGARA","ARUMANOOR","KARIVELLUR","BEKAL","MAKKARAPARAMBA","OYOOR","MANNAR","NELLIKUNNAM","SASTHAMANGALAM","PALLIKKAL","HIGH COURT","OTTAPALAM","VATTIYOORKAVU","CHEMBOOR","ATHOLI","PUTHUPPALLY","CHITTUMALA","MARAYAMUTTOM","VENNIKULAM","THALAYAZHAM","KADAMPANAD","MANIMALA","CHAMPAKULAM","ELATHUR","PUTHOOR","PUTHANANGADY","ERUTHAVOOR","THALAPPUZHA","PULPALLY","IRINCHAYAM","POLLACHI","ANCHALPETTY","CHUNGATHARA","VENGANOOR","YEROOR","ELANJI","KALLODY","MUKKOOTTUTHARA","KOKKADU","KURUMASSERY","KIZHAKKAMBALAM","KATTIKULAM","PAYYOLI","AIMS HOSPITAL","VARANAD","PARAMBATH","EDAKKARA","KARAVALOOR","ARUVIKKARA","KOZHIKODE UNIVERSITY","NAGAROOR","KAVALAM","PARAPPANANGADI","PATHIRIPPALA","URAKAM","PAPPINISSERI","PERAYAM","THEKKUMBHAGAM","NADUVANNUR","CHANGARAMKULAM","THEMPAMMOODU","VEEYAPURAM","KANNANALLOOR","VELLAMUNDA","PATTAZHY","TANUR","PERUMKADAVILA","BALUSSERY","THEVARA","CHITHARA","ODANAVATTOM","PATTIMATTOM","NEYYAR DAM","KOOTTANAD","VELIYAM","KARUNAGAPALLY","PULINKUNNU","VELLANGALLUR","HMT KALAMASSERY","KALLAR","IRITTY","PADAPPANAL","VAZHICHAL","MITHIRMALA","KOZHINJAMPARA","MANNAMKONAM","CHOONDY","ANNAMANADA","KADINAMKULAM","MUTHUVILA","PANAVOOR","PEREKONAM","EDAVANNA","OONNUKAL","KOOVAPPALLY","MONIPPALLY","KOLLAM CIVIL STATION","KUNNATHUR","CHOTTANIKARA","MOOZHY","PERINGAMMALA","KAMUKINCODE","THALACHIRA","WANDOOR","PUNNAMOODU","KOZHIKKODE MCH","POZHIYOOR","ANDOORKONAM","PAKALKURI","POONJAR","ANACHAL","AYATHIL","ASHTAMICHIRA","NIRAVILPUZHA","KUTTAMASSERY","EDAMON","THAMARAKULAM","AMBALAMKUNNU","CHALAKKUDY","PERUVA","AROOKUTTY","GOPALAPURAM","VAZHAKULAM","ELAVUMTHITTA","AREACODE","AMBOORI","KAROOR","CHITTOOR","MEEYANNOOR","NEDUMBASSERY AIRPORT","CHERKALA","NIT CALICUT","KADAPUZHA","ELAMKADU","POONOOR","ILLIKKAL","OLAVAKODE","EDAKKAD","ALUR","NADAVAYAL","OMASSERY","PAMBAVALLEY","PANDIKKAD","CHALLIMUKKU","MEPPADI","KAVANATTINKARA","KALADY","MARANGATTUPALLY","THOTTAKKAD","CHELACHUVADU","PUDUNAGARAM","SHORNUR","KOOTTAPPU","VELI","VALLUVAMBRAM","BEENACHI","MANJANIKKARA","ARYANCODE","CHERUPUZHA","VADASSERIKKARA","PLAMOOTTUKADA","KULAMAVU","ANAKKAMPOYIL","TEEKOY","UPPUTHARA","THOOKKUPALAM","NELLAD","PANGODU","GUNDULPET","POOVATHUSSERY","PAIPAD","KUDAPPANAMOODU","MARYKULAM","ANAYADI","KULATHOOR HS","CHATHANAD","MARAPPALAM","CHUNKAPPARA","NANJANGUD","KENGERI","KOODAL","KUNNAMTHANAM","PULLURAMPARA","POOCHAKKAL","CHERIYAKONNI","PARA","MOOLITHODU","KUTTA COORG","KODunGOOR","UPPUKANDAM","THOLPETTY","KAYAMKULAM RS","KANJAR","VALAT","MEENKUNNAM","AYIRAMTHENGU","THAMARAKUDY","KOZHIKKOD UNIVERSITY","ALL SAINTS COLLEGE","CHOZHIYAKODU","NELLIMATTOM","KALLOOPPARA","MANDYA","KAKKATTIL","KOTTOOR","PERINGAMALA","CHAKKUVARAKKAL","NADAPURAM","AZHEEKKAL","CHUNAKKARA","PALAPPETTY","KORUTHODU","KOLLAPALLY","CHERIAZHEEKKAL","VALLIKKUNNU","PALLICKATHODU","PERUMBALAM","DASANAKKARA","PAKKOM","PAINGOTTOOR","PUTHUSSERY","SALEM","VELIYANNOOR","KENICHIRA","KANJIRAPPALLY","UMMANNOOR","KUZHIMAVU","PADINJARETHARA","MUTHUKULAM","BHAGAVATHIPURAM","ANAPPARA","ARATTUPUZHA","VLATHANKARA","WADAKKANCHERY","POOZHIKUNNU","NARUVAMOODU","ARTHUNKAL","PUTHUPPADY","RAMANAGARA","KOTTIYOOR","CHANNAPATTANA","SRIRANGAPATNA","KRISHNAN KOTTA","KRISHNAPURAM","AMBAYATHODE","KATTILKADAVU","MADDUR","MEDICAL COLLEGE ERNAKULAM","THRIKKUNNAPPUZHA","THUMPODU","KIDANGANNOOR","PERAVOOR","PARAVUR","VALLIKKAVU","KOOTHUPARAMBA","BHARATHANOOR","VAGAMON","KAZHUTHURUTTY","KARIMBAN","POOZHANADU","KOLLAKADAVU","KEEZHAROOR","KAINAKARY","KOODARANJI","CHENAPPADY","MULLERIA","NENMARA","PALIYODU","PARAYAKADAVU","CHELLANAM","PATHARAM","KOCHEEDA JETTY","SULLIA","PUTHentHOPE","THULAPPALLY","PALLITHURA","NANMINDA","MALAYALAPUZHA","THIRUVANIYOOR","VALAVOOR","KAKKAYANGAD","CHEPRA","EZHUMATTOOR","AYARKUNNAM","JALSOOR","MEENANKAL","VETTIKKAL","KODALY","THADIYAMPAD","PALANI","MATTANNUR","MANEED","POYYA","VYTTILA HUB","ERATTAYAR","INFOPARK","KUMBALAM","ANDHAKARANAZHY","LABBAKKADA","MALIANKARA","MAKKIYAD","MULAYARA","MEENAKSHIPURAM","ARAYANKAVU","TALIPARAMBA","KARIMUGHAL","PAYYANUR","ERUMELI","VELLIKULANGARA","CALICUT AIRPORT","ALAKKODE","KOLLENGODE","ARUVIPPURAM","KONGAD","THENNOOR","MARAYOOR","OTHERA","PAVUMBA","KOZHUVALLOOR","KAKKODI","KANICHUKULANGARA","CHITTAR","CHERPULASSERY","BADIYADKA","CHOORALMALA","PRAKKULAM","MURIKKASSERY","MANARCADU","NADUKANI","MULAGUNNATHUKAVU","ALUMKADAVU","AANAPPARA","HOSUR","CHEMPAZHANTHY","THAMBALAKKADU","GUDALLUR","VENKODE","ADIMALI","PUNALAL","SULTHAN BATHERY","PERLA","ORKKATTERI","KOTTAVASAL","PANAYAMUTTAM","SEETHATHODE","VILAKKUPARA","MUPLIYAM","CHITTARIKKAL","ERAVATHOOR","MELATTUMOOZHY","VELLARIKUND","PERIKKALLOOR","PUTTUR","POTHANICAD","PUTHUKKULAM","EDAKKUNNAM","PUNCHAVAYAL","THENGAMAM","PUTHUVELI","PANACODE","CHENNAI","VENMONY","SHORANUR","KOOMBARA","POINACHY","KOLOTH JETTY","ANGAMOOZHY","PAMBA","VETTICHIRA","CUMBUMMETTU","UDUMALPET","THACHAMPARA","SARADKA","PERUNAD","PADAPPAKKARA","KOLAHALAMEDU","THURUTHIPURAM","GUDALUR","VECHOOCHIRA","PANNIYODE","CHELAKKARA","THIRUVANVANDOOR","KAPPIL","ADIMALATHURA","KURUVILANGADU","POREDAM","THENI","ALAKODE","KOORACHUNDU","FEROKE","KOTTAVATTOM","THOPRAMKUDY","KANNAMMOOLA","KARAVUR","NEDUMPOIL","KRISHNAN KOTTA","BALAGRAM","DEVIKULAM","NEDUMBASSERY","NEDUMANKAVU","VANNAPURAM","PARAVOOR NORTH","KUNNAMKERY","POOVATTOOR","RAJAKKAD","MUTHAPPANPUZHA","VENGODE","KASARGODE","CHEMBAKAPPARA","BAVALI","KARITHOTTA","KUTTAMALA","VADUVANCHAL","KOPPAM","PAYYAVOOR","PARUTHIKUZHY","HUNSUR","VELIYANAD","PARAPPIL","MUTTAR","POOPPARA","VAZHITHALA","TVM CIVIL STATION","KODUVAYUR","SECRETARIAT","NEDUVANNOOR","MALAMPUZHA","KURUTHANCODE","KAMUKUMCHERY","VELLUMANNADI","MOONNANAKUZHY","PANAMBUKADU","MOOKKANNUR","VANDANMEDU","TECHNOPARK","KOTHAD FERRY","CHEEKKAL KADAVU","THATHAPPILLY","SENKOTTAI","GONIKOPPAL","MYLACHAL","KADAMMANITTA","KAVUMANNAM","TV PURAM","KOOTTALIDA","KADALUNDI","CHETTACHAL","KONNAKUZHY","UDUPI","THOLANUR","VELLANATHURUTHU","CHAMAMPATHAL","VENPAKAL","THADICADU","BHEEMANADY","PANTHA","PARUMALA","MANNADY","EDAVA","PUNKULAM","THYCATTUSSERY","NALANCHIRA","CHOONAD","PERUMON","THIDANAD","KODENCHERY","THERTHALLY","POOMALA","ORAVACKAL","PACHAMALA","THURAYIL KADAVU","PARANDODE","MOOTHEDATHUKAVU","PUNNAKULAM","KOOROPPADA","NALKAVALA","KOYILANDY","MADURAI","ADIVARAM","PAINAVU","PERUVANTHANAM","UNDAPPARA","VETTILAPPARA","CHULLIYODE","NARIKKUNNI","ASHTAMUDI","CVR PURAM","CHANNAPETTA","VALIAZHEEKAL","KANYAKUMARI","ATTUKAL TEMPLE","MANAVARY","MULANTHURUTHY","VENNIYODE","VALLIKUNNAM","VENMANY","504 COLONY","KODANKARA","KARIMBIL","PARIPPU","MUTHOLY","CHERAMBADI","KOKKUNNU","KAVALAM","KOLLADU BOAT JETTY","KUTTIYANI","KULATHOORMOZHY","THEKKADY","KUMMALLOOR","OOTY","VELIYATHUNADU","THAYAMKARI","ERODE","NILAKKAL","CHANGUVETTY","KARUVANCHAL","VALIYAPERUMPUZHA","PONMUDI","THANKAMANI","POOVAMPALLY","THADIYOOR","POOKKATTUPADY","ELOOR","MAYAM","AGRIFARM","KAPPUKAD","KONGORPILLY","THANDIRIKKAL","KALLARKUTTY","CHEPPILODE","VELLARIKUNDU","CHEMBIRIKA","DEVALA","ERNAKULAM SOUTH","THIRUVILWAMALA","GOVINDAPURAM","BAIRAKUPPA","SHANTINAGAR","THADICADU","KAREEPRA","THIRUNELLI TEMPLE","IDUKKI","KEERUKUZHI","ULLOOR","LAHA","RAJAKUMARI","KALADY PLANTATION","VARKALA SIVAGIRI","ADIVAD","MANJAPRA","VADAKKANCHERY","KUZHITHOLU","PANDAPILLY","GOKULAM MCH","THALOOR","SREEKANDAPURAM","PUTHANATHAANI","MANNATHOOR","PADANILAM","EDAPPALLY","MADIWALA ST JOHN","AGALY","VELIYAMCODE","THAVALAM","KAMBISSERY","KUTHIRAVATTOM","PANDIKKAD","PERINTHALMANNA","CHANDAKUNNU"],bC=[...new Set(Vx)],kC=[],jx=[{district:"Alappuzha",depots:[{name:"Alappuzha",phone:"9188933748"},{name:"Chengannur",phone:"9188933750"},{name:"Cherthala",phone:"9188933751"},{name:"Kayamkulam",phone:"9188933754"},{name:"Mavelikkara",phone:"9188933756"},{name:"Edathua",phone:"9188933752"},{name:"Haripad",phone:"9188933753"}]},{district:"Ernakulam",depots:[{name:"Aluva",phone:"9188933776"},{name:"Ernakulam",phone:"9188933779"},{name:"Koothattukulam",phone:"9188933782"},{name:"Muvattupuzha",phone:"9188933785"},{name:"Perumbavoor",phone:"9188933788"},{name:"Piravom",phone:"9188933790"},{name:"Angamaly",phone:"9188933778"},{name:"Ernakulam Jetty",phone:"9188933780"},{name:"Kothamangalam",phone:"9188933784"},{name:"North Paravur",phone:"9188933787"},{name:"Vyttila Hub",phone:"9188933781"}]},{district:"Idukki",depots:[{name:"Moolamattom",phone:"9188933770"},{name:"Munnar",phone:"9188933771"},{name:"Thodupuzha",phone:"9188933775"},{name:"Adimali",phone:"9188933772"},{name:"Kattappana",phone:"9188933766"},{name:"Kumily Town",phone:"9188933769"},{name:"Nedumkandam",phone:"9188933774"}]},{district:"Kannur",depots:[{name:"Kannur",phone:"9188933822"},{name:"Thalassery",phone:"9188933824"},{name:"Payyanur",phone:"9188933823"}]},{district:"Kasaragod",depots:[{name:"Kanhangad",phone:"9188933825"},{name:"Kasaragod",phone:"9188933826"}]},{district:"Kollam",depots:[{name:"Kollam",phone:"9188933739"},{name:"Kottarakkara",phone:"9188933732"},{name:"Punalur",phone:"9188933730"},{name:"Karunagappalli",phone:"9188933736"},{name:"Chadayamangalam",phone:"9188933728"}]},{district:"Kottayam",depots:[{name:"Kottayam",phone:"9188933760"},{name:"Changanassery",phone:"9188933757"},{name:"Pala",phone:"9188933762"},{name:"Eerattupetta",phone:"9188933758"},{name:"Vaikom",phone:"9188933765"}]},{district:"Kozhikode",depots:[{name:"Kozhikode",phone:"9188933809"},{name:"Thamarassery",phone:"9188933811"},{name:"Vadakara",phone:"9188933814"},{name:"Thiruvambadi",phone:"9188933812"}]},{district:"Malappuram",depots:[{name:"Malappuram",phone:"9188933803"},{name:"Perinthalmanna",phone:"9188933806"},{name:"Nilambur",phone:"9188933805"},{name:"Ponnani",phone:"9188933807"},{name:"Tirur",phone:"9188933808"}]},{district:"Palakkad",depots:[{name:"Palakkad",phone:"9188933800"},{name:"Mannarkkad",phone:"9188933799"},{name:"Vadakkencherry",phone:"9188933802"},{name:"Chittur",phone:"9188933798"}]},{district:"Pathanamthitta",depots:[{name:"Pathanamthitta",phone:"9188933744"},{name:"Adoor",phone:"9188933740"},{name:"Thiruvalla",phone:"9188933746"},{name:"Pamba",phone:"9497024092"}]},{district:"Thiruvananthapuram",depots:[{name:"TVM Central",phone:"9188933716"},{name:"Neyyattinkara",phone:"9188933708"},{name:"Nedumangad",phone:"9188933702"},{name:"Attingal",phone:"9188933701"},{name:"Vizhinjam",phone:"9188933725"}]},{district:"Thrissur",depots:[{name:"Thrissur",phone:"9188933797"},{name:"Guruvayoor",phone:"9188933792"},{name:"Chalakudy",phone:"9188933791"},{name:"Kodungallur",phone:"9188933794"}]},{district:"Wayanad",depots:[{name:"Sultan Bathery",phone:"9188933819"},{name:"Kalpetta",phone:"9188933817"},{name:"Mananthavady",phone:"9188933818"}]},{district:"Outside Kerala",depots:[{name:"Bangalore",phone:"9188933820"},{name:"Mysore",phone:"9188933821"},{name:"Coimbatore",phone:"9188933801"},{name:"Mangalore",phone:"9188933827"}]}],mo=t=>{if(!t)return"";if(t.includes("AM")||t.includes("PM"))return t;const[e,n]=t.split(":"),r=parseInt(e,10),s=r>=12?"PM":"AM";return`${r%12||12}:${n} ${s}`},Ka=t=>{if(!t)return-1;let e=0,n=0;if(t.includes("AM")||t.includes("PM")){const r=t.match(/(\d+):(\d+)\s*(AM|PM)/i);r&&(e=parseInt(r[1],10),n=parseInt(r[2],10),r[3].toUpperCase()==="PM"&&e!==12&&(e+=12),r[3].toUpperCase()==="AM"&&e===12&&(e=0))}else{const r=t.split(":");r.length>=2&&(e=parseInt(r[0],10),n=parseInt(r[1],10))}return e*60+n},Jl=(t,e="Private")=>{const n=parseFloat(t);if(!n||isNaN(n)||n<=0)return null;let r=0;return e==="KSRTC"||e==="Swift"||e==="SuperFast"?r=Math.max(14,Math.ceil(n*1.45)):r=Math.max(10,Math.ceil(n*1.1)),r},LC=(t,e={})=>t==="home"?{"@context":"https://schema.org","@type":"WebSite",name:"evidebus.com",url:"https://evidebus.com",description:"Find accurate bus timings for Kerala Private and KSRTC buses.",potentialAction:{"@type":"SearchAction",target:"https://evidebus.com/search/{search_term_string}","query-input":"required name=search_term_string"}}:t==="bus"&&e?{"@context":"https://schema.org","@type":"BusTrip",provider:{"@type":"Organization",name:e.type},departureTime:e.time,arrivalStation:{"@type":"BusStation",name:e.to},departureStation:{"@type":"BusStation",name:e.from},name:`${e.name} - ${e.route}`}:null,sy=()=>u.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm animate-pulse",children:u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("div",{className:"bg-gray-100 rounded-xl w-[80px] h-[60px]"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/2"}),u.jsx("div",{className:"h-4 bg-gray-100 rounded w-10"})]}),u.jsx("div",{className:"h-3 bg-gray-100 rounded w-3/4"}),u.jsxs("div",{className:"flex gap-2 pt-1",children:[u.jsx("div",{className:"h-5 bg-gray-100 rounded w-12"}),u.jsx("div",{className:"h-5 bg-gray-100 rounded w-16"}),u.jsx("div",{className:"h-5 bg-gray-100 rounded w-10"})]})]}),u.jsx("div",{className:"w-5 h-5 bg-gray-100 rounded-full"})]})}),MC=({toasts:t})=>u.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none max-w-[90vw] sm:max-w-sm",children:t.map((e,n)=>u.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg transform transition-all duration-300 animate-slide-up ${e.type==="success"?"bg-teal-900 text-white":e.type==="error"?"bg-red-600 text-white":"bg-white text-gray-800 border border-gray-100"}`,children:[e.type==="success"?u.jsx(TT,{size:16,className:"text-teal-400"}):e.type==="error"?u.jsx(Kv,{size:16}):u.jsx(Fv,{size:16,className:"text-blue-500"}),u.jsx("span",{className:"text-xs font-bold",children:e.message})]},`${e.id}-${n}`))}),DC=({toggleMenu:t})=>{const e=ls();return u.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between h-14 items-center",children:[u.jsxs("div",{className:"flex items-center cursor-pointer gap-2",onClick:()=>e("/"),children:[u.jsx("div",{className:"bg-gradient-to-br from-teal-600 to-teal-800 p-1.5 rounded-lg text-white shadow-sm transform hover:scale-105 transition-transform",children:u.jsx(Ll,{size:20})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"text-lg font-extrabold text-gray-800 tracking-tight leading-none",children:["evidebus",u.jsx("span",{className:"text-teal-600",children:".com"})]}),u.jsx("span",{className:"text-[9px] text-gray-500 font-bold tracking-wide uppercase",children:"Community Network"})]})]}),u.jsxs("div",{className:"hidden md:flex space-x-1",children:[u.jsx("button",{onClick:()=>e("/"),className:"px-3 py-1.5 text-xs font-bold text-gray-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-all",children:"Home"}),u.jsx("button",{onClick:()=>e("/ksrtc"),className:"px-3 py-1.5 text-xs font-bold text-gray-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-all",children:"KSRTC"}),u.jsx("button",{onClick:()=>e("/private"),className:"px-3 py-1.5 text-xs font-bold text-gray-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-all",children:"Private"}),u.jsx("a",{href:"https://blog.evidebus.com",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-xs font-bold text-gray-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-all",children:"Blog"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>e("/add-bus"),className:"bg-teal-600 text-white px-3 py-2 rounded-lg font-bold text-xs flex items-center gap-1.5 hover:bg-teal-700 shadow-sm hover:shadow-md transition-all transform hover:-translate-y-0.5 hidden sm:flex",children:[u.jsx(Ml,{size:14})," ",u.jsx("span",{className:"hidden sm:inline",children:"Add Bus"})]}),u.jsx("button",{className:"md:hidden p-1.5 text-gray-600 hover:bg-gray-100 rounded-lg",onClick:t,children:u.jsx(HT,{size:20})})]})]})})})},OC=({isOpen:t,closeMenu:e})=>{const n=ls();return t?u.jsx("div",{className:"fixed inset-0 z-40 bg-white pt-20 px-6 md:hidden animate-fade-in",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("button",{onClick:()=>{n("/"),e()},className:"text-left text-sm font-bold text-gray-800 py-3 border-b border-gray-100",children:"Home"}),u.jsx("button",{onClick:()=>{n("/ksrtc"),e()},className:"text-left text-sm font-bold text-gray-800 py-3 border-b border-gray-100",children:"KSRTC Timings"}),u.jsx("button",{onClick:()=>{n("/private"),e()},className:"text-left text-sm font-bold text-gray-800 py-3 border-b border-gray-100",children:"Private Stand"}),u.jsxs("button",{onClick:()=>{n("/stands"),e()},className:"text-left text-sm font-bold text-gray-800 py-3 border-b border-gray-100 flex items-center gap-2",children:[u.jsx(lo,{size:16})," Bus Stands"]}),u.jsx("a",{href:"https://blog.evidebus.com",className:"text-left text-sm font-bold text-gray-800 py-3 border-b border-gray-100",children:"Blog"}),u.jsxs("button",{onClick:()=>{n("/add-bus"),e()},className:"bg-teal-600 text-white py-3 rounded-xl font-bold mt-2 flex justify-center items-center gap-2 text-sm shadow-md",children:[u.jsx(Ml,{size:16})," Add Bus"]})]})}):null},VC=({onBack:t})=>{const[e,n]=b.useState(""),r=ls(),s=[...new Set(Vx)].sort().filter(i=>i.toLowerCase().includes(e.toLowerCase()));return u.jsxs("div",{className:"animate-fade-in bg-white p-6 rounded-2xl border border-gray-100 shadow-sm min-h-[60vh]",children:[u.jsxs("button",{onClick:t,className:"text-teal-600 font-bold text-xs flex items-center gap-1 mb-6 hover:underline",children:[u.jsx(Wr,{className:"rotate-180",size:14})," Back to Home"]}),u.jsx("h1",{className:"text-xl font-extrabold text-gray-900 mb-2",children:"Kerala Bus Stands"}),u.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Directory of all major bus stops. Click any station to view the live Digital Board."}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx(Nd,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),u.jsx("input",{type:"text",placeholder:"Search bus stand...",className:"w-full pl-10 p-2.5 bg-gray-50 border border-gray-200 rounded-xl text-xs focus:outline-none focus:border-teal-500 focus:ring-1 focus:ring-teal-500",onChange:i=>n(i.target.value)})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:s.length>0?s.map((i,o)=>u.jsxs("div",{onClick:()=>r(`/board/${encodeURIComponent(i)}`),className:"flex items-center gap-2 p-3 bg-white border border-gray-100 rounded-lg hover:border-teal-200 hover:shadow-sm transition-all group cursor-pointer",children:[u.jsx("div",{className:"bg-teal-50 text-teal-600 p-1.5 rounded-md group-hover:bg-teal-600 group-hover:text-white transition-colors",children:u.jsx(lo,{size:12})}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 truncate group-hover:text-teal-700",children:i})]},o)):u.jsxs("div",{className:"col-span-full text-center py-10 text-gray-400 text-xs",children:['No bus stands found matching "',e,'"']})})]})},jC=({type:t,onBack:e})=>{const n={about:{title:"About Us",body:u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"mb-3",children:"evidebus.com is a pioneering community-driven platform dedicated to digitizing the public transport network of Kerala."}),u.jsx("h4",{className:"font-bold text-sm text-gray-800 mt-4 mb-2",children:"Our Mission"}),u.jsx("p",{className:"mb-3",children:"To bridge the gap between passengers and bus schedules by providing a reliable, user-updated database of KSRTC and Private bus timings."}),u.jsx("h4",{className:"font-bold text-sm text-gray-800 mt-4 mb-2",children:"Who We Are"}),u.jsx("p",{className:"mb-3",children:"We are a team of passionate developers and transport enthusiasts who believe that information should be accessible to everyone."})]})},contact:{title:"Contact Support",body:u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"mb-4",children:"We value your feedback and are here to assist you with any queries."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100",children:[u.jsx("h5",{className:"font-bold text-teal-700 mb-1 text-xs uppercase",children:"General Inquiries"}),u.jsxs("p",{className:"text-xs",children:["Email: ",u.jsx("a",{href:"mailto:dalsc.dev@gmail.com",className:"text-blue-600 hover:underline",children:"dalsc.dev@gmail.com"})]}),u.jsx("p",{className:"text-xs",children:"Phone: +91 80866 16247"})]}),u.jsxs("div",{className:"bg-green-50 p-3 rounded-xl border border-green-100",children:[u.jsx("h5",{className:"font-bold text-green-700 mb-1 text-xs uppercase",children:"WhatsApp Support"}),u.jsxs("p",{className:"text-xs",children:["Join community: ",u.jsx("span",{className:"font-mono font-bold",children:"+91 80866 16247"})]})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100",children:[u.jsx("h5",{className:"font-bold text-gray-700 mb-1 text-xs uppercase",children:"Location"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Evidebus, Malappuram, Kerala"})]})]})]})},privacy:{title:"Privacy Policy",body:u.jsxs("div",{className:"space-y-4 text-xs leading-relaxed text-gray-600 text-justify",children:[u.jsxs("p",{children:["This privacy notice for ",u.jsx("strong",{children:"evidebus"}),' ("we," "us," or "our") describes how and why we might collect, store, use, and/or share ("process") your information when you use our services ("Services").']}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:["Visit our website at ",u.jsx("a",{href:"https://evidebus.com",className:"text-blue-600 hover:underline",children:"https://evidebus.com"})]}),u.jsx("li",{children:"Engage with us in other related ways, including any sales, marketing, or events"})]}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"1. WHAT INFORMATION DO WE COLLECT?"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Personal information you disclose to us:"})," We collect personal information that you provide to us voluntarily."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Information automatically collected:"})," Some information  such as your Internet Protocol (IP) address  is collected automatically."]}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"2. HOW DO WE PROCESS YOUR INFORMATION?"}),u.jsx("p",{children:"We process your information to provide, improve, and administer our Services, communicate with you, for security and fraud prevention, and to comply with law."}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"3. SHARING PERSONAL INFORMATION"}),u.jsx("p",{children:"We may share your personal information in specific situations and with certain types of parties, such as data analytics services."}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"4. COOKIES"}),u.jsx("p",{children:"We use cookies and other tracking technologies to collect and store your information."}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"10. CONTACT US"}),u.jsxs("p",{children:["If you have questions about this notice, email us at ",u.jsx("a",{href:"mailto:dalsc.dev@gmail.com",className:"text-blue-600 hover:underline",children:"dalsc.dev@gmail.com"})]})]})},terms:{title:"Terms and Conditions",body:u.jsxs("div",{className:"space-y-4 text-xs leading-relaxed text-gray-600 text-justify",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Welcome to evidebus.com!"}),' These Terms and Conditions ("Terms") govern your use of our website and services.']}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"1. Our Service"}),u.jsxs("p",{children:["evidebus.com acts as a referral platform for seat reservations and bus information. We ",u.jsx("strong",{children:"do not"})," directly process bookings."]}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"2. External Websites"}),u.jsx("p",{children:"When you click on a link to reserve a seat, you will be redirected to an external third-party website."}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"3. No Liability"}),u.jsx("p",{children:"evidebus.com shall not be liable for any issues arising from your reservation made on an external website."}),u.jsx("h4",{className:"font-bold text-gray-800 mt-4",children:"4. Accuracy"}),u.jsx("p",{children:"We strive for accuracy but do not guarantee completeness of data provided by third parties."}),u.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:u.jsx("p",{className:"italic text-[10px]",children:"Last Updated: June 18, 2025"})})]})},disclaimer:{title:"Disclaimer",body:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-red-50 border border-red-100 p-3 rounded-xl mb-4",children:[u.jsxs("h5",{className:"font-bold text-red-700 flex items-center gap-2 mb-1 text-xs",children:[u.jsx(Ol,{size:14})," Not a Government Website"]}),u.jsxs("p",{className:"text-red-600 text-[10px] leading-relaxed",children:["evidebus.com is privately maintained. We are ",u.jsx("strong",{children:"NOT"})," affiliated with KSRTC or MVD."]})]}),u.jsx("h4",{className:"font-bold text-sm text-gray-800 mt-4 mb-2",children:"Data Accuracy"}),u.jsx("p",{className:"mb-2 text-xs",children:"Timings are based on user contributions. Schedules change due to traffic/strikes."}),u.jsx("h4",{className:"font-bold text-sm text-gray-800 mt-4 mb-2",children:"Liability"}),u.jsx("p",{className:"text-xs",children:"We recommend verifying critical travel details with the respective bus stations. We are not liable for any damages."})]})}},r=n[t]||n.about;return u.jsxs("div",{className:"animate-fade-in bg-white p-6 rounded-2xl border border-gray-100 shadow-sm min-h-[60vh]",children:[u.jsxs("button",{onClick:e,className:"text-teal-600 font-bold text-xs flex items-center gap-1 mb-6 hover:underline",children:[u.jsx(Wr,{className:"rotate-180",size:14})," Back to Home"]}),u.jsx("h1",{className:"text-xl font-extrabold text-gray-900 mb-4",children:r.title}),u.jsx("div",{className:"prose prose-sm text-xs text-gray-600 leading-relaxed",children:r.body})]})},UC=({onQuickSearch:t})=>{const e=ls();return u.jsx("footer",{className:"bg-white border-t border-gray-100 mt-8 py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"bg-teal-600 text-white p-1 rounded-md",children:u.jsx(Ll,{size:14})}),u.jsx("span",{className:"text-sm font-bold text-gray-800",children:"evidebus.com"})]}),u.jsx("p",{className:"text-[10px] text-gray-500 leading-relaxed mb-3",children:"Kerala's largest community-driven public transport network. Find KSRTC and Private bus timings, stops, and routes easily."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 text-xs mb-3 uppercase tracking-wide",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-1.5 text-[10px] text-gray-500 font-medium",children:[u.jsx("li",{onClick:()=>e("/about"),className:"hover:text-teal-600 cursor-pointer transition-colors",children:"About Us"}),u.jsx("li",{onClick:()=>e("/contact"),className:"hover:text-teal-600 cursor-pointer transition-colors",children:"Contact Support"}),u.jsx("li",{className:"hover:text-teal-600 cursor-pointer transition-colors",children:u.jsx("a",{href:"https://chat.whatsapp.com/KhSr7LeSW503yXSGqJW8YZ",target:"_blank",children:"Join WhatsApp"})}),u.jsx("li",{onClick:()=>e("/contact"),className:"hover:text-teal-600 cursor-pointer transition-colors",children:"Report Issue"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 text-xs mb-3 uppercase tracking-wide",children:"Legal"}),u.jsxs("ul",{className:"space-y-1.5 text-[10px] text-gray-500 font-medium",children:[u.jsxs("li",{onClick:()=>e("/terms"),className:"hover:text-teal-600 cursor-pointer flex items-center gap-1 transition-colors",children:[u.jsx(PT,{size:10})," Terms"]}),u.jsxs("li",{onClick:()=>e("/privacy"),className:"hover:text-teal-600 cursor-pointer flex items-center gap-1 transition-colors",children:[u.jsx(VT,{size:10})," Privacy"]}),u.jsxs("li",{onClick:()=>e("/disclaimer"),className:"hover:text-teal-600 cursor-pointer flex items-center gap-1 transition-colors",children:[u.jsx(Kv,{size:10})," Disclaimer"]}),u.jsx("li",{onClick:()=>e("/privacy"),className:"hover:text-teal-600 cursor-pointer transition-colors",children:"Cookie Policy"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 text-xs mb-3 uppercase tracking-wide",children:"Popular"}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Kozhikode","Manjeri","Thrissur","Palakkad","Kannur","Aluva"].map(n=>u.jsx("span",{onClick:()=>t(n),className:"text-[9px] font-bold bg-gray-50 text-gray-500 px-2 py-1 rounded border border-gray-100 hover:bg-teal-50 hover:text-teal-600 hover:border-teal-200 cursor-pointer transition-all",children:n},n))})]})]}),u.jsxs("div",{className:"border-t border-gray-100 pt-6 text-center md:text-left flex flex-col md:flex-row justify-between items-center gap-3",children:[u.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:" 2026 evidebus.com. Not affiliated with KSRTC."}),u.jsx("p",{className:"text-[9px] text-gray-300 max-w-sm text-center md:text-right",children:"Timings based on user contributions."})]})]})})},KC={apiKey:"AIzaSyBeVILObopCwtXjmvwF4yEK-7e4GHpDK4c",authDomain:"navigo-87763.firebaseapp.com",projectId:"navigo-87763",storageBucket:"navigo-87763.firebasestorage.app",messagingSenderId:"673907255197",appId:"1:673907255197:web:c61b88cad3ea149c787174",measurementId:"G-PN4XNZ8JSF"};let Zl;try{const t=Jh(KC);Zl=Gd(t)}catch{try{Zl=Gd()}catch{console.warn("DB Connection in Widgets failed")}}const FC=()=>{const t=[new URL("/assets/keralabuses-DjDU4qEo.png",import.meta.url).href,new URL("/assets/keralabuses_ksrtc-dR-rDcgw.png",import.meta.url).href,new URL("/assets/keralabuses_private_bus-ChxDqFFJ.png",import.meta.url).href,new URL("/assets/keralabuses_ksrtc_volvo-CjTiU3zi.png",import.meta.url).href],[e,n]=b.useState(0);return b.useEffect(()=>{const r=setInterval(()=>{n(s=>(s+1)%t.length)},5e3);return()=>clearInterval(r)},[t.length]),u.jsxs("div",{className:"relative w-full h-36 md:h-52 rounded-xl overflow-hidden mb-5 shadow-sm group bg-gray-200",children:[t.map((r,s)=>u.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${s===e?"opacity-100":"opacity-0"}`,children:u.jsx("img",{src:r,alt:"Kerala Bus",className:"w-full h-full object-cover"})},s)),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),u.jsxs("div",{className:"absolute bottom-4 left-4 text-white max-w-lg z-10",children:[u.jsx("h2",{className:"text-xl font-bold mb-0.5 drop-shadow-sm",children:"Kerala Bus Timings & Live Status"}),u.jsx("p",{className:"text-xs opacity-90 drop-shadow-sm font-medium",children:"Search KSRTC, Swift & Private Bus Routes Instantly."})]}),u.jsx("div",{className:"absolute bottom-3 right-4 flex justify-center gap-1.5 z-10",children:t.map((r,s)=>u.jsx("button",{onClick:()=>n(s),className:`h-1.5 rounded-full transition-all duration-300 shadow-sm ${s===e?"bg-white w-4":"bg-white/50 w-1.5"}`},s))})]})},HC=({setView:t,onSeed:e,favorites:n,onSelectFavorite:r,points:s})=>{let i="Newbie";s>=100&&(i="Explorer"),s>=500&&(i="Guide"),s>=1e3&&(i="Expert"),s>=5e3&&(i="Legend");const o=i==="Newbie"?100:i==="Explorer"?500:i==="Guide"?1e3:i==="Expert"?5e3:1e4,l=Math.min(s/o*100,100);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"bg-yellow-100 p-2 rounded-full text-yellow-600",children:u.jsx(zv,{size:18})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider",children:"Your Contribution"}),u.jsxs("p",{className:"text-[10px] text-teal-600 font-bold",children:["Level: ",i]})]})]}),u.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mt-2 mb-1",children:u.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-1000",style:{width:`${l}%`}})}),u.jsxs("p",{className:"text-[9px] text-gray-400 text-right",children:[s," / ",o," Points"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-100 rounded-xl p-4 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(Bm,{size:60,className:"text-green-600"})}),u.jsxs("div",{className:"flex items-center gap-2 mb-2 relative z-10",children:[u.jsx("div",{className:"bg-green-500 text-white p-2 rounded-full shadow-md",children:u.jsx(Bm,{size:16})}),u.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"Join Community"})]}),u.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed relative z-10",children:"Get live bus updates, strike alerts, and timing changes directly on WhatsApp."}),u.jsx("a",{href:"https://chat.whatsapp.com/KhSr7LeSW503yXSGqJW8YZ",target:"_blank",className:"w-full flex items-center justify-center space-x-2 bg-green-600 text-white font-bold py-2.5 px-4 rounded-lg shadow hover:bg-green-700 transition-all text-xs relative z-10",children:u.jsx("span",{children:"Join Group"})})]}),n&&n.length>0&&u.jsxs("div",{className:"bg-white border border-yellow-200 bg-yellow-50/50 rounded-xl p-4 shadow-sm",children:[u.jsxs("h4",{className:"font-bold text-yellow-800 text-xs mb-3 flex items-center gap-2 uppercase tracking-wide",children:[u.jsx(Dl,{size:14,className:"fill-yellow-500 text-yellow-500"})," Saved Buses"]}),u.jsx("div",{className:"space-y-2",children:n.map(c=>u.jsxs("div",{onClick:()=>r(c),className:"bg-white p-2.5 rounded-lg border border-yellow-100 cursor-pointer hover:shadow-sm hover:border-yellow-300 transition-all text-xs group",children:[u.jsx("div",{className:"font-bold text-gray-800 group-hover:text-yellow-700 transition-colors truncate",children:c.route}),u.jsxs("div",{className:"text-gray-500 text-[10px] mt-0.5 flex justify-between",children:[u.jsx("span",{className:"font-mono",children:c.time}),u.jsx("span",{className:"text-yellow-600 font-medium truncate max-w-[80px] text-right",children:c.name})]})]},c.id))})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm",children:[u.jsxs("h4",{className:"font-bold text-gray-800 text-xs mb-3 pb-2 border-b border-gray-50 flex items-center gap-2 uppercase tracking-wide",children:[u.jsx(qr,{size:14,className:"text-teal-600"})," Emergency & Help"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Women",icon:kT,color:"text-pink-600",bg:"bg-pink-50 hover:bg-pink-100 border-pink-100",num:"1091"},{label:"Police",icon:sN,color:"text-blue-700",bg:"bg-blue-50 hover:bg-blue-100 border-blue-100",num:"100"},{label:"Ambulance",icon:Gh,color:"text-red-600",bg:"bg-red-50 hover:bg-red-100 border-red-100",num:"108"},{label:"Support",icon:IT,color:"text-amber-600",bg:"bg-amber-50 hover:bg-amber-100 border-amber-100",num:"+918086616247"}].map((c,h)=>u.jsxs("a",{href:c.num.includes("+")?`tel:${c.num}`:`tel:${c.num}`,className:`flex flex-col items-center justify-center gap-1.5 p-3 rounded-lg border transition-all duration-200 ${c.bg} no-underline group`,children:[u.jsx(c.icon,{size:18,className:`${c.color} group-hover:scale-110 transition-transform`}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700",children:c.label})]},h))})]})]})},BC=()=>{const[t,e]=b.useState([]);return b.useEffect(()=>{if(!Zl){e(["Standard Schedule Active. Check individual bus status for details."]);return}try{const n=kx(ol(Zl,"news"),Lx("date","desc"),IC(5)),r=Dx(n,s=>{if(s.empty)e(["Standard Schedule Active. Check individual bus status for details."]);else{const i=s.docs.map(o=>o.data().text);e(i)}},s=>{console.error("News fetch error:",s),e(["Standard Schedule Active. Check individual bus status for details."])});return()=>r()}catch{e(["Standard Schedule Active. Check individual bus status for details."])}},[]),u.jsx("div",{className:"mb-5",children:u.jsxs("div",{className:"bg-gradient-to-r from-teal-900 to-teal-800 text-white p-2.5 flex items-center gap-3 rounded-xl shadow-sm overflow-hidden border border-teal-700/50",children:[u.jsx("span",{className:"bg-amber-400 text-black px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-wider shrink-0 shadow-sm",children:"LIVE UPDATES"}),u.jsx("div",{className:"flex-1 overflow-hidden relative h-4",children:u.jsx("div",{className:"absolute whitespace-nowrap animate-marquee font-medium text-xs tracking-wide top-0",children:t.length>0?t.join("  "):"Loading updates..."})})]})})},zC=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(null),s=()=>{const i=parseFloat(t);i>0&&r({ord:Jl(i,"Private"),fast:Jl(i,"KSRTC")})};return u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm h-full",children:[u.jsxs("h4",{className:"font-bold text-gray-800 mb-3 text-xs uppercase tracking-wide flex items-center gap-2",children:[u.jsx(gN,{size:14,className:"text-teal-600"})," Fare Calculator (Approx)"]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"number",placeholder:"Enter KM",className:"w-full p-2 rounded-lg border border-gray-200 text-xs focus:outline-none focus:border-teal-500 bg-gray-50 focus:bg-white transition-all",value:t,onChange:i=>e(i.target.value)}),u.jsx("button",{onClick:s,className:"bg-teal-700 text-white px-3 rounded-lg text-xs font-bold hover:bg-teal-800 shadow-sm",children:"Check"})]}),n?u.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg text-xs space-y-1 text-teal-900 border border-teal-100",children:[u.jsxs("div",{className:"flex justify-between border-b border-teal-100 pb-1",children:[u.jsx("span",{children:"Ordinary:"})," ",u.jsxs("span",{className:"font-bold",children:["",n.ord]})]}),u.jsxs("div",{className:"flex justify-between pt-1",children:[u.jsx("span",{children:"Fast / Swift:"})," ",u.jsxs("span",{className:"font-bold",children:["",n.fast]})]})]}):u.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Enter distance to see prices."})]})},$C=({onQuickSearch:t})=>u.jsx("div",{className:"pb-6",children:u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm mt-6",children:[u.jsx("h2",{className:"text-base font-bold text-gray-900 mb-3 pb-2 border-b border-gray-50",children:"Kerala Bus Timings & Route Planner - KSRTC & Private"}),u.jsxs("div",{className:"text-xs text-gray-600 leading-relaxed space-y-2 mb-3",children:[u.jsxs("p",{children:["Find the most accurate and up-to-date ",u.jsx("strong",{children:"Kerala Bus Timings"}),". Whether you are looking for ",u.jsx("strong",{children:"KSRTC Super Fast"}),", ",u.jsx("strong",{children:"Low Floor AC"}),", ",u.jsx("strong",{children:"Swift Deluxe"}),", or ",u.jsx("strong",{children:"Private Bus"})," schedules,evidebus.com is your ultimate travel companion. We cover all major districts including Malappuram, Kozhikode, Wayanad, Palakkad, Thrissur, Ernakulam, and Thiruvananthapuram."]}),u.jsxs("p",{children:["Plan your journey from ",u.jsx("strong",{children:"Pandikkad to Perinthalmanna"}),", ",u.jsx("strong",{children:"Manjeri to Kozhikode"}),", or any other route with our easy-to-use search engine. Get live updates, report delays, and contribute to the community."]})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:["KSRTC Timing","Private Bus Stand","Kerala Bus Route","Malappuram Bus","Kozhikode Bus","Swift Bus Time","Limited Stop","Ordinary Bus"].map(e=>u.jsx("span",{onClick:()=>t(e),className:"bg-gray-50 text-gray-600 text-[10px] px-3 py-1.5 rounded-full border border-gray-200 hover:bg-teal-600 hover:text-white hover:border-teal-600 cursor-pointer transition-colors font-medium",children:e},e))}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex gap-2 items-start",children:[u.jsx(Ol,{size:14,className:"text-red-700 mt-0.5 shrink-0"}),u.jsx("p",{className:"text-[10px] text-red-800 leading-relaxed text-justify font-medium",children:"Disclaimer: Vehicle details may not be exact. Actual timings may vary according to the traffic and road conditions. We are not responsible for any time conflicts. We are not having any affiliation with any of the operators and schedule details may vary significantly depending on the operators. evidebus.com is just a directory of buses."})]})]})}),YC=()=>u.jsxs("div",{className:"animate-pulse space-y-6",children:[u.jsx("div",{className:"h-8 bg-gray-100 rounded w-3/4"}),u.jsx("div",{className:"h-32 bg-gray-100 rounded-xl"}),u.jsx("div",{className:"h-20 bg-gray-100 rounded-xl"}),u.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>u.jsx("div",{className:"h-12 bg-gray-100 rounded-lg"},t))})]}),GC=t=>{const e=t.from||"Origin",n=t.to||"Destination",r=t.time||"00:00 AM",s=t.endTime||"00:00 AM";return[{name:e,time:r},{name:n,time:s}]},vs=t=>{if(!t||t==="TBD")return 9999;try{const[e,n]=t.split(" ");let[r,s]=e.split(":").map(Number);return n==="PM"&&r!==12&&(r+=12),n==="AM"&&r===12&&(r=0),r*60+s}catch{return 9999}},iy=t=>{if(!t||t==="TBD")return"";if(!t.includes("M")){if(t.includes(":")){const[i,o]=t.split(":");return`${i.padStart(2,"0")}:${o}`}return""}const[e,n]=t.split(" ");let[r,s]=e.split(":");return r==="12"&&(r="00"),n==="PM"&&(r=parseInt(r,10)+12),`${r.toString().padStart(2,"0")}:${s}`},WC=({onCancel:t,onAdd:e,showToast:n})=>{const[r,s]=b.useState({name:"",type:"Private",from:"",to:"",time:"",stops:"",description:"",endTime:"",distance:""}),[i,o]=b.useState(!0),[l,c]=b.useState(!1),h=async p=>{if(p.preventDefault(),l)return;if(!r.from||!r.to||!r.time){n("Please fill all required fields","info");return}c(!0);const m=`${r.from} - ${r.to}`,g=mo(r.time),T=r.endTime?mo(r.endTime):"00:00 AM",C=r.stops.split(",").map(w=>w.trim()).filter(w=>w).map(w=>({name:w,time:"TBD"}));let M=[];i?M=[{name:r.from,time:g},...C,{name:r.to,time:T}]:M=[...C],e({...r,time:g,route:m,votes:0,comments:[],detailedStops:M,status:"On Time",crowd:"Low"})};return u.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg border border-gray-100 animate-fade-in max-w-2xl mx-auto",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[u.jsx("div",{className:"bg-teal-100 p-1.5 rounded-lg text-teal-700",children:u.jsx(Gh,{size:20})}),"Add New Bus"]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"From *"}),u.jsx("input",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 focus:ring-2 focus:ring-teal-500/10 outline-none transition-all",placeholder:"Origin",onChange:p=>s({...r,from:p.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"To *"}),u.jsx("input",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 focus:ring-2 focus:ring-teal-500/10 outline-none transition-all",placeholder:"Destination",onChange:p=>s({...r,to:p.target.value}),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Start Time *"}),u.jsx("input",{type:"time",className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",onChange:p=>s({...r,time:p.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"End Time (Opt)"}),u.jsx("input",{type:"time",className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",onChange:p=>s({...r,endTime:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Bus Type"}),u.jsxs("select",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none bg-white",onChange:p=>s({...r,type:p.target.value}),children:[u.jsx("option",{value:"Private",children:"Private Bus"}),u.jsx("option",{value:"KSRTC",children:"KSRTC"}),u.jsx("option",{value:"Swift",children:"KSRTC Swift"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:["Distance (KM) ",u.jsx("span",{className:"text-gray-400 font-normal normal-case",children:"(For Fare)"})]}),u.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",placeholder:"e.g. 45",onChange:p=>s({...r,distance:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Bus Name (Optional)"}),u.jsx("input",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",placeholder:"e.g. Sreehari Motors",onChange:p=>s({...r,name:p.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Intermediate Stops"}),u.jsx("textarea",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none h-20 resize-none",placeholder:"e.g. Stop A, Stop B, Stop C",onChange:p=>s({...r,stops:p.target.value})})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-teal-50 border border-teal-100 rounded-lg cursor-pointer hover:bg-teal-100 transition-colors",onClick:()=>o(!i),children:[u.jsx("div",{className:`text-teal-600 transition-all ${i?"scale-110":"opacity-50"}`,children:i?u.jsx(oN,{size:20}):u.jsx(uN,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-teal-900",children:"Is this the real Origin & Destination?"}),u.jsx("p",{className:"text-[9px] text-teal-700 leading-tight mt-0.5",children:i?"Yes: 'From' & 'To' will be added to the schedule automatically.":"No: Only intermediate stops will be listed initially."})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 bg-gray-100 text-gray-600 rounded-lg font-bold text-xs hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l,className:`flex-1 px-5 py-2.5 rounded-lg font-bold text-xs shadow-sm transition-all flex items-center justify-center gap-2 ${l?"bg-teal-400 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700 hover:shadow-md text-white"}`,children:l?u.jsxs(u.Fragment,{children:[u.jsx(DT,{size:16,className:"animate-spin"})," Saving..."]}):"Submit Bus"})]})]})]})},qC=({bus:t,onBack:e,addComment:n,updateBusDetails:r,onVote:s,reportLate:i,updateCrowd:o,toggleFavorite:l,isFavorite:c,showToast:h})=>{const p=ls();if(!t)return u.jsx(YC,{});const[m,g]=b.useState(""),[T,S]=b.useState(""),[C,M]=b.useState(!1),[w,v]=b.useState(!1),N=t.detailedStops&&t.detailedStops.length>0?t.detailedStops:GC(t),U=b.useMemo(()=>[...N].sort((X,te)=>vs(X.time)-vs(te.time)),[N]),[K,_]=b.useState(t.name),[A,x]=b.useState(t.route),[R,I]=b.useState(t.time),[P,E]=b.useState(t.type),[Ne,tt]=b.useState(t.description),[kt,Ht]=b.useState(""),[B,Q]=b.useState(""),ee=G=>{if(!G)return null;const X=G.toLowerCase();for(const te of jx)for(const de of te.depots)if(X.includes(de.name.toLowerCase())||de.name.toLowerCase().includes(X))return de;return null},ge=t.type==="KSRTC"||t.type==="Swift",ce=ge?ee(t.from):null,ae=ge?ee(t.to):null,De=G=>{if(G&&G.length>0){const X=G[0].name,te=G[G.length-1].name;x(`${X} - ${te}`)}},Xt=()=>{const G=window.location.href,X=`*${t.name}* (${t.type})
Route: ${t.route}
Time: ${t.time}

Check stops, live crowd status & updates here:
${G}`,te=`https://wa.me/?text=${encodeURIComponent(X)}`;window.open(te,"_blank")},vt=G=>{G.preventDefault(),!(!m.trim()||!T.trim())&&(n(t.id,{user:T,text:m,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date().toDateString()}),g(""))},Bt=()=>{const G=R.includes(":")&&!R.includes("M")?mo(R):R,X=t.detailedStops&&t.detailedStops.length>0?t.detailedStops:N;X.sort((te,de)=>vs(te.time)-vs(de.time)),r(t.id,{name:K,route:A,time:G,type:P,description:Ne,detailedStops:X}),M(!1)},zt=G=>{if(!kt)return;const X=B?mo(B):"TBD";let te=[...N];const de={name:kt,time:X};G==="start"?(te.unshift(de),B||(te[0].time=t.time)):G==="end"?(te.push(de),B||(te[te.length-1].time="00:00 AM")):te.push(de),te.sort((tn,Mr)=>vs(tn.time)-vs(Mr.time));const Lt=te.map(tn=>tn.name).join(", ");let en=t.route;te.length>0&&(en=`${te[0].name} - ${te[te.length-1].name}`),r(t.id,{detailedStops:te,stops:Lt,route:en}),Ht(""),Q("")},Lr=(G,X,te)=>{const de=[...N];let Lt=te;X==="time"&&te.includes(":")&&!te.includes("M")&&!te.includes("T")&&(Lt=mo(te)),de[G]={...de[G],[X]:Lt};const en=de.map(tn=>tn.name).join(", ");X==="name"&&(G===0||G===de.length-1)&&De(de),r(t.id,{detailedStops:de,stops:en})},vi=G=>{const X=[...N];X.splice(G,1);const te=X.map(de=>de.name).join(", ");De(X),r(t.id,{detailedStops:X,stops:te})};return u.jsxs("div",{className:"animate-fade-in pb-8",children:[w&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-white animate-fade-in flex flex-col",children:[u.jsxs("div",{className:"bg-teal-700 text-white px-4 py-3 flex justify-between items-center shadow-md",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-base font-bold",children:["Route: ",t.route]}),u.jsxs("p",{className:"text-xs opacity-80",children:[t.name," | ",t.time]})]}),u.jsx("button",{onClick:()=>v(!1),className:"bg-white/20 p-1.5 rounded-full hover:bg-white/30 transition-colors",children:u.jsx($v,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50",children:[u.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:[u.jsxs("div",{className:"grid grid-cols-2 bg-gray-50 p-3 border-b border-gray-200",children:[u.jsx("span",{className:"font-bold text-gray-600 uppercase text-xs tracking-wider",children:"Stop Name"}),u.jsx("span",{className:"font-bold text-gray-600 uppercase text-xs tracking-wider text-right",children:"Time"})]}),U.map((G,X)=>{const te=X===0,de=X===U.length-1;return u.jsxs("div",{className:"grid grid-cols-2 p-4 border-b border-gray-50 last:border-0 hover:bg-teal-50/50 transition-colors items-center group",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.jsx("div",{className:`w-6 h-6 rounded-full font-bold flex items-center justify-center text-xs shrink-0 transition-colors ${te?"bg-teal-600 text-white":de?"bg-indigo-600 text-white":"bg-teal-100 text-teal-700"}`,children:X+1}),u.jsxs("div",{className:"flex flex-col truncate",children:[u.jsx("span",{className:"text-sm font-bold text-gray-800 truncate",children:G.name}),te&&u.jsx("span",{className:"text-[9px] font-black text-teal-600 uppercase tracking-wide",children:"ORIGIN"}),de&&u.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-wide",children:"DESTINATION"})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:"text-xs font-mono font-bold text-teal-700 bg-teal-50 px-2 py-1 rounded border border-teal-100",children:G.time})})]},X)})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("button",{onClick:()=>v(!1),className:"bg-gray-800 text-white px-6 py-2.5 rounded-lg text-sm font-bold hover:bg-black transition-colors",children:"Close"})})]})]}),u.jsxs("div",{className:"bg-white px-4 py-3 border-b border-gray-100 flex items-center text-teal-700 font-bold text-xs cursor-pointer sticky top-0 z-20 shadow-sm hover:bg-gray-50 transition-colors",onClick:e,children:[u.jsx(Wr,{className:"rotate-180 mr-1.5",size:16})," Back to Results"]}),u.jsxs("div",{className:"p-0 md:p-4",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 mb-5 mt-4 md:mt-0 relative",children:[u.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>l(t),className:`p-2 rounded-lg border transition-all shadow-sm flex items-center gap-1.5 ${c?"bg-yellow-50 border-yellow-200 text-yellow-600":"bg-white border-gray-200 text-gray-500 hover:text-yellow-500 hover:border-yellow-200"}`,children:[u.jsx(Dl,{size:14,className:c?"fill-yellow-500":""}),u.jsx("span",{className:"text-[10px] font-bold uppercase",children:c?"Saved":"Save"})]}),!C&&u.jsxs("button",{onClick:()=>M(!0),className:"text-gray-600 hover:text-teal-700 flex items-center gap-1.5 text-[10px] uppercase font-bold bg-gray-50 px-3 py-2 rounded-lg border border-gray-200 hover:bg-white hover:border-gray-300 transition-all",children:[u.jsx(QT,{size:14})," Edit"]})]}),C?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold text-base text-gray-800 border-b pb-3",children:"Edit Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Route (Auto)"}),u.jsx("input",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs bg-gray-50 text-gray-500 cursor-not-allowed",value:A,readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Time"}),u.jsx("input",{type:"time",className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",value:iy(R),onChange:G=>I(G.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Name"}),u.jsx("input",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",value:K,onChange:G=>_(G.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1.5",children:"Type"}),u.jsxs("select",{className:"w-full p-2.5 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none bg-white",value:P,onChange:G=>E(G.target.value),children:[u.jsx("option",{value:"KSRTC",children:"KSRTC"}),u.jsx("option",{value:"Private",children:"Private"}),u.jsx("option",{value:"Swift",children:"Swift"})]})]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-3",children:"Stops & Route Order"}),u.jsx("div",{className:"mb-3 space-y-2 max-h-52 overflow-y-auto pr-1 custom-scrollbar",children:N.map((G,X)=>{const te=X===0,de=X===N.length-1;return u.jsxs("div",{className:`flex gap-2 items-center bg-white p-2 border rounded-md shadow-sm ${te?"border-teal-300 bg-teal-50/30":de?"border-indigo-300 bg-indigo-50/30":"border-gray-200"}`,children:[u.jsxs("div",{className:"min-w-[20px] flex justify-center",children:[te&&u.jsx("span",{className:"text-[9px] font-black text-teal-600 uppercase rotate-180 writing-vertical-lr",children:"ORIGIN"}),de&&u.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase rotate-180 writing-vertical-lr",children:"DEST"}),!te&&!de&&u.jsx("span",{className:"text-gray-300 text-[10px] font-bold",children:X+1})]}),u.jsx("input",{className:"flex-1 p-1 border-b border-transparent focus:border-teal-500 focus:outline-none text-xs font-medium text-gray-700 bg-transparent",value:G.name,onChange:Lt=>Lr(X,"name",Lt.target.value)}),u.jsxs("div",{className:"flex items-center gap-1 border-l pl-2",children:[u.jsx(Fm,{size:10,className:"text-gray-400"}),u.jsx("input",{type:"time",className:"w-20 p-1 border-b border-transparent focus:border-teal-500 focus:outline-none text-right text-[10px] text-gray-500 bg-transparent",value:iy(G.time),onChange:Lt=>Lr(X,"time",Lt.target.value)})]}),u.jsx("button",{onClick:()=>vi(X),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-1.5 rounded transition-colors",children:u.jsx(vN,{size:14})})]},X)})}),u.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{className:"flex-1 p-2 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",placeholder:"New Stop Name",value:kt,onChange:G=>Ht(G.target.value)}),u.jsx("input",{type:"time",className:"w-24 p-2 border border-gray-200 rounded-lg text-xs focus:border-teal-500 outline-none",value:B,onChange:G=>Q(G.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>zt("start"),className:"flex-1 bg-teal-100 text-teal-700 py-2 rounded-lg text-[10px] font-bold hover:bg-teal-200 flex items-center justify-center gap-1 border border-teal-200 transition-colors",children:[u.jsx(Km,{size:12})," Set Start"]}),u.jsxs("button",{onClick:()=>zt("intermediate"),className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg text-[10px] font-bold hover:bg-gray-200 flex items-center justify-center gap-1 border border-gray-200 transition-colors",children:[u.jsx(Ml,{size:12})," Add Stop"]}),u.jsxs("button",{onClick:()=>zt("end"),className:"flex-1 bg-indigo-100 text-indigo-700 py-2 rounded-lg text-[10px] font-bold hover:bg-indigo-200 flex items-center justify-center gap-1 border border-indigo-200 transition-colors",children:[u.jsx(Um,{size:12})," Set End"]})]})]})]}),u.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[u.jsxs("button",{onClick:Bt,className:"bg-teal-600 text-white px-5 py-2.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-sm",children:[u.jsx(XT,{size:14})," Save Changes"]}),u.jsx("button",{onClick:()=>M(!1),className:"bg-white text-gray-600 px-5 py-2.5 rounded-lg text-xs font-bold border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start mb-5 gap-3",children:u.jsxs("div",{className:"w-full",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-indigo-800 leading-tight mb-2 truncate",children:t.name||"Bus Service"}),u.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[u.jsx("span",{className:"text-lg md:text-xl text-gray-700 font-bold truncate max-w-full",children:t.route}),u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide border ${t.type==="KSRTC"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:t.type})]})]})}),u.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-emerald-50 rounded-xl p-5 border border-teal-100 flex flex-col sm:flex-row gap-6 mb-6 shadow-sm",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Fm,{size:32,className:"text-teal-600 shrink-0"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-4xl md:text-5xl font-black tracking-tight text-gray-900 leading-none",children:t.time}),u.jsx("p",{className:"text-xs text-teal-800 font-bold mt-1 uppercase tracking-wide",children:"Scheduled Departure"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>s(t.id),className:"flex-1 sm:flex-none flex flex-col items-center justify-center gap-1 bg-white px-5 py-3 rounded-xl border border-teal-100 text-teal-700 hover:bg-teal-600 hover:text-white hover:border-teal-600 transition-all shadow-sm group min-w-[80px]",children:[u.jsx(pN,{size:20,className:`mb-0.5 transition-transform group-hover:scale-110 ${t.votes>0?"fill-teal-100 group-hover:fill-white/20":""}`}),u.jsxs("span",{className:"text-xs font-bold",children:[t.votes||0," Votes"]})]}),u.jsxs("div",{className:"flex-1 sm:flex-none bg-white p-3 rounded-xl border border-teal-100 shadow-sm flex flex-col justify-center",children:[u.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2 flex items-center justify-center gap-1",children:[u.jsx(vT,{size:12})," Crowd"]}),u.jsxs("div",{className:"flex gap-1.5 justify-center",children:[u.jsx("button",{onClick:()=>o(t.id,"Low"),className:`w-9 py-1.5 rounded-lg text-xs font-bold transition-colors ${t.crowdLevel==="Low"?"bg-green-500 text-white":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:"L"}),u.jsx("button",{onClick:()=>o(t.id,"Medium"),className:`w-9 py-1.5 rounded-lg text-xs font-bold transition-colors ${t.crowdLevel==="Medium"?"bg-yellow-500 text-white":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,children:"M"}),u.jsx("button",{onClick:()=>o(t.id,"High"),className:`w-9 py-1.5 rounded-lg text-xs font-bold transition-colors ${t.crowdLevel==="High"?"bg-red-500 text-white":"bg-red-50 text-red-700 hover:bg-red-100"}`,children:"H"})]})]})]})]}),t.status==="Late"&&t.statusDate===new Date().toDateString()&&u.jsxs("div",{className:"mb-6 bg-amber-50 text-amber-800 p-3 rounded-lg border border-amber-200 flex items-start gap-3 shadow-sm",children:[u.jsx(Ol,{size:18,className:"shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-xs",children:"Reported Late Today"}),u.jsx("p",{className:"text-[10px] opacity-80 mt-0.5",children:"Delays reported by users."})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:[u.jsx(Hm,{size:14,className:"text-gray-400"})," Schedule"]}),U.length>0&&u.jsxs("button",{onClick:()=>v(!0),className:"text-teal-600 font-bold text-[10px] flex items-center gap-1 hover:bg-teal-50 px-2 py-1 rounded transition-colors",children:[u.jsx(Hv,{size:12})," Full Map"]})]}),u.jsxs("div",{className:"relative border-l-2 border-teal-100 ml-3 space-y-6 pb-2",children:[U.map((G,X)=>{const te=X===0,de=X===U.length-1;return u.jsxs("div",{className:"ml-6 relative group",children:[u.jsx("span",{className:`absolute -left-[31px] top-1.5 w-3 h-3 rounded-full border-[3px] shadow-sm group-hover:scale-110 transition-transform ${te?"bg-teal-500 border-teal-200":de?"bg-indigo-500 border-indigo-200":"bg-white border-teal-500"}`}),u.jsxs("div",{className:"flex justify-between items-start p-3 -mt-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer gap-3",onClick:()=>p(`/board/${encodeURIComponent(G.name)}`),children:[u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 break-words leading-tight hover:text-teal-700 transition-colors pr-2",children:G.name}),te&&u.jsx("span",{className:"text-xs font-black text-teal-600 uppercase tracking-wide mt-0.5",children:"ORIGIN"}),de&&u.jsx("span",{className:"text-xs font-black text-indigo-600 uppercase tracking-wide mt-0.5",children:"DESTINATION"})]}),u.jsx("div",{className:"shrink-0 pt-0.5",children:u.jsx("span",{className:"text-sm font-mono font-bold text-teal-800 bg-teal-50 px-3 py-1 rounded border border-teal-100 whitespace-nowrap block text-center",children:G.time})})]})]},X)}),u.jsxs("div",{className:"ml-6 relative group pt-2",children:[u.jsx("span",{className:"absolute -left-[31px] top-4 w-3 h-3 bg-gray-200 rounded-full border-[3px] border-white shadow-sm"}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 border-dashed flex flex-col gap-2",children:[u.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Add Missing Stop"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 p-2 border border-gray-200 rounded-md text-xs focus:border-teal-500 outline-none",placeholder:"Stop Name",value:kt,onChange:G=>Ht(G.target.value)}),u.jsx("input",{type:"time",className:"w-20 p-2 border border-gray-200 rounded-md text-xs focus:border-teal-500 outline-none",value:B,onChange:G=>Q(G.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>zt("start"),title:"Set as Origin",className:"flex-1 bg-white border border-gray-200 text-teal-600 py-1.5 rounded-md text-[10px] font-bold hover:bg-teal-50 hover:border-teal-200 flex items-center justify-center gap-1 transition-colors",children:[u.jsx(Km,{size:12})," Start"]}),u.jsxs("button",{onClick:()=>zt("intermediate"),title:"Add Stop",className:"flex-1 bg-teal-600 text-white py-1.5 rounded-md text-[10px] font-bold hover:bg-teal-700 flex items-center justify-center gap-1 shadow-sm transition-colors",children:[u.jsx(Ml,{size:12})," Add"]}),u.jsxs("button",{onClick:()=>zt("end"),title:"Set as Destination",className:"flex-1 bg-white border border-gray-200 text-indigo-600 py-1.5 rounded-md text-[10px] font-bold hover:bg-indigo-200 flex items-center justify-center gap-1 border border-indigo-200 transition-colors",children:[u.jsx(Um,{size:12})," End"]})]})]})]})]})]}),(ce||ae)&&u.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-100 p-4 rounded-xl",children:[u.jsxs("h4",{className:"font-bold text-blue-900 text-xs uppercase mb-3 flex items-center gap-2",children:[u.jsx(qr,{size:14})," KSRTC Depot Enquiry"]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[ce&&u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("span",{className:"text-gray-600 font-medium",children:["Start: ",u.jsx("span",{className:"font-bold text-gray-800",children:ce.name})]}),u.jsxs("a",{href:`tel:${ce.phone}`,className:"flex items-center gap-1 font-bold text-blue-700 bg-white px-3 py-1.5 rounded-lg border border-blue-200 hover:bg-blue-600 hover:text-white transition-colors shadow-sm",children:[u.jsx(qr,{size:10})," ",ce.phone]})]}),ae&&ae.name!==(ce==null?void 0:ce.name)&&u.jsxs("div",{className:"flex justify-between items-center text-xs border-t border-blue-100 pt-3",children:[u.jsxs("span",{className:"text-gray-600 font-medium",children:["End: ",u.jsx("span",{className:"font-bold text-gray-800",children:ae.name})]}),u.jsxs("a",{href:`tel:${ae.phone}`,className:"flex items-center gap-1 font-bold text-blue-700 bg-white px-3 py-1.5 rounded-lg border border-blue-200 hover:bg-blue-600 hover:text-white transition-colors shadow-sm",children:[u.jsx(qr,{size:10})," ",ae.phone]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-3 rounded-xl mb-6 shadow-md flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[u.jsx(Hm,{size:16})," Live Tracking"]}),u.jsx("p",{className:"text-[10px] opacity-90",children:"Track at major stations."})]}),u.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:u.jsx(Bv,{size:18})})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 mb-6 text-xs text-gray-600 leading-relaxed shadow-sm",children:[u.jsxs("h4",{className:"font-bold text-gray-900 mb-2 flex items-center gap-1.5 text-xs uppercase tracking-wide",children:[u.jsx(Fv,{size:14,className:"text-blue-500"})," Overview"]}),u.jsxs("p",{children:["This ",u.jsx("strong",{children:t.type})," bus service, known as ",u.jsx("em",{children:t.name}),", departs at ",u.jsx("strong",{children:t.time}),". It operates on the ",u.jsx("strong",{children:t.route})," route.",t.stops?`Major stops include ${t.stops}. `:"","Passengers looking for reliable travel between these destinations can choose this service for a comfortable journey."]}),t.description&&u.jsxs("p",{className:"mt-3 text-[10px] text-gray-500 bg-gray-50 p-2 rounded border border-gray-100 italic",children:["Operator Note: ",t.description]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-4 border-t border-gray-100",children:[u.jsxs("button",{onClick:Xt,className:"bg-green-500 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-1.5 hover:bg-green-600 transition-colors shadow-sm text-xs",children:[u.jsx(nN,{size:16})," Share Link"]}),u.jsxs("button",{onClick:()=>i(t.id),className:"bg-amber-50 text-amber-700 border border-amber-100 py-3 rounded-xl font-bold flex items-center justify-center gap-1.5 hover:bg-amber-100 transition-colors text-xs",children:[u.jsx(Ol,{size:16})," Report Late"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[u.jsxs("h3",{className:"font-bold text-base text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"bg-teal-50 p-1.5 rounded-lg text-teal-600",children:u.jsx($T,{size:16})}),"Live Updates"]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6 border border-gray-100",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-500 uppercase mb-3",children:"Post Update"}),u.jsxs("form",{onSubmit:vt,children:[u.jsx("input",{type:"text",placeholder:"Name (Opt)",className:"w-full mb-2 p-2.5 rounded-lg border border-gray-200 text-xs focus:outline-none focus:border-teal-500 bg-white",value:T,onChange:G=>S(G.target.value)}),u.jsx("textarea",{placeholder:"Bus late? Changed route? Share info...",className:"w-full mb-3 p-2.5 rounded-lg border border-gray-200 text-xs focus:outline-none focus:border-teal-500 h-16 resize-none bg-white",value:m,onChange:G=>g(G.target.value)}),u.jsx("button",{type:"submit",className:"w-full bg-teal-700 text-white font-bold py-2.5 rounded-lg hover:bg-teal-800 transition text-xs shadow-sm",children:"Post"})]})]}),u.jsx("div",{className:"space-y-4",children:t.comments&&t.comments.filter(G=>G.date===new Date().toDateString()).length>0?t.comments.filter(G=>G.date===new Date().toDateString()).slice().reverse().map((G,X)=>u.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-50 last:border-0 last:pb-0 animate-fade-in",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-emerald-500 flex items-center justify-center text-white font-bold text-xs shrink-0 shadow-sm",children:G.user?G.user.charAt(0).toUpperCase():"U"}),u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[u.jsx("h5",{className:"font-bold text-gray-900 text-xs truncate",children:G.user||"User"}),u.jsx("span",{className:"text-[9px] text-gray-400 font-medium bg-gray-50 px-1.5 py-0.5 rounded-full whitespace-nowrap",children:G.time})]}),u.jsx("p",{className:"text-gray-600 text-xs leading-relaxed break-words",children:G.text})]})]},X)):u.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[u.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"No updates today."}),u.jsx("p",{className:"text-[10px] text-gray-300",children:"Help others by posting!"})]})})]})]})]})},QC={apiKey:"AIzaSyBeVILObopCwtXjmvwF4yEK-7e4GHpDK4c",authDomain:"navigo-87763.firebaseapp.com",projectId:"navigo-87763",storageBucket:"navigo-87763.firebasestorage.app",messagingSenderId:"673907255197",appId:"1:673907255197:web:c61b88cad3ea149c787174",measurementId:"G-PN4XNZ8JSF"};let st;try{const t=Jh(QC);st=Gd(t)}catch{console.warn("Firebase not connected. Please update firebaseConfig.")}const oy=t=>{const e=r=>r?r.toLowerCase().replace(/[^a-z0-9]/g,"-"):"",n=t.time?t.time.toLowerCase().replace(" ","-").replace(":",""):"0000";return`${e(t.from)}-to-${e(t.to)}-${n}-${e(t.type)}`},JC=yy.memo(({darkMode:t})=>{const[e,n]=b.useState(new Date);return b.useEffect(()=>{const r=setInterval(()=>n(new Date),1e3);return()=>clearInterval(r)},[]),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-3xl md:text-4xl font-mono font-bold tracking-widest ${t?"text-teal-400":"text-teal-700"}`,children:e.toLocaleTimeString([],{hour12:!0,hour:"2-digit",minute:"2-digit"})}),u.jsx("div",{className:`text-xs md:text-sm font-bold uppercase tracking-widest ${t?"text-gray-500":"text-gray-400"}`,children:e.toDateString()})]})}),ZC=()=>{const[t,e]=b.useState(null),n=r=>e(t===r?null:r);return u.jsxs("div",{className:"animate-fade-in space-y-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(qr,{className:"text-teal-600",size:24})," Kerala RTC General Enquiry"]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 space-y-3",children:[u.jsxs("div",{children:[u.jsx("h6",{className:"font-bold text-sm text-gray-700",children:"Reservation & Route Enquiry"}),u.jsxs("div",{className:"flex gap-3 mt-1 text-sm",children:[u.jsx("a",{href:"tel:04712463799",className:"text-teal-700 font-medium hover:underline",children:"0471-2463799"}),",",u.jsx("a",{href:"tel:9447071021",className:"text-teal-700 font-medium hover:underline",children:"9447071021"})]})]}),u.jsxs("div",{children:[u.jsx("h6",{className:"font-bold text-sm text-gray-700",children:"Toll Free"}),u.jsx("a",{href:"tel:18005994011",className:"text-teal-700 font-medium text-sm hover:underline",children:"1800-599-4011"})]}),u.jsxs("div",{children:[u.jsx("h6",{className:"font-bold text-sm text-gray-700",children:"WhatsApp (We Social)"}),u.jsx("a",{href:"https://wa.me/919497722205",target:"_blank",className:"text-green-600 font-medium text-sm hover:underline",children:"9497722205"})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Depot Contact Numbers"}),u.jsx("div",{className:"space-y-2",children:jx.map((r,s)=>u.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[u.jsxs("button",{onClick:()=>n(s),className:"w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100 transition-colors text-left",children:[u.jsx("span",{className:"font-bold text-sm text-gray-800",children:r.district}),u.jsx(Wr,{size:16,className:`text-gray-500 transition-transform ${t===s?"rotate-90":""}`})]}),t===s&&u.jsx("div",{className:"bg-white p-2",children:r.depots.map((i,o)=>u.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-50 last:border-0 hover:bg-teal-50/30 rounded-lg",children:[u.jsx("span",{className:"text-xs font-medium text-gray-700",children:i.name}),u.jsxs("a",{href:`tel:${i.phone}`,className:"text-[10px] bg-green-50 text-green-700 px-3 py-1.5 rounded-full border border-green-100 font-bold hover:bg-green-100 flex items-center gap-1",children:[u.jsx(qr,{size:10})," Call"]})]},o))})]},s))})]})]})};function XC(){const[t,e]=b.useState("home"),[n,r]=b.useState(null),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,h]=b.useState([]),[p,m]=b.useState([]),[g,T]=b.useState(!1),[S,C]=b.useState(0),[M,w]=b.useState("all"),[v,N]=b.useState(""),[O,U]=b.useState(!1),[K,_]=b.useState(!1),A=Cr(),x=ls(),R=b.useRef(null),[I,P]=b.useState(""),[E,Ne]=b.useState(""),[tt,kt]=b.useState("all"),[Ht,B]=b.useState([]),[Q,ee]=b.useState([]),[ge,ce]=b.useState([]),ae=b.useCallback((k,z="info")=>{const J=Date.now();m(we=>[...we,{id:J,message:k,type:z}]),setTimeout(()=>m(we=>we.filter(ye=>ye.id!==J)),3e3)},[]);b.useEffect(()=>{const k=localStorage.getItem("evidebusFavs");k&&h(JSON.parse(k));const z=localStorage.getItem("evidebusPoints");z&&C(parseInt(z))},[]),b.useEffect(()=>{const k=A.pathname,z=k.split("/");if(k.startsWith("/bus/")){const he=z[2];if(s.length>0){const rt=s.find(Tt=>oy(Tt)===he);if(rt)r(rt),e("detail");else{const Tt=s.find($n=>$n.id===he);Tt&&(r(Tt),e("detail"))}}}else if(k.startsWith("/search/")){z[2]&&P(decodeURIComponent(z[2]));const he=decodeURIComponent(z[3]||"");Ne(he==="-"?"":he),z[4]&&kt(z[4]),e("results")}else if(k.startsWith("/board/")){const he=decodeURIComponent(z[2]||"");he&&(N(he),e("board"),U(!1))}else k==="/depot"?e("depot"):k==="/stands"?e("bus-stands"):k==="/add-bus"?e("add-bus"):k==="/ksrtc"?e("ksrtc"):k==="/private"?e("private"):["/about","/contact","/privacy","/terms","/disclaimer"].includes(k)?e(k.substring(1)):e("home");let J="evidebus.com - Find Private & KSRTC Bus Timings";t==="detail"&&n&&(J=`${n.route} ${n.time} Bus Timing - evidebus.com`),t==="depot"&&(J="Kerala KSRTC Depot Contact Numbers - evidebus.com"),t==="bus-stands"&&(J="Kerala Bus Stand List - evidebus.com"),t==="board"&&(J=`${v} Live Bus Stand Status - evidebus.com`),document.title=J;const we="json-ld-schema";let ye=document.getElementById(we);ye||(ye=document.createElement("script"),ye.id=we,ye.type="application/ld+json",document.head.appendChild(ye));const xe=LC(t==="home"?"home":"bus",n);xe&&(ye.text=JSON.stringify(xe))},[A,s,o,t,n,v]),b.useEffect(()=>{if(!st){l(!1);return}const k=kx(ol(st,"buses"),Lx("time")),z=Dx(k,J=>{const we=J.docs.map(ye=>({id:ye.id,...ye.data()}));if(i(we),l(!1),n){const ye=we.find(xe=>xe.id===n.id);ye&&r(ye)}},J=>{console.error(J),l(!1)});return()=>z()},[n]),b.useEffect(()=>{t==="results"&&R.current&&setTimeout(()=>{R.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[t]);const De=k=>{const z=S+k;C(z),localStorage.setItem("evidebusPoints",z.toString()),k>5&&ae(`+${k} Contribution Points!`,"success")},Xt=k=>{let z;c.some(J=>J.id===k.id)?(z=c.filter(J=>J.id!==k.id),ae("Removed from favorites","info")):(z=[...c,{id:k.id,route:k.route,time:k.time,name:k.name}],ae("Added to favorites","success")),h(z),localStorage.setItem("evidebusFavs",JSON.stringify(z))},vt=async(k,z)=>{if(!st)return ae("Firebase not connected!","error");await zi(Es(st,"buses",k),{comments:Jg(z)}),ae("Update posted!","success"),De(2)},Bt=async(k,z)=>{if(!st)return ae("Firebase not connected!","error");await zi(Es(st,"buses",k),z),ae("Bus details updated!","success"),De(10)},zt=async(k,z)=>{if(!st)return ae("Firebase not connected!","error");await zi(Es(st,"buses",k),{crowdLevel:z}),De(1)},Lr=async k=>{if(!st)return ae("Firebase not connected!","error");const z=new Date().toDateString(),J=`reported_${k}_${z}`;if(localStorage.getItem(J)){ae("Already reported today","info");return}await zi(Es(st,"buses",k),{status:"Late",statusDate:z,comments:Jg({user:"Community Alert",text:" This bus was reported late by a user.",time:"Just now",date:z})}),localStorage.setItem(J,"true"),ae("Report submitted. Thanks!","success"),De(5)},vi=async k=>{if(!st)return ae("Firebase not connected!","error");try{await ry(ol(st,"buses"),k),ae("Bus added successfully! +20 Points","success"),De(20),x("/")}catch(z){console.error(z),ae("Error adding bus","error")}},G=async k=>{if(!st)return ae("Firebase not connected!","error");const z=new Date().toDateString(),J=`voted_${k}_${z}`;localStorage.getItem(J)||(await zi(Es(st,"buses",k),{votes:TC(1)}),localStorage.setItem(J,"true"),De(1))},X=async()=>{if(!st)return ae("Firebase not connected!","error");for(const k of kC)await ry(ol(st,"buses"),k);ae("Sample buses added!","success")},te=()=>{const k=I;P(E),Ne(k)},de=(k,z)=>{if(!k){z==="from"?B([]):z==="to"?ee([]):z==="board"&&ce([]);return}const J=bC.filter(we=>we.toLowerCase().startsWith(k.toLowerCase())).slice(0,8);z==="from"?B(J):z==="to"?ee(J):z==="board"&&ce(J)},Lt=(k,z)=>{const J=k.target.value;z==="from"?P(J):z==="to"&&Ne(J),de(J,z)},en=(k,z)=>{z==="from"?(P(k),B([])):z==="to"&&(Ne(k),ee([]))},tn=()=>{const k=E.trim()||"-";x(`/search/${encodeURIComponent(I)}/${encodeURIComponent(k)}/${tt}`)},Mr=k=>{const z=k.trim()||"-";x(`/search/-/${encodeURIComponent(z)}/all`)},Ke=k=>{const z=oy(k);x(`/bus/${z}`)},nt=k=>{const z=s.find(J=>J.id===k.id);z?Ke(z):ae("Bus not found in live list","error")},Sn=b.useMemo(()=>s.filter(k=>{const z=I.toLowerCase().trim(),J=E.toLowerCase().trim(),we=(k.stops||k.route||"").toLowerCase(),ye=`${(k.from||"").toLowerCase()} ${we} ${(k.to||"").toLowerCase()}`,xe=!z||ye.includes(z),he=!J||ye.includes(J);let rt=!0;if(z&&J&&xe&&he&&ye.indexOf(z)>=ye.indexOf(J)&&(rt=!1),t==="ksrtc"&&k.type!=="KSRTC"||t==="private"&&k.type!=="Private")return!1;if(M==="upcoming"){const $n=new Date,Ai=$n.getHours()*60+$n.getMinutes();let nn=k.time;if(I&&k.detailedStops){const hs=k.detailedStops.find(fs=>fs.name.toLowerCase()===I.toLowerCase());hs&&hs.time!=="TBD"&&(nn=hs.time)}if(Ka(nn)!==-1&&Ka(nn)<Ai)return!1}const Tt=tt==="all"||k.type&&k.type.toLowerCase()===tt.toLowerCase();return xe&&he&&rt&&Tt}),[s,I,E,t,M,tt]),ia=b.useMemo(()=>{if(!v)return[];const k=new Date,z=k.getHours()*60+k.getMinutes(),J=s.filter(xe=>{if(!xe.detailedStops)return!1;const he=xe.detailedStops.find(Tt=>Tt.name.toLowerCase()===v.toLowerCase());if(!he||he.time==="TBD")return!1;const rt=Ka(he.time);return rt!==-1&&rt>=z}).map(xe=>{const he=xe.detailedStops.find(rt=>rt.name.toLowerCase()===v.toLowerCase());return{...xe,boardTime:he.time,boardMins:Ka(he.time)}}),we=new Set,ye=[];for(const xe of J){const he=`${xe.name}-${xe.route}-${xe.boardTime}`;we.has(he)||(we.add(he),ye.push(xe))}return ye.sort((xe,he)=>xe.boardMins-he.boardMins).slice(0,10)},[s,v]),oa=()=>{v?x(`/board/${encodeURIComponent(v)}`):ae("Please select a stop first","error")};let ds="Newbie";return S>=100&&(ds="Explorer"),S>=500&&(ds="Guide"),S>=1e3&&(ds="Expert"),u.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-gray-700 pb-20",children:[t==="board"&&u.jsxs("div",{className:`fixed inset-0 z-50 p-6 md:p-10 flex flex-col font-mono overflow-hidden transition-colors duration-500 ${K?"bg-black text-white":"bg-gray-50 text-gray-900"}`,children:[u.jsxs("div",{className:`flex justify-between items-start border-b-4 pb-6 mb-6 ${K?"border-teal-900":"border-teal-600"}`,children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.jsx("div",{className:"bg-teal-600 text-white font-black px-4 py-1 rounded text-sm uppercase shadow-sm",children:"Live Station Board"}),u.jsxs("div",{className:"flex items-center gap-2 text-teal-500 text-xs animate-pulse font-bold",children:[u.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," LIVE"]})]}),u.jsx("h1",{className:`text-4xl md:text-6xl font-black uppercase tracking-tighter truncate max-w-2xl ${K?"text-white":"text-gray-900"}`,children:v}),u.jsx("p",{className:`text-lg uppercase tracking-widest mt-1 ${K?"text-gray-500":"text-gray-400"}`,children:"Upcoming Departures"})]}),u.jsxs("div",{className:"flex flex-col items-end gap-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>_(!K),className:`p-2 rounded-lg transition-colors ${K?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-100"}`,children:K?u.jsx(hN,{size:24}):u.jsx(WT,{size:24})}),u.jsx("button",{onClick:()=>x("/"),className:`p-2 rounded-lg transition-colors ${K?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-900 border border-gray-200 hover:bg-gray-100"}`,children:u.jsx($v,{size:24})})]}),u.jsx(JC,{darkMode:K})]})]}),u.jsxs("div",{className:`grid grid-cols-12 gap-4 uppercase text-sm font-bold tracking-widest px-4 mb-4 ${K?"text-gray-500":"text-gray-400"}`,children:[u.jsx("div",{className:"col-span-2",children:"Time"}),u.jsx("div",{className:"col-span-4",children:"Service / Bus Name"}),u.jsx("div",{className:"col-span-4",children:"Route / Destination"}),u.jsx("div",{className:"col-span-2 text-right",children:"Type"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:ia.length>0?ia.map((k,z)=>u.jsxs("div",{className:`grid grid-cols-12 gap-4 border-l-4 p-4 items-center rounded-r-lg transition-all group ${K?"bg-gray-900 border-teal-500 hover:bg-gray-800":"bg-white border-teal-600 shadow-sm hover:bg-teal-50/30"}`,children:[u.jsx("div",{className:`col-span-2 text-2xl md:text-3xl font-bold ${K?"text-teal-300":"text-teal-700"}`,children:k.boardTime}),u.jsx("div",{className:"col-span-4",children:u.jsx("div",{className:`font-bold text-xl truncate ${K?"text-white group-hover:text-teal-200":"text-gray-900 group-hover:text-teal-800"}`,children:k.name})}),u.jsx("div",{className:`col-span-4 font-medium truncate text-lg ${K?"text-gray-400":"text-gray-500"}`,children:k.route}),u.jsx("div",{className:"col-span-2 text-right",children:u.jsx("span",{className:`px-3 py-1 rounded font-bold text-xs uppercase ${k.type==="KSRTC"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:k.type})})]},k.id)):u.jsxs("div",{className:`h-full flex flex-col items-center justify-center ${K?"text-gray-700":"text-gray-300"}`,children:[u.jsx(Ll,{size:64,className:"mb-4 opacity-20"}),u.jsx("p",{className:"text-xl font-bold",children:"No upcoming buses scheduled soon."}),u.jsx("p",{className:"text-sm",children:"Check back later or verify stop name."})]})}),u.jsxs("div",{className:`mt-6 pt-4 border-t flex justify-between items-center text-xs uppercase tracking-wider ${K?"border-gray-900 text-gray-600":"border-gray-200 text-gray-400"}`,children:[u.jsx("div",{children:"Powered by evidebus.com"}),u.jsx("div",{children:"Data relies on community contribution. Verify locally."})]})]}),u.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');
          body { font-family: 'Poppins', sans-serif; }
          .animate-marquee { animation: marquee 15s linear infinite; }
          @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
          .animate-fade-in { animation: fadeIn 0.2s ease-out forwards; }
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          ::-webkit-scrollbar { width: 4px; }
          ::-webkit-scrollbar-track { background: #f1f1f1; }
          ::-webkit-scrollbar-thumb { background: #ccc; border-radius: 2px; }
        `}),u.jsx(MC,{toasts:p}),t!=="board"&&u.jsx(DC,{setView:k=>x(`/${k==="home"?"":k}`),toggleMenu:()=>T(!g)}),u.jsx(OC,{isOpen:g,setView:k=>x(`/${k==="home"?"":k}`),closeMenu:()=>T(!1)}),u.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 ${t==="board"?"hidden":""}`,children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[u.jsxs("div",{className:"lg:col-span-8 space-y-5",children:[u.jsxs("div",{className:"lg:hidden bg-white rounded-xl p-3 shadow-sm border border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-yellow-100 p-1.5 rounded-full text-yellow-600",children:u.jsx(zv,{size:16})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"My Contribution"}),u.jsxs("span",{className:"text-[10px] text-gray-500 font-medium",children:[S," pts  ",ds]})]})]}),u.jsx("div",{className:"h-1 w-16 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${Math.min(S%100,100)}%`}})})]}),(t==="home"||t==="ksrtc"||t==="private")&&u.jsxs(u.Fragment,{children:[u.jsx(FC,{}),u.jsx(BC,{}),u.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-[0_4px_20px_rgba(0,0,0,0.05)] border border-gray-100 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 font-bold text-base",children:[u.jsx(Nd,{className:"text-teal-700",size:20}),t==="ksrtc"?"Search KSRTC Buses":t==="private"?"Search Private Buses":"Search Bus Routes"]}),u.jsx("div",{className:"flex bg-gray-50 p-1 rounded-lg mb-4 border border-gray-100",children:["all","ksrtc","private"].map(k=>u.jsx("button",{onClick:()=>kt(k),className:`flex-1 py-1.5 text-[11px] font-bold rounded-md transition-all uppercase tracking-wide ${tt===k?"bg-white text-teal-800 shadow-sm border border-gray-100":"text-gray-500 hover:text-gray-700"}`,children:k==="all"?"All Buses":k==="ksrtc"?"KSRTC / Swift":"Private Bus"},k))}),u.jsxs("div",{className:"flex flex-col gap-3 relative",children:[u.jsxs("div",{className:"w-full relative group",children:[u.jsx(lo,{className:"absolute left-3 top-3.5 text-gray-400 group-focus-within:text-teal-600 transition-colors",size:16}),u.jsx("input",{type:"text",value:I,onChange:k=>Lt(k,"from"),placeholder:"Departing From...",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium text-gray-800 focus:outline-none focus:border-teal-600 focus:bg-white focus:ring-2 focus:ring-teal-600/10 transition-all"}),Ht.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-100 rounded-b-xl shadow-xl z-50 max-h-52 overflow-y-auto",children:Ht.map((k,z)=>u.jsx("div",{onClick:()=>en(k,"from"),className:"px-4 py-2.5 hover:bg-teal-50 hover:text-teal-800 cursor-pointer text-xs font-medium border-b border-gray-50 last:border-0",children:k},z))})]}),u.jsx("div",{className:"flex justify-center -my-2 relative z-10",children:u.jsx("button",{onClick:te,className:"w-8 h-8 bg-white border border-gray-200 rounded-full flex items-center justify-center text-teal-700 shadow-sm hover:bg-teal-50 hover:rotate-180 transition-all duration-300",children:u.jsx(mT,{size:14})})}),u.jsxs("div",{className:"w-full relative group",children:[u.jsx(lo,{className:"absolute left-3 top-3.5 text-gray-400 group-focus-within:text-teal-600 transition-colors",size:16}),u.jsx("input",{type:"text",value:E,onChange:k=>Lt(k,"to"),placeholder:"Going To...",className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium text-gray-800 focus:outline-none focus:border-teal-600 focus:bg-white focus:ring-2 focus:ring-teal-600/10 transition-all"}),Q.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-100 rounded-b-xl shadow-xl z-50 max-h-52 overflow-y-auto",children:Q.map((k,z)=>u.jsx("div",{onClick:()=>en(k,"to"),className:"px-4 py-2.5 hover:bg-teal-50 hover:text-teal-800 cursor-pointer text-xs font-medium border-b border-gray-50 last:border-0",children:k},z))})]})]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx("button",{onClick:()=>{P(""),Ne("")},className:"px-5 py-3 bg-gray-100 text-gray-600 font-bold rounded-lg text-xs hover:bg-gray-200 transition-colors",children:"Clear"}),u.jsx("button",{onClick:tn,className:"flex-1 py-3 bg-teal-700 text-white font-bold rounded-lg shadow-md hover:bg-teal-800 hover:shadow-lg hover:-translate-y-0.5 transition-all text-xs uppercase tracking-wider",children:"Find My Bus"})]})]}),(t==="ksrtc"||t==="private")&&u.jsxs("div",{className:"animate-fade-in",ref:R,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[u.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[u.jsx(Ll,{size:18,className:"text-teal-600"}),t==="ksrtc"?"KSRTC Fleet":"Private Buses"]}),u.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-md",children:[u.jsx("button",{onClick:()=>w("all"),className:`px-3 py-1 text-[10px] font-bold rounded transition-all ${M==="all"?"bg-white shadow text-teal-800":"text-gray-400"}`,children:"All"}),u.jsx("button",{onClick:()=>w("upcoming"),className:`px-3 py-1 text-[10px] font-bold rounded transition-all ${M==="upcoming"?"bg-white shadow text-teal-800":"text-gray-400"}`,children:"Upcoming"})]})]}),o?u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(k=>u.jsx(sy,{},k))}):u.jsx("div",{className:"space-y-3",children:Sn.length>0?Sn.map((k,z)=>{let J=k.time,we=!1;if(I&&k.detailedStops){const he=k.detailedStops.find(rt=>rt.name.toLowerCase()===I.toLowerCase());he&&he.time!=="TBD"&&(J=he.time,we=!0)}const ye=Jl(k.distance,k.type),xe=k.type==="KSRTC"||k.type==="Swift";return u.jsxs("div",{onClick:()=>Ke(k),className:"relative bg-white rounded-2xl border border-teal-100 p-5 shadow-sm hover:shadow-md transition-all cursor-pointer overflow-hidden group",children:[u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-[-20px] font-black text-8xl text-gray-100 italic pointer-events-none select-none z-0 tracking-tighter opacity-80",children:xe?"KSRTC":"PRIVATE"}),u.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 min-w-[80px] text-center border border-gray-100",children:[u.jsx("span",{className:"block text-3xl font-bold text-gray-900 leading-none",children:J.split(" ")[0]}),u.jsx("span",{className:"block text-xs font-bold text-gray-400 uppercase mt-1",children:J.split(" ")[1]})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-xl text-teal-900 leading-tight",children:k.name}),u.jsx("p",{className:"text-sm font-bold text-gray-600 mt-0.5",children:k.route})]}),k.votes>0&&u.jsxs("div",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1 border border-green-100 shadow-sm",children:[u.jsx(Dl,{size:10,className:"fill-green-700"})," ",k.votes]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[u.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase ${xe?"bg-red-50 text-red-600 border border-red-100":"bg-blue-50 text-blue-600 border border-blue-100"}`,children:k.type}),we&&u.jsxs("span",{className:"bg-teal-50 text-teal-700 border border-teal-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Via ",I]}),u.jsxs("span",{className:"bg-gray-50 text-gray-500 border border-gray-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Crowd: ",k.crowdLevel||"Low"]}),u.jsxs("span",{className:"bg-gray-50 text-gray-500 border border-gray-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Est. Fare: ",ye?`${ye}`:"Check"]})]})]}),u.jsx("div",{className:"text-gray-300 pl-2",children:u.jsx(Wr,{size:24})})]})]},k.id)}):u.jsxs("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed border-gray-200 text-gray-400 text-xs",children:["No buses found matching your search.",s.length===0&&u.jsx("div",{className:"mt-3",children:u.jsx("button",{onClick:X,className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-md font-bold hover:bg-blue-100 border border-blue-100",children:"+ Load Sample Data"})})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"Quick Links"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>U(!O),className:"w-full flex items-center gap-2 py-2 text-xs font-bold text-teal-700 hover:bg-teal-50 hover:pl-2 rounded transition-all border-b border-gray-50 last:border-0 text-left",children:[u.jsx(Bv,{size:14})," Digital Bus Stand Display"]}),O&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg animate-fade-in border border-gray-200 mb-2 relative",children:[u.jsx("input",{className:"w-full p-2 border border-gray-200 rounded text-xs mb-2 outline-none focus:border-teal-500",placeholder:"Enter Stop Name (e.g. Pandikkad)",value:v,onChange:k=>{N(k.target.value),de(k.target.value,"board")}}),ge.length>0&&u.jsx("div",{className:"bg-white border border-gray-200 rounded text-xs mb-2 max-h-32 overflow-y-auto absolute z-20 w-full left-0 top-12 shadow-lg",children:ge.map((k,z)=>u.jsx("div",{onClick:()=>{N(k),ce([])},className:"p-2 hover:bg-teal-50 cursor-pointer border-b border-gray-50",children:k},z))}),u.jsxs("button",{onClick:oa,className:"w-full bg-teal-600 text-white text-xs font-bold py-2 rounded flex items-center justify-center gap-1 hover:bg-teal-700",children:[u.jsx(Hv,{size:12})," Open Board View"]})]}),u.jsxs("button",{onClick:()=>x("/add-bus"),className:"w-full flex items-center gap-2 py-2 text-xs font-bold text-teal-700 hover:bg-teal-50 hover:pl-2 rounded transition-all border-b border-gray-50 last:border-0 text-left",children:[u.jsx(Gh,{size:14})," Add Missing Bus"]}),u.jsxs("button",{onClick:()=>x("/depot"),className:"w-full flex items-center gap-2 py-2 text-xs font-bold text-teal-700 hover:bg-teal-50 hover:pl-2 rounded transition-all border-b border-gray-50 last:border-0 text-left",children:[u.jsx(qr,{size:14})," Depot Enquiry Numbers"]}),u.jsxs("button",{onClick:()=>x("/stands"),className:"w-full flex items-center gap-2 py-2 text-xs font-bold text-teal-700 hover:bg-teal-50 hover:pl-2 rounded transition-all border-b border-gray-50 last:border-0 text-left",children:[u.jsx(lo,{size:14})," Bus Stand List"]}),[{t:"Official KSRTC Booking",l:"https://online.keralartc.com"},{t:"Student Concession",l:"https://concessionksrtc.com/school-register"},{t:"Sabarimala Bus Pass",l:"https://sabarimala.onlineksrtcswift.com/"},{t:"Check Fare Rates (MVD)",l:"https://mvd.kerala.gov.in"},{t:"Live Traffic Status",l:"https://google.com/maps"}].map((k,z)=>u.jsxs("a",{href:k.l,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 py-2 text-xs font-medium text-gray-600 hover:bg-gray-50 hover:text-teal-700 hover:pl-2 rounded transition-all border-b border-gray-50 last:border-0",children:[u.jsx(Wr,{size:12,className:"text-gray-300"})," ",k.t]},z))]})]}),u.jsx(zC,{})]}),u.jsx($C,{onQuickSearch:Mr})]}),t==="add-bus"&&u.jsx(WC,{onCancel:()=>x("/"),onAdd:vi,showToast:ae}),t==="depot"&&u.jsx(ZC,{}),t==="bus-stands"&&u.jsx(VC,{onBack:()=>x("/")}),["about","contact","privacy","terms","disclaimer"].includes(t)&&u.jsx(jC,{type:t,onBack:()=>x("/")}),t==="results"&&u.jsxs("div",{className:"animate-fade-in",ref:R,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[u.jsx(Nd,{size:16,className:"text-teal-600"}),I?`Results: ${I}`:"All"," ",E&&`to ${E}`]}),u.jsx("button",{onClick:()=>x("/"),className:"text-[10px] text-gray-400 hover:text-teal-600 underline mt-1",children:"Back to Search"})]}),u.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-md",children:[u.jsx("button",{onClick:()=>w("all"),className:`px-2 py-1 text-[10px] font-bold rounded transition-all ${M==="all"?"bg-white shadow text-teal-800":"text-gray-400"}`,children:"All"}),u.jsx("button",{onClick:()=>w("upcoming"),className:`px-2 py-1 text-[10px] font-bold rounded transition-all ${M==="upcoming"?"bg-white shadow text-teal-800":"text-gray-400"}`,children:"Upcoming"})]})]}),o?u.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(k=>u.jsx(sy,{},k))}):u.jsx("div",{className:"space-y-3",children:Sn.length>0?Sn.map((k,z)=>{let J=k.time,we=!1;if(I&&k.detailedStops){const he=k.detailedStops.find(rt=>rt.name.toLowerCase()===I.toLowerCase());he&&he.time!=="TBD"&&(J=he.time,we=!0)}const ye=Jl(k.distance,k.type),xe=k.type==="KSRTC"||k.type==="Swift";return u.jsxs("div",{onClick:()=>Ke(k),className:"relative bg-white rounded-2xl border border-teal-100 p-5 shadow-sm hover:shadow-md transition-all cursor-pointer overflow-hidden group",children:[u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-[-20px] font-black text-8xl text-gray-100 italic pointer-events-none select-none z-0 tracking-tighter opacity-80",children:xe?"KSRTC":"PRIVATE"}),u.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 min-w-[80px] text-center border border-gray-100",children:[u.jsx("span",{className:"block text-3xl font-bold text-gray-900 leading-none",children:J.split(" ")[0]}),u.jsx("span",{className:"block text-xs font-bold text-gray-400 uppercase mt-1",children:J.split(" ")[1]})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-xl text-teal-900 leading-tight",children:k.name}),u.jsx("p",{className:"text-sm font-bold text-gray-600 mt-0.5",children:k.route})]}),k.votes>0&&u.jsxs("div",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1 border border-green-100 shadow-sm",children:[u.jsx(Dl,{size:10,className:"fill-green-700"})," ",k.votes]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[u.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase ${xe?"bg-red-50 text-red-600 border border-red-100":"bg-blue-50 text-blue-600 border border-blue-100"}`,children:k.type}),we&&u.jsxs("span",{className:"bg-teal-50 text-teal-700 border border-teal-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Via ",I]}),u.jsxs("span",{className:"bg-gray-50 text-gray-500 border border-gray-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Crowd: ",k.crowdLevel||"Low"]}),u.jsxs("span",{className:"bg-gray-50 text-gray-500 border border-gray-100 px-2.5 py-1 rounded-lg text-[10px] font-medium",children:["Est. Fare: ",ye?`${ye}`:"Check"]})]})]}),u.jsx("div",{className:"text-gray-300 pl-2",children:u.jsx(Wr,{size:24})})]})]},k.id)}):u.jsxs("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed border-gray-200 text-gray-400 text-xs",children:["No buses found matching your search.",s.length===0&&u.jsx("div",{className:"mt-3",children:u.jsx("button",{onClick:X,className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-md font-bold hover:bg-blue-100 border border-blue-100",children:"+ Load Sample Data"})})]})})]}),t==="detail"&&n&&u.jsx("div",{ref:R,children:u.jsx(qC,{bus:n,onBack:()=>{if(I){const k=E.trim()||"-";x(`/search/${encodeURIComponent(I)}/${encodeURIComponent(k)}/${tt}`)}else x("/")},addComment:vt,updateBusDetails:Bt,onVote:G,reportLate:Lr,updateCrowd:zt,toggleFavorite:Xt,isFavorite:c.some(k=>k.id===n.id),showToast:ae})})]}),u.jsx("div",{className:"hidden lg:block lg:col-span-4",children:u.jsx(HC,{setView:k=>x(`/${k}`),onSeed:X,favorites:c,onSelectFavorite:nt,points:S})})]}),t!=="board"&&u.jsx(UC,{setView:k=>x(`/${k}`),onQuickSearch:Mr})]})]})}bc.createRoot(document.getElementById("root")).render(u.jsx(yy.StrictMode,{children:u.jsx(XE,{children:u.jsx(XC,{})})}));
